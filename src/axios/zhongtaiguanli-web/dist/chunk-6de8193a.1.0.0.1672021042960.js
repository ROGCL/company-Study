(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6de8193a"],{"0bc5":function(t,e,a){"use strict";a("f7d1")},"10c5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("FilterLayout",{on:{onSubmit:t.onSubmit},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[a("el-col",{attrs:{md:12,lg:6,sm:24}},[a("el-form-item",{attrs:{label:"日期",prop:"time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期","picker-options":t.pickerOptions},model:{value:t.searchForm.time,callback:function(e){t.$set(t.searchForm,"time",e)},expression:"searchForm.time"}})],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.panelLoading,expression:"panelLoading"}],staticClass:"panel"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{sm:24,md:12,lg:{span:"4-8"}}},[a("div",{staticClass:"panel-item"},[a("div",{staticClass:"title"},[t._v("新激活设备")]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("今日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t._f("formatUnit")(t.panelData.activateDevice.today))+"\n              ")])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t._f("formatUnit")(t.panelData.activateDevice.yesterday))+"\n              ")])]),t.panelData.activateDevice.cycle?a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日同期")]),a("div",{staticClass:"value",class:-1==t.panelData.activateDevice.cycle.indexOf("-")&&0!=t.panelData.activateDevice.cycle?"up":-1!==t.panelData.activateDevice.cycle.indexOf("-")?"down":""},[t._v("\n                "+t._s((100*t.panelData.activateDevice.cycle).toFixed(2)+"%")+"\n                "),a("i",{staticClass:"iconfont",class:-1==t.panelData.activateDevice.cycle.indexOf("-")&&0!=t.panelData.activateDevice.cycle?"icon-shangzhang up":-1!==t.panelData.activateDevice.cycle.indexOf("-")?"icon-xiadie down":""})])]):t._e()])])]),a("el-col",{attrs:{sm:24,md:12,lg:{span:"4-8"}}},[a("div",{staticClass:"panel-item"},[a("div",{staticClass:"title"},[t._v("活跃用户数")]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("今日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t._f("formatUnit")(t.panelData.activateUser.today))+"\n              ")])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t._f("formatUnit")(t.panelData.activateUser.yesterday))+"\n              ")])]),t.panelData.activateUser.cycle?a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日同期")]),a("div",{staticClass:"value",class:-1==t.panelData.activateUser.cycle.indexOf("-")&&0!=t.panelData.activateUser.cycle?"up":-1!==t.panelData.activateUser.cycle.indexOf("-")?"down":""},[t._v("\n                "+t._s((100*t.panelData.activateUser.cycle).toFixed(2)+"%")+"\n                "),a("i",{staticClass:"iconfont",class:-1==t.panelData.activateUser.cycle.indexOf("-")&&0!=t.panelData.activateUser.cycle?"icon-shangzhang up":-1!==t.panelData.activateUser.cycle.indexOf("-")?"icon-xiadie down":""})])]):t._e()])])]),a("el-col",{attrs:{sm:24,md:12,lg:{span:"4-8"}}},[a("div",{staticClass:"panel-item"},[a("div",{staticClass:"title"},[t._v("收入")]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("今日")]),a("div",{staticClass:"value"},[t._v(t._s(t.panelData.allIncome.today))])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t._f("formatUnit")(t.panelData.allIncome.yesterday))+"\n              ")])]),t.panelData.allIncome.cycle?a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日同期")]),a("div",{staticClass:"value",class:-1==t.panelData.allIncome.cycle.indexOf("-")&&0!=t.panelData.allIncome.cycle?"up":-1!==t.panelData.allIncome.cycle.indexOf("-")?"down":""},[t._v("\n                "+t._s((100*t.panelData.allIncome.cycle).toFixed(2)+"%")+"\n                "),a("i",{staticClass:"iconfont",class:-1==t.panelData.allIncome.cycle.indexOf("-")&&0!=t.panelData.allIncome.cycle?"icon-shangzhang up":-1!==t.panelData.allIncome.cycle.indexOf("-")?"icon-xiadie down":""})])]):t._e()])])]),a("el-col",{attrs:{sm:24,md:12,lg:{span:"4-8"}}},[a("div",{staticClass:"panel-item"},[a("div",{staticClass:"title"},[t._v("支出")]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("今日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t._f("formatUnit")(t.panelData.expenditure.today))+"\n              ")])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t._f("formatUnit")(t.panelData.expenditure.yesterday))+"\n              ")])]),t.panelData.expenditure.cycle?a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日同期")]),a("div",{staticClass:"value",class:-1==t.panelData.expenditure.cycle.indexOf("-")&&0!=t.panelData.expenditure.cycle?" up":-1!==t.panelData.expenditure.cycle.indexOf("-")?" down":""},[t._v("\n                "+t._s((100*t.panelData.expenditure.cycle).toFixed(2)+"%")+"\n                "),a("i",{staticClass:"iconfont",class:-1==t.panelData.expenditure.cycle.indexOf("-")&&0!=t.panelData.expenditure.cycle?"icon-shangzhang up":-1!==t.panelData.expenditure.cycle.indexOf("-")?"icon-xiadie down":""})])]):t._e()])])]),a("el-col",{attrs:{sm:24,md:12,lg:{span:"4-8"}}},[a("div",{staticClass:"panel-item"},[a("div",{staticClass:"title"},[t._v("ROI")]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("今日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t.formatPercentage(t.panelData.proportion.today))+"\n              ")])]),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日")]),a("div",{staticClass:"value"},[t._v("\n                "+t._s(t._f("formatPercentage")(t.panelData.proportion.yesterday))+"\n              ")])]),t.panelData.proportion.cycle?a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[t._v("昨日同期")]),a("div",{staticClass:"value",class:-1==t.panelData.proportion.cycle.indexOf("-")&&0!=t.panelData.proportion.cycle?" up":-1!==t.panelData.proportion.cycle.indexOf("-")?" down":""},[t._v("\n                "+t._s((100*t.panelData.proportion.cycle).toFixed(2)+"%")+"\n                "),a("i",{staticClass:"iconfont",class:-1==t.panelData.proportion.cycle.indexOf("-")&&0!=t.panelData.proportion.cycle?"icon-shangzhang up":-1!==t.panelData.proportion.cycle.indexOf("-")?"icon-xiadie down":""})])]):t._e()])])])],1)],1),a("TableLayout",{attrs:{column:t.column,data:t.tableData.data,total:t.tableData.total,loading:t.tableData.loading,currentPage:t.tableOpt.currentPage},on:{pageChange:t.onPageChange,sortChange:t.onSortChange,sizeChange:t.onSizeChange},scopedSlots:t._u([{key:"is_collect",fn:function(e){return[a("div",{staticClass:"star",on:{click:function(a){return t.onStar(e.row.id)}}},[a("i",{class:e.row.is_collect?"el-icon-star-on":"el-icon-star-off"})])]}},{key:"system",fn:function(e){return[t._v(t._s(t._f("formatSystem")(e.row.system)))]}},{key:"time",fn:function(){return[a("div",[t._v("今日")]),a("div",[t._v("昨日")])]},proxy:!0},{key:"activateDevice",fn:function(e){return[a("div",[t._v("\n        "+t._s(e.row.activateDevice?e.row.activateDevice.today:"--")+"\n      ")]),a("div",[t._v("\n        "+t._s(e.row.activateDevice?e.row.activateDevice.yesterday:"--")+"\n      ")])]}},{key:"activateUser",fn:function(e){return[a("div",[t._v("\n        "+t._s(e.row.activateUser?e.row.activateUser.today:"--")+"\n      ")]),a("div",[t._v("\n        "+t._s(e.row.activateUser?e.row.activateUser.yesterday:"--")+"\n      ")])]}},{key:"allIncome",fn:function(e){return[a("div",[t._v(t._s(e.row.allIncome?e.row.allIncome.today:"--"))]),a("div",[t._v(t._s(e.row.allIncome?e.row.allIncome.yesterday:"--"))])]}},{key:"orderIncome",fn:function(e){return[a("div",[t._v(t._s(e.row.orderIncome?e.row.orderIncome.today:"--"))]),a("div",[t._v("\n        "+t._s(e.row.orderIncome?e.row.orderIncome.yesterday:"--")+"\n      ")])]}},{key:"advertIncome",fn:function(e){return[a("div",[t._v("\n        "+t._s(e.row.advertIncome?e.row.advertIncome.today:"--")+"\n      ")]),a("div",[t._v("\n        "+t._s(e.row.advertIncome?e.row.advertIncome.yesterday:"--")+"\n      ")])]}},{key:"expenditure",fn:function(e){return[a("div",[t._v(t._s(e.row.expenditure?e.row.expenditure.today:"--"))]),a("div",[t._v("\n        "+t._s(e.row.expenditure?e.row.expenditure.yesterday:"--")+"\n      ")])]}},{key:"proportion",fn:function(e){return[e.row.proportion?a("div",[a("div",[t._v(t._s(t.formatPercentage(e.row.proportion.today)))]),a("div",[t._v(t._s(t._f("formatPercentage")(e.row.proportion.yesterday)))])]):t._e()]}},{key:"option",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.onCheckApp(e.row)}}},[t._v("跳转")])]}}])})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("a481"),a("55dd"),a("3835")),s=(a("96cf"),a("1da1")),c=a("ade3"),o=a("2b38"),l=a("bb8b"),p=a("5ad4"),d=a("c1df"),v=a.n(d),u=a("2f62");function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={name:"home",components:{TableLayout:l["a"],FilterLayout:o["a"]},data:function(){return{currentTime:v()().format("YYYY-MM-DD"),searchForm:{time:v()().format("YYYY-MM-DD")},panelData:{activateDevice:{},activateUser:{},advertIncome:{},allIncome:{},expenditure:{},orderIncome:{},proportion:{}},panelLoading:!1,column:[{prop:"is_collect",label:"收藏",width:"50"},{prop:"system",label:"平台"},{prop:"title",label:"名称"},{prop:"time",label:"时间"},{prop:"activateDevice",label:"新激活设备"},{prop:"activateUser",label:"活跃用户数"},{prop:"allIncome",label:"收入",sortable:"custom"},{prop:"orderIncome",label:"订单收入",sortable:"custom"},{prop:"advertIncome",sortable:"custom",label:"广告收入"},{prop:"expenditure",label:"支出",sortable:"custom"},{prop:"proportion",label:"ROI"},{prop:"option",label:"操作"}],tableOpt:{currentPage:1,pageSize:10},tableData:{data:[],total:0,loading:!1,currentPage:1,pageSize:10},pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},sort:{prop:"",order:""}}},mounted:function(){this.fetchList(),this.fetchData()},methods:f(f({},Object(u["b"])(["GET_AUTH_MENU","getChannel","getAppVersion"])),{},{onSubmit:function(){this.tableOpt.currentPage=1,this.currentTime=this.searchForm.time,this.fetchData(),this.fetchList()},onPageChange:function(t){this.tableOpt.currentPage=t,this.fetchList()},onSizeChange:function(t){this.tableOpt.pageSize=t,this.fetchList()},fetchData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.searchForm,this.panelLoading=!0,t.next=4,this.$http.post("Index/summary",{timeBegin:e.time,timeEnd:e.time});case 4:if(a=t.sent,n=Object(r["a"])(a,2),i=n[0],s=n[1],this.panelLoading=!1,!i){t.next=11;break}return t.abrupt("return");case 11:this.panelData=s;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),fetchList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i,s,c,o,l,p,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.tableOpt,a=this.searchForm,n=this.sort,this.tableData.loading=!0,n.order||(n.prop=""),t.next=5,this.$http.post("Index/index",f(f(f({},e),n),{},{timeBegin:a.time,timeEnd:a.time}));case 5:if(i=t.sent,s=Object(r["a"])(i,2),c=s[0],o=s[1],this.tableData.loading=!1,!c){t.next=12;break}return t.abrupt("return");case 12:l=o.list,p=o.currentPage,d=o.total,this.tableData.data=l,this.tableData.currentPage=p,this.tableData.total=d;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onStar:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.$http.post("/Index/collect",{appid:e});case 4:if(a=t.sent,n=Object(r["a"])(a,2),i=n[0],n[1],!i){t.next=10;break}return t.abrupt("return");case 10:this.tableOpt.currentPage=1,this.fetchList();case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onCheckApp:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,s,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return a=e.id,n=this.$loading({lock:!0,text:"获取权限中...",background:"rgba(0, 0, 0, 0.7)"}),t.next=6,this.GET_AUTH_MENU({appId:a});case 6:if(i=t.sent,s=Object(r["a"])(i,2),c=s[0],o=s[1],n.close(),!c){t.next=14;break}return this.$notify.error({title:"获取权限出错",message:c}),t.abrupt("return");case 14:this.$router.replace(o[0].path+"?appId="+a),n.close();case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),formatIsToday:function(t){return this.currentTime===v()().format("YYYY-MM-DD")?"--":t},formatPercentage:p["formatPercentage"],outPamrms:function(){var t=this.searchForm,e=this.tableOpt;return console.log(f(f({},t),e)),f(f({},t),e)},onSortChange:function(t){var e=t.prop,a=t.order;this.sort={prop:e,order:a},this.tableOpt.currentPage=1,this.fetchList()}})},h=y,_=(a("0bc5"),a("2877")),b=Object(_["a"])(h,n,i,!1,null,"1153ce27",null);e["default"]=b.exports},"2f21":function(t,e,a){"use strict";var n=a("79e5");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,a){"use strict";var n=a("5ca1"),i=a("d8e8"),r=a("4bf8"),s=a("79e5"),c=[].sort,o=[1,2,3];n(n.P+n.F*(s((function(){o.sort(void 0)}))||!s((function(){o.sort(null)}))||!a("2f21")(c)),"Array",{sort:function(t){return void 0===t?c.call(r(this)):c.call(r(this),i(t))}})},f7d1:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6de8193a.1.0.0.1672021042960.js.map