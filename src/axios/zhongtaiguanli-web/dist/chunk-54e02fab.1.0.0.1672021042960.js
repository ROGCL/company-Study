(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54e02fab"],{"1a05":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{staticClass:"app-control",attrs:{filterable:"","popper-append-to-body":!1,placeholder:"请选择",disabled:e.disabled,multiple:"","collapse-tags":"",clearable:!0},on:{change:e.onHandleChange},scopedSlots:e._u([{key:"prefix",fn:function(){return[e.systemIcon?n("span",{staticClass:"iconfont",class:e.systemIcon}):e._e()]},proxy:!0}]),model:{value:e.insideValue,callback:function(t){e.insideValue=t},expression:"insideValue"}},[e.haveAll?n("el-option",{attrs:{label:"全部",value:"all"}}):e._e(),e._l(e.App,(function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.title}},[n("span",{staticClass:"iconfont",class:e.formatSystemIcon(t.system)},[e._v(e._s(t.title))])])}))],2)},a=[],i=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("8e6e"),n("456d"),n("ac6a"),n("3835")),o=(n("96cf"),n("1da1")),s=(n("7514"),n("ade3")),c=(n("c5f6"),n("2f62"));function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function u(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={props:{value:{type:[String,Number,Array],default:""},haveAll:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data:function(){return{insideValue:[],list:[]}},mounted:function(){this.App.length||this.fetchApp(),this.insideValue=this.value},watch:{value:function(e){this.insideValue=e},insideValue:function(e){this.$emit("input",e)}},computed:m(m({},Object(c["d"])({App:function(e){return e.app.data}})),{},{systemIcon:function(e){var t=e.App,n=e.insideValue,r=t.find((function(e){return e.id===n}));return r?this.formatSystemIcon(r.system):""}}),methods:m(m({},Object(c["b"])(["getApp"])),{},{fetchApp:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getApp();case 2:if(t=e.sent,n=Object(i["a"])(t,2),r=n[0],a=n[1],this.tableData.loading=!1,!r){e.next=9;break}return e.abrupt("return");case 9:this.list=a;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatSystemIcon:function(e){switch(String(e)){case"1":return"icon-anzhuo";case"2":return"icon-ios";case"3":return"icon-weixin";case"4":return"icon-baidu";case"5":return"icon-chrome";default:return""}},onHandleChange:function(e){var t,n=this,r=l(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;"all"==a?function(){var e=[];n.insideValue=[],n.App.forEach((function(t){e.push(t.id)})),n.insideValue=[].concat(e),n.$emit("change",e)}():this.$emit("change",e)}}catch(i){r.e(i)}finally{r.f()}}})},h=f,b=(n("6482"),n("2877")),y=Object(b["a"])(h,r,a,!1,null,"02a406ea",null);t["a"]=y.exports},"314c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("FilterLayout",{on:{onSubmit:e.onSubmit},scopedSlots:e._u([{key:"btn-option",fn:function(){return[n("el-button",{attrs:{type:"primary"},on:{click:e.onShowAdd}},[e._v("数据同步")])]},proxy:!0}]),model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[n("el-col",{attrs:{md:6,sm:12}},[n("el-form-item",{attrs:{label:"操作时间"}},[n("dataPicker",{attrs:{datevalue:e.searchForm.time},on:{"update:datevalue":function(t){return e.$set(e.searchForm,"time",t)}}})],1)],1),n("el-col",{attrs:{md:6,sm:12}},[n("el-form-item",{attrs:{label:"操作人",prop:"admin_id"}},[n("el-select",{attrs:{placeholder:"请选择",clearable:!0},model:{value:e.searchForm.admin_id,callback:function(t){e.$set(e.searchForm,"admin_id",t)},expression:"searchForm.admin_id"}},e._l(e.OperationAdminList,(function(e){return n("el-option",{key:e.admin_id,attrs:{label:e.realname,value:e.admin_id}})})),1)],1)],1),n("el-col",{attrs:{md:6,sm:12}},[n("el-form-item",{attrs:{label:"同步应用",prop:"appid"}},[n("SelectApp",{model:{value:e.searchForm.appid,callback:function(t){e.$set(e.searchForm,"appid",t)},expression:"searchForm.appid"}})],1)],1),n("el-col",{attrs:{md:6,sm:12}},[n("el-form-item",{attrs:{label:"同步数据表",prop:"synchronous_id"}},[n("el-select",{attrs:{placeholder:"请选择",clearable:!0},model:{value:e.searchForm.synchronous_id,callback:function(t){e.$set(e.searchForm,"synchronous_id",t)},expression:"searchForm.synchronous_id"}},e._l(e.synchronousList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),n("TableLayout",{attrs:{column:e.column,data:e.tableData.data,total:e.tableData.total,loading:e.tableData.loading,currentPage:e.tableOpt.currentPage},on:{sizeChange:e.onSizeChange,pageChange:e.onPageChange}}),n("el-dialog",{attrs:{title:"数据同步",visible:e.addVisible},on:{"update:visible":function(t){e.addVisible=t}}},[n("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"150px"}},[n("el-form-item",{attrs:{label:"同步数据表",prop:"synchronous_id"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.synchronous_id,callback:function(t){e.$set(e.addForm,"synchronous_id",t)},expression:"addForm.synchronous_id"}},e._l(e.synchronousList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"同步应用",prop:"appid"}},[n("SelectApp",{model:{value:e.addForm.appid,callback:function(t){e.$set(e.addForm,"appid",t)},expression:"addForm.appid"}})],1),n("el-form-item",{attrs:{label:"同步时间范围",prop:"time"}},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd",clearable:!1,"popper-append-to-body":!1,"unlink-panels":""},model:{value:e.addForm.time,callback:function(t){e.$set(e.addForm,"time",t)},expression:"addForm.time"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("确 定")])],1)],1)],1)},a=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("6b54"),n("ade3")),o=n("3835"),s=(n("96cf"),n("1da1")),c=n("2b38"),l=n("bb8b"),u=n("cff8"),d=n.n(u),p=n("1a05"),m=n("5e7d");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={components:{FilterLayout:c["a"],TableLayout:l["a"],SelectApp:p["a"]},data:function(){return{pickerOptions:m["b"],searchForm:{admin_id:"",appid:[],synchronous_id:"",time:""},addVisible:!1,addForm:{synchronous_id:"",appid:[],time:""},column:[{prop:"create_time",label:"操作时间"},{prop:"realname",label:"操作人"},{prop:"appid",label:"同步应用"},{prop:"synchronous_id",label:"同步数据表"},{prop:"synchronous_time",label:"同步时间范围",width:"120px"}],tableData:{data:[],total:0,loading:!1,currentPage:1,pageSize:10},tableOpt:{currentPage:1,pageSize:10},synchronousList:[],OperationAdminList:[]}},mounted:function(){this.fetchData(),this.getsynchronous(),this.getOperationAdminList()},methods:{fetchData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.searchForm,e.next=3,this.$http.post("data_synchronization/index",h({appid:this.searchForm.appid.toString(),synchronous_id:this.searchForm.synchronous_id,admin_id:this.searchForm.admin_id,timeBegin:t["time"]?t["time"][0]:"",timeEnd:t["time"]?t["time"][1]:""},this.tableOpt));case 3:if(n=e.sent,r=Object(o["a"])(n,2),a=r[0],i=r[1],!a){e.next=9;break}return e.abrupt("return");case 9:s=i.list,c=i.currentPage,l=i.total,this.tableData.data=s,this.tableData.currentPage=c,this.tableData.total=l;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getsynchronous:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("data_synchronization/getOperationList",{loginId:d.a.get("user")["id"],loginToken:d.a.get("loginToken")});case 2:if(t=e.sent,n=Object(o["a"])(t,2),r=n[0],a=n[1],!r){e.next=8;break}return e.abrupt("return");case 8:this.synchronousList=a;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getOperationAdminList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("data_synchronization/getOperationAdminList",{loginId:d.a.get("user")["id"],loginToken:d.a.get("loginToken")});case 2:if(t=e.sent,n=Object(o["a"])(t,2),r=n[0],a=n[1],!r){e.next=8;break}return e.abrupt("return");case 8:console.log(a),this.OperationAdminList=a;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onAdd:function(){var e=this;this.$refs["addForm"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,r){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,e.$http.post("data_synchronization/synchronization",{timeBegin:e.addForm["time"][0],timeEnd:e.addForm["time"][1],appid:e.addForm.appid.toString(),synchronous_id:e.addForm.synchronous_id});case 4:if(a=t.sent,i=Object(o["a"])(a,2),s=i[0],i[1],!s){t.next=10;break}return t.abrupt("return");case 10:e.$message({message:"同步成功",type:"success"}),e.addVisible=!1,e.fetchData();case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},onShowAdd:function(){this.addVisible=!0,this.edit=!1,this.$refs["addForm"]&&this.$refs["addForm"].resetFields()},onSubmit:function(e){this.tableOpt.currentPage=1,this.fetchData(!0)},onPageChange:function(e){this.tableOpt.currentPage=e,this.fetchData()},onSizeChange:function(e){this.tableOpt.pageSize=e,this.fetchData()}}},y=b,g=n("2877"),v=Object(g["a"])(y,r,a,!1,null,"422416cc",null);t["default"]=v.exports},"5e7d":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n("c1df"),a=n.n(r),i={shortcuts:[{text:"昨天",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-864e5),e.$emit("pick",[n,t])}},{text:"近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"近30天",onClick:function(e){var t=a()().subtract(1,"months").format("YYYY-MM-DD"),n=a()().format("YYYY-MM-DD");e.$emit("pick",[t,n])}},{text:"近60天",onClick:function(e){var t=a()().subtract(2,"months").format("YYYY-MM-DD"),n=a()().format("YYYY-MM-DD");e.$emit("pick",[t,n])}},{text:"近90天",onClick:function(e){var t=a()().subtract(3,"months").format("YYYY-MM-DD"),n=a()().format("YYYY-MM-DD");e.$emit("pick",[t,n])}},{text:"本月",onClick:function(e){var t=new Date,n=t.getFullYear(),r=t.getMonth()+1,a=new Date(n+"-"+r+"-01");e.$emit("pick",[a,t])}},{text:"上个月",onClick:function(e){var t=a()().subtract(1,"months").endOf("month"),n=t.format("YYYY-MM-DD"),r=t.format("YYYY-MM-01");e.$emit("pick",[r,n])}}]},o=function(e){return[{label:"天",value:1,disabled:!1},{label:"周",value:2,disabled:a()(e[1]).diff(a()(e[0]),"days")<7},{label:"月",value:3,disabled:a()(e[1]).diff(a()(e[0]),"months")<1}]},s=[{label:"总订单统计",value:0,disabled:!1}]},6482:function(e,t,n){"use strict";n("f41b")},f41b:function(e,t,n){}}]);
//# sourceMappingURL=chunk-54e02fab.1.0.0.1672021042960.js.map