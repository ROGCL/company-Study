(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-604676dc"],{"5e7d":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i}));var n=a("c1df"),r=a.n(n),o={shortcuts:[{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"近30天",onClick:function(e){var t=r()().subtract(1,"months").format("YYYY-MM-DD"),a=r()().format("YYYY-MM-DD");e.$emit("pick",[t,a])}},{text:"近60天",onClick:function(e){var t=r()().subtract(2,"months").format("YYYY-MM-DD"),a=r()().format("YYYY-MM-DD");e.$emit("pick",[t,a])}},{text:"近90天",onClick:function(e){var t=r()().subtract(3,"months").format("YYYY-MM-DD"),a=r()().format("YYYY-MM-DD");e.$emit("pick",[t,a])}},{text:"本月",onClick:function(e){var t=new Date,a=t.getFullYear(),n=t.getMonth()+1,r=new Date(a+"-"+n+"-01");e.$emit("pick",[r,t])}},{text:"上个月",onClick:function(e){var t=r()().subtract(1,"months").endOf("month"),a=t.format("YYYY-MM-DD"),n=t.format("YYYY-MM-01");e.$emit("pick",[n,a])}}]},i=function(e){return[{label:"天",value:1,disabled:!1},{label:"周",value:2,disabled:r()(e[1]).diff(r()(e[0]),"days")<7},{label:"月",value:3,disabled:r()(e[1]).diff(r()(e[0]),"months")<1}]},c=[{label:"总订单统计",value:0,disabled:!1}]},aed4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("FilterLayout",{on:{onSubmit:e.onSubmit},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("el-col",{attrs:{md:12,lg:6,sm:24}},[a("el-form-item",{attrs:{label:"时间",prop:"time"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd",clearable:!1,"append-to-body":!1,"unlink-panels":""},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1)],1),a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"渠道",prop:"channel"}},[a("el-select",{attrs:{placeholder:"全部渠道",multiple:"","popper-append-to-body":!1,"multiple-limit":10,"reserve-keyword":!0,filterable:""},model:{value:e.searchForm.channel,callback:function(t){e.$set(e.searchForm,"channel",t)},expression:"searchForm.channel"}},e._l(e.channel,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],1),a("TableLayout",{attrs:{column:e.column,data:e.tableData.data,total:e.tableData.total,loading:e.tableData.loading,currentPage:e.tableOpt.currentPage,params:e.searchForm,leadOut:!0},on:{pageChange:e.onPageChange}})],1)},r=[],o=(a("8e6e"),a("3835")),i=(a("96cf"),a("1da1")),c=(a("ac6a"),a("456d"),a("ade3")),l=a("2ef0"),s=a.n(l),u=a("c1df"),p=a.n(u),m=a("2f62"),b=a("2b38"),d=a("bb8b"),f=a("5e7d");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(c["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={components:{FilterLayout:b["a"],TableLayout:d["a"]},data:function(){return{select:"1",searchForm:{time:[p()().subtract(30,"d").format("YYYY-MM-DD"),p()().format("YYYY-MM-DD")],channel:[]},column:[{prop:"id",label:"ID"},{prop:"appid",label:"APPID"},{prop:"channel",label:"渠道"},{prop:"app_version",label:"版本"},{prop:"system",label:"系统"},{prop:"imei",label:"imei"},{prop:"idfa",label:"idfa"},{prop:"device",label:"设备"},{prop:"system_version",label:"系统版本"},{prop:"mac",label:"mac地址"},{prop:"ip",label:"ip"},{prop:"behavior",label:"行为"},{prop:"time_before",label:"行为开始时间"},{prop:"time_happen",label:"行为结束时间"},{prop:"time_continue",label:"持续时间"},{prop:"time_reg",label:"创建时间"}],tableOpt:{currentPage:1,pageSize:10},countBar:{},pickerOptions:f["b"],isNewUserOption:f["a"]}},mounted:function(){this.fetchList(),this.fetchCount()},computed:g(g({},Object(m["d"])({tableData:function(e){return e.SDK_count.list},count:function(e){return e.SDK_count.count.data},countLoading:function(e){return e.SDK_count.count.loading}})),{},{countData:function(){var e=this.count;if(!e||!Object.keys(e).length)return{legendData:[],xAxisData:[],data:[],yName:"单"};var t=e.date,a=e.list,n=t,r=Object.keys(a),o=s.a.values(a);return{legendData:r,xAxisData:n,data:o,yName:"单"}},countBarData:function(){var e=this.countBar;if(!e||!Object.keys(e).length)return{tooltip:{trigger:"axis",borderRadius:6},xAxis:[],yAxis:[],series:[],legend:[]};var t=e.list,a=["新增","注册","下单","支付成功","退单  "],n=s.a.values(t).map((function(e){return e.data})),r=n&&n.length?n[0]:[];return{tooltip:{trigger:"axis",borderRadius:6,formatter:function(e){var t=e[0],a=e[1],n=t.data,o=(a.data/r[a["dataIndex"]-1]*100).toFixed(0);return a["dataIndex"]?"订单数: ".concat(n,"<br>转化率: ").concat("NAN"!==o?o:0,"%"):"订单数: ".concat(n)}},legend:{data:["订单数","转化率"]},xAxis:[{type:"category",data:a,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",scale:!0,name:"订单数"},{type:"value",scale:!0,name:"转化率",show:!1}],series:[{name:"订单数",type:"bar",barWidth:"60%",data:r},{name:"转化率",type:"line",data:r}]}},timeTypeConfig:function(){var e=this.searchForm.time;return Object(f["c"])(e)}}),methods:g(g({},Object(m["b"])(["getSDKCountList","getSDKCountCount"])),{},{onSubmit:function(e){this.tableOpt.currentPage=1,this.fetchList(),this.fetchCount()},onPageChange:function(e){this.tableOpt.currentPage=e,this.fetchList()},onSelectChange:function(){this.fetchCount()},fetchList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.searchForm,a=this.tableOpt,e.next=3,this.getSDKCountList(g(g(g({},t),a),{},{navCate:2,channel:t["channel"].join(","),timeBegin:t["time"][0],timeEnd:t["time"][1]}));case 3:if(n=e.sent,r=Object(o["a"])(n,2),i=r[0],r[1],!i){e.next=9;break}return e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchCount:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.searchForm,a=this.select,e.next=3,this.getSDKCountCount(g(g({},t),{},{select:a,navCate:1,channel:t["channel"].join(","),timeBegin:t["time"][0],timeEnd:t["time"][1]}));case 3:if(n=e.sent,r=Object(o["a"])(n,2),i=r[0],r[1],!i){e.next=9;break}return e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},D=v,y=a("2877"),Y=Object(y["a"])(D,n,r,!1,null,"4c1c69ee",null);t["default"]=Y.exports}}]);
//# sourceMappingURL=chunk-604676dc.1.0.0.1672021042960.js.map