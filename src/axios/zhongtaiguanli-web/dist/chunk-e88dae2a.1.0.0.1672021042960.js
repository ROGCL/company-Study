(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e88dae2a"],{"0495":function(t,e,a){},"11b0":function(t,e,a){"use strict";a("0495")},"5e7d":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return i}));var r=a("c1df"),o=a.n(r),n={shortcuts:[{text:"昨天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"近30天",onClick:function(t){var e=o()().subtract(1,"months").format("YYYY-MM-DD"),a=o()().format("YYYY-MM-DD");t.$emit("pick",[e,a])}},{text:"近60天",onClick:function(t){var e=o()().subtract(2,"months").format("YYYY-MM-DD"),a=o()().format("YYYY-MM-DD");t.$emit("pick",[e,a])}},{text:"近90天",onClick:function(t){var e=o()().subtract(3,"months").format("YYYY-MM-DD"),a=o()().format("YYYY-MM-DD");t.$emit("pick",[e,a])}},{text:"本月",onClick:function(t){var e=new Date,a=e.getFullYear(),r=e.getMonth()+1,o=new Date(a+"-"+r+"-01");t.$emit("pick",[o,e])}},{text:"上个月",onClick:function(t){var e=o()().subtract(1,"months").endOf("month"),a=e.format("YYYY-MM-DD"),r=e.format("YYYY-MM-01");t.$emit("pick",[r,a])}}]},i=function(t){return[{label:"天",value:1,disabled:!1},{label:"周",value:2,disabled:o()(t[1]).diff(o()(t[0]),"days")<7},{label:"月",value:3,disabled:o()(t[1]).diff(o()(t[0]),"months")<1}]},c=[{label:"总订单统计",value:0,disabled:!1}]},"64bd":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("FilterLayout",{on:{onSubmit:t.onSubmit},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"开发者APPID",prop:"platform_appid"}},[a("el-input",{attrs:{placeholder:"请输入开发者APPID"},model:{value:t.searchForm.platform_appid,callback:function(e){t.$set(t.searchForm,"platform_appid",e)},expression:"searchForm.platform_appid"}})],1)],1),a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"星图账户ID",prop:"account_id"}},[a("el-input",{attrs:{placeholder:"请输入星图账户ID"},model:{value:t.searchForm.account_id,callback:function(e){t.$set(t.searchForm,"account_id",e)},expression:"searchForm.account_id"}})],1)],1),a("el-col",{attrs:{md:12,lg:6,sm:24}},[a("el-form-item",{attrs:{label:"添加时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions,"value-format":"yyyy-MM-dd",clearable:!1,"popper-append-to-body":!1,"unlink-panels":""},model:{value:t.searchForm.time,callback:function(e){t.$set(t.searchForm,"time",e)},expression:"searchForm.time"}})],1)],1)],1),a("TableLayout",{attrs:{column:t.column,data:t.tableData.data,total:t.tableData.total,loading:t.tableData.loading,currentPage:t.tableOpt.currentPage,params:t.searchForm,layout:"total, prev, pager, next"},on:{pageChange:t.onPageChange},scopedSlots:t._u([{key:"table-option",fn:function(){return[a("el-button",{attrs:{type:"primary"},on:{click:t.onShowAdd}},[t._v("新增授权")])]},proxy:!0},{key:"option",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.onEdit(e.row)}}},[t._v("编辑")])]}}])}),a("el-dialog",{attrs:{title:"星图账户开发者授权",visible:t.addVisible},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"150px",rules:t.addRules}},[a("el-form-item",{attrs:{label:"开发者APPID",prop:"platform_appid"}},[a("el-input",{attrs:{placeholder:"在巨量引擎应用管理中获取",disabled:t.edit},model:{value:t.addForm.platform_appid,callback:function(e){t.$set(t.addForm,"platform_appid",e)},expression:"addForm.platform_appid"}})],1),a("el-form-item",{attrs:{label:"Secret",prop:"secret"}},[a("el-input",{attrs:{placeholder:"在巨量引擎-应用管理-设置中获取"},model:{value:t.addForm.secret,callback:function(e){t.$set(t.addForm,"secret",e)},expression:"addForm.secret"}})],1),a("el-form-item",{attrs:{label:"auth_code",prop:"auth_code"}},[a("el-input",{attrs:{placeholder:"通过粘贴授权URL获取(有效期10分钟)"},model:{value:t.addForm.auth_code,callback:function(e){t.$set(t.addForm,"auth_code",e)},expression:"addForm.auth_code"}})],1),a("el-form-item",{attrs:{label:"星图账户ID",prop:"account_id"}},[a("el-input",{attrs:{placeholder:"星图账户ID",disabled:t.edit},model:{value:t.addForm.account_id,callback:function(e){t.$set(t.addForm,"account_id",e)},expression:"addForm.account_id"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("确 定")])],1)],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("3835")),i=(a("96cf"),a("1da1")),c=a("ade3"),l=(a("c1df"),a("2f62")),s=a("2b38"),d=a("bb8b"),u=a("5e7d");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={components:{FilterLayout:s["a"],TableLayout:d["a"]},data:function(){return{pickerOptions:u["b"],column:[{prop:"platform_appid",label:"开发者APPID"},{prop:"account_id",label:"星图账户ID"},{prop:"secret",label:"Secret"},{prop:"time_add",label:"添加时间"},{prop:"option",label:"操作"}],searchForm:{account_id:"",platform_appid:"",time:[]},tableOpt:{currentPage:1,pageSize:10},tableData:{data:[],total:0,loading:!1,currentPage:1,pageSize:10},addVisible:!1,addForm:{platform_appid:"",auth_code:"",secret:"",account_id:""},addRules:{platform_appid:[{required:!0,message:"请输入开发者APPID"}],secret:[{required:!0,message:"请输入秘钥"}],auth_code:[{required:!0,message:"请输入验证auth_code"}],account_id:[{required:!0,message:"请输入星图账户ID"}]},edit:!1}},mounted:function(){this.fetchList()},computed:m({},Object(l["d"])({channel:function(t){return t.channel.data},App:function(t){return t.app.data}})),methods:{onSubmit:function(){this.tableOpt.currentPage=1,this.fetchList()},onPageChange:function(t){this.tableOpt.currentPage=t,this.fetchList()},fetchList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,r,o,i,c,l,s,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.searchForm,a=this.tableOpt,this.tableData.loading=!0,t.next=4,this.$http.post("Invest_Config/authorizationXtList",m(m(m({},e),a),{},{timeBegin:this.searchForm["time"][0],timeEnd:this.searchForm["time"][1]}));case 4:if(r=t.sent,o=Object(n["a"])(r,2),i=o[0],c=o[1],this.tableData.loading=!1,!i){t.next=11;break}return t.abrupt("return");case 11:l=c.list,s=c.currentPage,d=c.total,this.tableData.data=l,this.tableData.currentPage=s,this.tableData.total=d;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onShowAdd:function(){this.addVisible=!0,this.edit=!1,this.$refs["addForm"]&&this.$refs["addForm"].resetFields()},onAdd:function(){var t=this;this.$refs["addForm"].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a,r){var o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.$http.post("Invest_Config/authorizationXt",m({},t.addForm));case 4:if(o=e.sent,i=Object(n["a"])(o,2),c=i[0],i[1],!c){e.next=10;break}return e.abrupt("return");case 10:t.$message({message:t.edit?"编辑授权成功":"新增授权成功",type:"success"}),t.addVisible=!1,t.fetchList();case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},onEdit:function(t){var e=this;this.addVisible=!0,this.edit=!0,this.$nextTick((function(){e.addForm=m(m({},e.addForm),t)}))}}},b=f,h=(a("11b0"),a("2877")),g=Object(h["a"])(b,r,o,!1,null,"6aecbe53",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-e88dae2a.1.0.0.1672021042960.js.map