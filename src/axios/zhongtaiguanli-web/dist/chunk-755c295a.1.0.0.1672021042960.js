(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-755c295a"],{"0049":function(e,t,n){},"06bb":function(e,t,n){"use strict";n("f122")},"0940":function(e,t,n){"use strict";n("aa6e")},"0cf4":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));n("7514"),n("c5f6");var a=[{label:"字节-巨量引擎",value:1,url:"https://mapi.cqdingyan.com/invest_watch?AID=__AID__&AID_NAME=__AID_NAME__&ADVERTISER_ID=__ADVERTISER_ID__&CID=__CID__&CID_NAME=__CID_NAME__&CAMPAIGN_ID=__CAMPAIGN_ID__&CAMPAIGN_NAME=__CAMPAIGN_NAME__&CTYPE=__CTYPE__&CSITE=__CSITE__&CONVERT_ID=__CONVERT_ID__&REQUEST_ID=__REQUEST_ID__&SL=__SL__&MAC=__MAC__&MAC1=__MAC1__&IP=__IP__&UA=__UA__&GEO=__GEO__&TS=__TS__&CALLBACK_PARAM=__CALLBACK_PARAM__&CALLBACK_URL=__CALLBACK_URL__&MODEL=__MODEL__&UNION_SITE=__UNION_SITE__&IMEI=__IMEI__&ANDROIDID=__ANDROIDID__&OAID=__OAID__&OAID_MD5=__OAID_MD5__&OS=__OS__&IDFA=__IDFA__"},{label:"百度-SEM",value:4,url:"https://mapi.cqdingyan.com/invest_watch?AID={{PLAN_ID}}&ADVERTISER_ID={{USER_ID}}&CID={{IDEA_ID}}&CAMPAIGN_ID={{UNIT_ID}}&REQUEST_ID={{CLICK_ID}}&MAC={{MAC}}&MAC1={{MAC_MD5}}&IP={{IP}}&UA={{UA}}&TS={{TS}}&CALLBACK_URL={{CALLBACK_URL}}&IMEI={{IMEI_MD5}}&IDFA={{IDFA}}&ANDROIDID={{ANDROID_ID_MD5}}&OAID={{OAID}}&OS={{OS}}"},{label:"快手-磁力引擎",value:5,url:"https://mapi.cqdingyan.com/invest_watch?AID=__DID__&AID_NAME=__DNAME__&ADVERTISER_ID=__ACCOUNTID__&CID=__CID__&CAMPAIGN_ID=__AID__&CSITE=__CSITE__&MAC=__MAC2__&MAC1=__MAC3__&IP=__IP__&UA=__UA__&TS=__TS__&CALLBACK_URL=__CALLBACK__&IMEI=__IMEI2__&IDFA=__IDFA2__&ANDROIDID=__ANDROIDID2__&OAID=__OAID__&OS=__OS__&KS_IMEI3=__IMEI3__&KS_ANDROIDID3=__ANDROIDID3__&KS_IDFA3=__IDFA3__&MODEL=__MODEL__&OAID_MD5=__OAID2__"},{label:"腾讯广告",value:2,url:"https://mapi.cqdingyan.com/invest_watch?ADVERTISER_ID=__ACCOUNT_ID__&CAMPAIGN_ID=__ADGROUP_ID__&AID=__AD_ID__&IMEI=__MUID__&IDFA=__MUID__&REQUEST_ID=__CLICK_ID__&IP=__IP__&UA=__USER_AGENT__&TS=__CLICK_TIME__&AID_NAME=__CAMPAIGN_NAME__&CID_NAME=__AD_NAME__&CALLBACK_URL=__CALLBACK__&MODEL=__MODEL__&ANDROIDID=__HASH_ANDROID_ID__&OAID=__OAID__&OAID_MD5=__HASH_OAID__&P_CAMPAIGN_ID=__CAMPAIGN_ID__&ad_platform_type=__AD_PLATFORM_TYPE__&ad_type=__AD_TYPE__&agency_id=__AGENCY_ID__&click_sku_id=__CLICK_SKU_ID__&billing_event=__BILLING_EVENT__&deeplink_url=__DEEPLINK_URL__&page_url=__PAGE_URL__&device_os_type=__DEVICE_OS_TYPE__&process_time=__PROCESS_TIME__&promoted_object_id=__PROMOTED_OBJECT_ID__&promoted_object_type=__PROMOTED_OBJECT_TYPE__&real_cost=__REAL_COST__&request_id=__REQUEST_ID__&impression_id=__IMPRESSION_ID__&site_set=__SITE_SET__&muid=__MUID__&encrypted_position_id=__ENCRYPTED_POSITION_ID__&ipv6=__IPV6__&site_set_name=__SITE_SET_NAME__"},{label:"微信广告",value:19,url:"https://mapi.cqdingyan.com/invest_watch?"},{label:"星图-传播任务（KOL）",value:8,url:"https://mapi.cqdingyan.com/invest_watch?AID=__ORDER_ID__&CAMPAIGN_ID=__DEMAND_ID__&CID=__ITEM_ID__&IP=__IP__&UA=__UA__&MODEL=__MODEL__&TS=__TS__&CAMPAIGN_ID=__DEMAND_ID__&CALLBACK_URL=__CALLBACK_URL__&CALLBACK_PARAM=__CALLBACK_PARAM__&OS=__OS__"},{label:"星图-投稿播放CPM（KOL）",value:14,url:"https://mapi.cqdingyan.com/invest_watch?AID=__ORDER_ID__&CAMPAIGN_ID=__DEMAND_ID__&CID=__ITEM_ID__&IP=__IP__&UA=__UA__&MODEL=__MODEL__&TS=__TS__&CAMPAIGN_ID=__DEMAND_ID__&CALLBACK_URL=__CALLBACK_URL__&CALLBACK_PARAM=__CALLBACK_PARAM__&OS=__OS__"},{label:"星图-投稿安装CPI（KOL）",value:11,url:"https://mapi.cqdingyan.com/invest_watch?AID=__ORDER_ID__&CAMPAIGN_ID=__DEMAND_ID__&CID=__ITEM_ID__&MAC=__MAC__&MAC1=__MAC1__&IP=__IP__&UA=__UA__&GEO=__GEO__&CALLBACK_PARAM=__CALLBACK_PARAM__&CALLBACK_URL=__CALLBACK_URL__&MODEL=__MODEL__&IMEI=__IMEI__&IDFA=__IDFA__&ANDROIDID=__ANDROIDID__&OAID=__OAID__&OAID_MD5=__OAID_MD5__&OS=__OS__&TS=__TS__"},{label:"星图-投稿激活CPA（KOL）",value:17,url:"https://mapi.cqdingyan.com/invest_watch?AID=__ORDER_ID__&CAMPAIGN_ID=__DEMAND_ID__&CID=__ITEM_ID__&MAC=__MAC__&MAC1=__MAC1__&IP=__IP__&UA=__UA__&GEO=__GEO__&CALLBACK_PARAM=__CALLBACK_PARAM__&CALLBACK_URL=__CALLBACK_URL__&MODEL=__MODEL__&IMEI=__IMEI__&IDFA=__IDFA__&ANDROIDID=__ANDROIDID__&OAID=__OAID__&OAID_MD5=__OAID_MD5__&OS=__OS__&TS=__TS__"},{label:"快手-磁力聚星（KOL）",value:9,url:"https://mapi.cqdingyan.com/invest_watch?MAC=__MAC3__&IP=__IP__&TS=__TS__&CALLBACK_URL=__CALLBACK__&IMEI=__IMEI2__&IDFA=__IDFA2__&ANDROIDID=__ANDROIDID2__&OAID=__OAID__&OS=__OS__&MISSION_ID=__MISSION_ID__&ORDER_ID=__ORDER_ID__&DID=__DID__"},{label:"B站",value:6,url:"https://mapi.cqdingyan.com/invest_watch?AID=__CAMPAIGNID__&ADVERTISER_ID=__ACCOUNTID__&CID=__CREATIVEID__&CAMPAIGN_ID=__AID__&MAC=__MAC1__&IP=__IP__&UA=__UA__&TS=__TS__&CALLBACK_URL=__CALLBACKURL__&IMEI=__IMEI__&IDFA=__IDFA__&ANDROIDID=__ANDROIDID__&OAID=__OAID__&OS=__OS__&BZ_TRACKID=__TRACKID__&BZ_UNITID=__UNITID__&CAID1=__CAID__&BZ_AAID=__AAID__&MODEL=__MODEL__&BZ_SHOPID=__SHOPID__&BZ_UPMID=__UPMID__"},{label:"椰子传媒",value:7,url:"https://mapi.cqdingyan.com/invest_watch?IP={ip}&TS={UNIXMILLI}&IMEI={imeimd5}&OAID={oaid}&CALLBACK_URL={callback}"},{label:"xmob",value:12,url:"https://mapi.cqdingyan.com/invest_watch?IP={ip}&UA={ua}&MAC={mac}&MAC1={mac_md5}&IMEI={imei_md5}&ANDROIDID={android_md5}&OAID={oaid}&CALLBACK_URL={callback}&MODCID={mob_cid}&CAID={caid}&IDFA={idfa}&AID={plan_id}"},{label:"落地页",value:"0"},{label:"华为",value:13,url:"https://mapi.cqdingyan.com/invest_watch?AID=__AID__&AID_NAME=__AID_NAME__&CID_NAME=__GROUP_NAME__&CAMPAIGN_ID=__RTAID__&TS=__TS__&ACTION_TYPE=__ACTION_TYPE__&CALLBACK_URL=__CALLBACK__&OAID=__OAID__&CID=__GROUP_ID__"},{label:"搜狗SEM",value:16,url:"https://mapi.cqdingyan.com/invest_watch?ACCOUNT_ID={{ACCOUNT_ID}}&PLAN_ID={{PLAN_ID}}&GROUP_ID={{GROUP_ID}}&CREATIVE_ID={{CREATIVE_ID}}&CALLBACK_URL={{CALLBACK_URL}}&SG_VID={{SG_VID}}&CLICK_ID={{CLICK_ID}}&IMEI_MD5={{IMEI_MD5}}&ANDROID_ID_MD5={{ANDROID_ID_MD5}}&OAID={{OAID}}&IDFA={{IDFA}}&IP={{IP}}&UA={{UA}}&OS={{OS}}&TS={{TS}}&SIGN=--"},{label:"小红书落地页",value:18},{label:"其他",value:15,url:""}],r=function(e){var t,n=e.appid,r=e.origin,i=e.system_create,o=e.system,s=e.system2,c=e.appid2;if("19"!=i&&Number(c)>0&&Number(s)>0?t="&nt_appid=".concat(n,"&nt_platform=").concat(i,"&nt_channel=").concat(r,"&nt_os=").concat(o,"&nt2_os=").concat(s,"&nt2_appid=").concat(c):"19"==i&&Number(c)>0&&Number(s)>0?t="nt_appid=".concat(n,"&nt_platform=").concat(i,"&nt_channel=").concat(r,"&nt_os=").concat(o,"&nt2_os=").concat(s,"&nt2_appid=").concat(c):"19"==i&&0==Number(c)&&0==Number(s)?t="nt_appid=".concat(n,"&nt_platform=").concat(i,"&nt_channel=").concat(r,"&nt_os=").concat(o):"19"!=i&&0==Number(c)&&0==Number(s)&&(t="&nt_appid=".concat(n,"&nt_platform=").concat(i,"&nt_channel=").concat(r,"&nt_os=").concat(o)),!n||!r||!o||!i)return!1;var l=a.find((function(e){return e.value==i}));return l?l.url+t:"https://mapi.cqdingyan.com/invest_watch?AID=__AID__&AID_NAME=__AID_NAME__&ADVERTISER_ID=__ADVERTISER_ID__&CID=__CID__&CID_NAME=__CID_NAME__&CAMPAIGN_ID=__CAMPAIGN_ID__&CAMPAIGN_NAME=__CAMPAIGN_NAME__&CTYPE=__CTYPE__&CSITE=__CSITE__&CONVERT_ID=__CONVERT_ID__&REQUEST_ID=__REQUEST_ID__&SL=__SL__&MAC=__MAC__&MAC1=__MAC1__&IP=__IP__&UA=__UA__&GEO=__GEO__&TS=__TS__&CALLBACK_PARAM=__CALLBACK_PARAM__&CALLBACK_URL=__CALLBACK_URL__&MODEL=__MODEL__&UNION_SITE=__UNION_SITE__&IMEI=__IMEI__&ANDROIDID=__ANDROIDID__&OAID=__OAID__&OAID_MD5=__OAID_MD5__&OS=__OS__&IDFA=__IDFA__".concat(t)},i=function(e){var t=a.find((function(t){return t.value==e}));return t||{}}},"2f21":function(e,t,n){"use strict";var a=n("79e5");e.exports=function(e,t){return!!e&&a((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"3b2b":function(e,t,n){var a=n("7726"),r=n("5dbc"),i=n("86cc").f,o=n("9093").f,s=n("aae3"),c=n("0bfb"),l=a.RegExp,_=l,d=l.prototype,u=/a/g,p=/a/g,m=new l(u)!==u;if(n("9e1e")&&(!m||n("79e5")((function(){return p[n("2b4c")("match")]=!1,l(u)!=u||l(p)==p||"/a/i"!=l(u,"i")})))){l=function(e,t){var n=this instanceof l,a=s(e),i=void 0===t;return!n&&a&&e.constructor===l&&i?e:r(m?new _(a&&!i?e.source:e,t):_((a=e instanceof l)?e.source:e,a&&i?c.call(e):t),n?this:d,l)};for(var h=function(e){e in l||i(l,e,{configurable:!0,get:function(){return _[e]},set:function(t){_[e]=t}})},f=o(_),g=0;f.length>g;)h(f[g++]);d.constructor=l,l.prototype=d,n("2aba")(a,"RegExp",l)}n("7a56")("RegExp")},"3dd0":function(e,t,n){"use strict";n("fd78")},"55dd":function(e,t,n){"use strict";var a=n("5ca1"),r=n("d8e8"),i=n("4bf8"),o=n("79e5"),s=[].sort,c=[1,2,3];a(a.P+a.F*(o((function(){c.sort(void 0)}))||!o((function(){c.sort(null)}))||!n("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),r(e))}})},"66a7":function(e,t,n){"use strict";n("a7e5")},"690e":function(e,t,n){"use strict";n("b33d")},"719e":function(e,t,n){"use strict";n("0049")},"8f46":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("FilterLayout",{on:{onSubmit:e.onSubmit},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[n("el-col",{attrs:{md:12,sm:12,lg:6}},[n("el-form-item",{attrs:{label:"渠道名/域名"}},[n("el-input",{attrs:{placeholder:"搜索渠道名称/域名"},model:{value:e.searchForm.search,callback:function(t){e.$set(e.searchForm,"search",t)},expression:"searchForm.search"}})],1)],1),n("el-col",{attrs:{md:12,sm:12,lg:6}},[n("el-form-item",{attrs:{label:"渠道"}},[n("SelectChannel",{model:{value:e.searchForm.channel,callback:function(t){e.$set(e.searchForm,"channel",t)},expression:"searchForm.channel"}})],1)],1),n("el-col",{attrs:{md:12,sm:12,lg:6}},[n("el-form-item",{attrs:{label:"渠道负责人"}},[n("el-select",{attrs:{filterable:"",placeholder:"全选",clearable:!0,multiple:!0},model:{value:e.searchForm.admin_id,callback:function(t){e.$set(e.searchForm,"admin_id",t)},expression:"searchForm.admin_id"}},e._l(e.SadminUserList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.realname,value:e.id}})})),1)],1)],1),n("el-col",{attrs:{md:12,sm:12,lg:6}},[n("el-form-item",{attrs:{label:"投放方式"}},[n("el-select",{attrs:{placeholder:"默认全部"},model:{value:e.searchForm.system_create,callback:function(t){e.$set(e.searchForm,"system_create",t)},expression:"searchForm.system_create"}},e._l(e.FilterOps,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),n("TableLayout",{attrs:{column:e.column,data:e.tableData.data,total:e.tableData.total,loading:e.tableData.loading,currentPage:e.tableOpt.currentPage,params:e.searchForm},on:{pageChange:e.onPageChange,sizeChange:e.onSizeChange,sortChange:e.onSortChange},scopedSlots:e._u([{key:"table-option",fn:function(){return[n("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:e.onShowAdd}},[e._v("新增投放统计")])]},proxy:!0},{key:"day",fn:function(t){return[n("div",[e._v("今天")]),n("div",[e._v("累计")])]}},{key:"system_create",fn:function(t){return[e._v(e._s(e._f("formatPlatform")(t.row.system_create)))]}},{key:"device_new_all",fn:function(t){return[n("div",[e._v(e._s(e._f("formatUnit")(t.row.device_new)))]),n("div",[e._v(e._s(e._f("formatUnit")(t.row.device_new_all)))])]}},{key:"statistics",fn:function(t){return[n("div",[e._v("总收入："+e._s(e._f("formatnum")(t.row.all_income_recycling)))]),n("div",[e._v("订单："+e._s(e._f("formatnum")(t.row.order_income_recycling)))]),n("div",[e._v("广告："+e._s(e._f("formatnum")(t.row.ad_income_recycling)))])]}},{key:"option",fn:function(t){return[0==t.row.system_create||18==t.row.system_create||3==t.row.system_create?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.getCode(t.row)}}},[e._v("获取代码")]):[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.getURL(t.row)}}},[e._v("获取URL")]),-1!==e.scaleArr.indexOf(t.row.system_create)?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.openRebate(t.row)}}},[e._v("返点比例")]):e._e(),-1!==e.moneyArr.indexOf(t.row.system_create)?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.openConsume(t.row)}}},[e._v("消耗金额")]):e._e(),8==t.row.system_create||9==t.row.system_create?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.changeData(t.row)}}},[e._v("修改")]):n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.changeDataOne(t.row)}}},[e._v("修改")])],0==t.row.system_create||18==t.row.system_create?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.changeDataOne(t.row)}}},[e._v("修改\n      ")]):e._e()]}}])}),n("el-dialog",{attrs:{title:"新增",visible:e.showAdd,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showAdd=t}}},[n("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"120px",rules:e.addFormRules}},[n("el-form-item",{attrs:{label:"投放方式",required:""}},[n("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择"},on:{change:e.otherPlatformListchange},model:{value:e.addForm.system_create,callback:function(t){e.$set(e.addForm,"system_create",t)},expression:"addForm.system_create"}},e._l(e.otherPlatformList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),9==e.addForm.system_create?n("el-form-item",{attrs:{label:"订单类型",required:""}},[n("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择"},on:{change:e.orderTypeChange},model:{value:e.addForm.order_type,callback:function(t){e.$set(e.addForm,"order_type",t)},expression:"addForm.order_type"}},[n("el-option",{attrs:{label:"传播任务",value:"1"}}),n("el-option",{attrs:{label:"投稿任务",value:"2"}})],1)],1):e._e(),""!==e.addForm.system_create?[0==e.addForm.system_create||18==e.addForm.system_create?n("el-form-item",{attrs:{label:"落地页域名",required:""}},[n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"单行输入"},model:{value:e.addForm.domain,callback:function(t){e.$set(e.addForm,"domain",t)},expression:"addForm.domain"}}),n("div",{staticClass:"tips"},[n("p",[e._v("可输入如下4种域名形式：")]),n("p",[e._v("1. 主域名（如：https://www.baidu.com）")]),n("p",[e._v("2. 二级域名（如：sub.baidu.com）")]),n("p",[e._v("3. 子目录（如：https://www.baidu.com/sub）")]),n("p",[e._v("4. wap站域名（如：wap.baidu.com)")])])],1):e._e(),n("el-form-item",{attrs:{label:"渠道名称",prop:"title"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:0==e.addForm.system_create||18==e.addForm.system_create?"用于标识落地页":"用于标识第三方投放平台"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),n("el-form-item",{attrs:{label:"渠道号",prop:"origin"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:0==e.addForm.system_create||18==e.addForm.system_create?"与落地页apk渠道号一致":"与在该广告平台投放的包名一致",onkeyup:e.Onkeyup},on:{blur:e.onBlur},model:{value:e.addForm.origin,callback:function(t){e.$set(e.addForm,"origin",t)},expression:"addForm.origin"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.ratio_show,expression:"ratio_show"}],attrs:{label:"返点比例"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入返点比例"},on:{blur:e.ratioBlur},model:{value:e.addForm.ratio,callback:function(t){e.$set(e.addForm,"ratio",t)},expression:"addForm.ratio"}},[n("template",{slot:"append"},[e._v("%")])],2)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.ratio_show,expression:"ratio_show"}],attrs:{label:"生效日期"}},[n("el-date-picker",{staticStyle:{width:"240px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.addForm.date,callback:function(t){e.$set(e.addForm,"date",t)},expression:"addForm.date"}})],1),e.xt_send_time_show?n("el-form-item",{attrs:{label:"发布时间"}},[n("el-date-picker",{staticStyle:{width:"240px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.addForm.send_time,callback:function(t){e.$set(e.addForm,"send_time",t)},expression:"addForm.send_time"}})],1):e._e(),e.xt_ios_android_lisiten_show?n("el-form-item",{attrs:{label:"是否监测链接双端共用","label-width":"200px"}},[n("el-radio-group",{model:{value:e.is_lisiten,callback:function(t){e.is_lisiten=t},expression:"is_lisiten"}},[n("el-radio",{attrs:{label:"1"}},[e._v("是")]),n("el-radio",{attrs:{label:"2"}},[e._v("否")])],1)],1):e._e(),1==e.is_lisiten&&e.xt_ios_android_lisiten_show?n("el-form-item",{attrs:{label:"监测链接共用应用","label-width":"200px"}},[n("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择"},on:{change:e.lisitenAppidChange},model:{value:e.addForm.lisiten_appid,callback:function(t){e.$set(e.addForm,"lisiten_appid",t)},expression:"addForm.lisiten_appid"}},e._l(e.lisitenApp,(function(e){return n("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1):e._e(),n("el-form-item",{attrs:{label:"渠道负责人",prop:"admin_id"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addForm.admin_id,callback:function(t){e.$set(e.addForm,"admin_id",t)},expression:"addForm.admin_id"}},e._l(e.adminUserList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.realname,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"备注",prop:"note"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{type:"textarea",rows:3,maxlength:"32","show-word-limit":""},on:{input:function(t){return e.testareaChange(t)}},model:{value:e.addForm.note,callback:function(t){e.$set(e.addForm,"note",t)},expression:"addForm.note"}})],1),e.cl_jl_flag?n("el-form-item",{attrs:{label:"关键行为名称",prop:e.addForm.event_id?"event_name":"event_nameNo"}},[n("el-input",{staticStyle:{width:"240px"},model:{value:e.addForm.event_name,callback:function(t){e.$set(e.addForm,"event_name",t)},expression:"addForm.event_name"}})],1):e._e(),e.cl_jl_flag?n("el-form-item",{attrs:{label:"关键行为ID"}},[n("el-input",{staticStyle:{width:"240px"},model:{value:e.addForm.event_id,callback:function(t){e.$set(e.addForm,"event_id",t)},expression:"addForm.event_id"}})],1):e._e()]:e._e()],2),e.addSpecialShow&&"15"!=e.addForm.system_create?n("div",{staticStyle:{"margin-left":"45px"}},[n("p",[e._v("*添加后需要获取代码去第三方配置监测链接")]),n("p",[e._v("*该渠道下所有所有归因来的投放计划会自动记录")])]):e._e(),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showAdd=!1}}},[e._v("取 消")]),[e.specialStep?n("el-button",{attrs:{type:"primary"},on:{click:e.onNextSpecial}},[e._v("下一步")]):n("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("确 定")])]],2)],1),n("el-dialog",{attrs:{visible:e.showchangeData,title:"修改信息","close-on-click-modal":!1},on:{"update:visible":function(t){e.showchangeData=t}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fullscreenLoading,expression:"fullscreenLoading"}]}),e.fullscreenLoading?e._e():n("el-form",{ref:"changeForm",attrs:{model:e.changeForm,"label-width":"120px",rules:e.changeRules}},[n("el-form-item",{attrs:{label:"收款账户"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changeForm.proceeds_user,callback:function(t){e.$set(e.changeForm,"proceeds_user",t)},expression:"changeForm.proceeds_user"}})],1),n("el-form-item",{attrs:{label:8==e.changeSystemCreate?"订单ID":"任务ID"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changeForm.ad_id,callback:function(t){e.$set(e.changeForm,"ad_id",t)},expression:"changeForm.ad_id"}})],1),n("el-form-item",{attrs:{label:8==e.changeSystemCreate?"订单名称":"任务名称"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changeForm.ad_name,callback:function(t){e.$set(e.changeForm,"ad_name",t)},expression:"changeForm.ad_name"}})],1),n("el-form-item",{attrs:{label:"渠道负责人"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.changeForm.admin_id,callback:function(t){e.$set(e.changeForm,"admin_id",t)},expression:"changeForm.admin_id"}},e._l(e.adminUserList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.realname,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"负责人生效时间"}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.changeForm.admin_date,callback:function(t){e.$set(e.changeForm,"admin_date",t)},expression:"changeForm.admin_date"}})],1),n("el-form-item",{attrs:{label:"备注",prop:"note"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{type:"textarea",rows:3,maxlength:"32","show-word-limit":""},on:{input:function(t){return e.testareaChange(t)}},model:{value:e.changeForm.note,callback:function(t){e.$set(e.changeForm,"note",t)},expression:"changeForm.note"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showchangeData=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onChangeData}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{visible:e.showchangeDataOne,title:"修改信息","close-on-click-modal":!1},on:{"update:visible":function(t){e.showchangeDataOne=t},close:e.dataOneDown}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fullscreenLoadingOne,expression:"fullscreenLoadingOne"}]}),e.fullscreenLoadingOne?e._e():n("el-form",{ref:"changeFormOne",attrs:{model:e.changeFormOne,"label-width":"120px",rules:e.changeFormOneRules}},[n("el-form-item",{attrs:{label:"渠道负责人"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.changeFormOne.admin_id,callback:function(t){e.$set(e.changeFormOne,"admin_id",t)},expression:"changeFormOne.admin_id"}},e._l(e.adminUserList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.realname,value:e.id}})})),1)],1),e.akeyFlag?n("el-form-item",{attrs:{label:"akey"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changeFormOne.akey,callback:function(t){e.$set(e.changeFormOne,"akey",t)},expression:"changeFormOne.akey"}})],1):e._e(),e.tokenlag?n("el-form-item",{attrs:{label:"token"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.changeFormOne.access_token,callback:function(t){e.$set(e.changeFormOne,"access_token",t)},expression:"changeFormOne.access_token"}})],1):e._e(),n("el-form-item",{attrs:{label:"负责人生效时间"}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.changeFormOne.admin_date,callback:function(t){e.$set(e.changeFormOne,"admin_date",t)},expression:"changeFormOne.admin_date"}})],1),n("el-form-item",{attrs:{label:"备注",prop:"note"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{type:"textarea",rows:3,maxlength:"32","show-word-limit":""},on:{input:function(t){return e.testareaChange(t)}},model:{value:e.changeFormOne.note,callback:function(t){e.$set(e.changeFormOne,"note",t)},expression:"changeFormOne.note"}})],1),e.edit_jl_cl_flag?n("el-form-item",{attrs:{label:"关键行为名称",prop:e.changeFormOne.event_id?"event_name":"event_nameNo"}},[n("el-input",{staticStyle:{width:"240px"},model:{value:e.changeFormOne.event_name,callback:function(t){e.$set(e.changeFormOne,"event_name",t)},expression:"changeFormOne.event_name"}})],1):e._e(),e.edit_jl_cl_flag?n("el-form-item",{attrs:{label:"关键行为ID"}},[n("el-input",{staticStyle:{width:"240px"},model:{value:e.changeFormOne.event_id,callback:function(t){e.$set(e.changeFormOne,"event_id",t)},expression:"changeFormOne.event_id"}})],1):e._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showchangeDataOne=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onChangeDataOne}},[e._v("确 定")])],1)],1),n("get-code",{ref:"getCode"}),n("get-url",{ref:"getUrl",attrs:{url:e.connectUrl}}),n("rebateRatio",{ref:"rebateRatio"}),n("Consume",{ref:"consume"})],1)},r=[],i=(n("8e6e"),n("456d"),n("55dd"),n("ade3")),o=n("3835"),s=(n("96cf"),n("1da1")),c=(n("ac6a"),n("20d6"),n("6b54"),n("a481"),n("7514"),n("2909")),l=n("cf87"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"get_code"},[n("el-dialog",{attrs:{title:"获取代码",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{ref:"textarea",attrs:{type:"textarea",rows:20,placeholder:"请输入内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}}),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:e.copy}},[e._v("复制")])],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},d=[],u=n("cff8"),p=n.n(u),m={data:function(){return{dialogVisible:!1,textarea:"",origin:"",data:""}},methods:{copy:function(){this.textarea&&(this.$refs.textarea.select(),document.execCommand("copy"),this.$message({message:"复制成功",type:"success"}))}},watch:{dialogVisible:function(e){if(e){var t=this.$route.query.appId,n={development:"http://mapi-dev.cqdingyan.com/ip/index",production:"http://mapi.cqdingyan.com/ip/index"},a=n["production"];if(18!=this.data.system_create)this.textarea='\nvar data = JSON.stringify({"appid":"'.concat(t,'","origin":"').concat(this.data.origin,'"});\nvar xhr = new XMLHttpRequest();\nxhr.open("POST", "').concat(a,'");\nxhr.setRequestHeader("Content-Type", "application/json");\nxhr.send(data);\n');else{var r=this.data,i=r.appid,o=r.origin,s=r.system_create,c=r.lisiten_app_system,l=r.lisiten_appid,_=r.system;this.textarea="let nt_os;let OS;\nlet UA = window.navigator.userAgent;\n        let TS = new Date().valueOf()\nif (/android/i.test(navigator.userAgent)) {\nOS = 0\n}\nif (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\nOS = 1\n}\nlet trackId;\nlet str = location.href;\nlet num = str.indexOf('?');\nstr = str.substr(num + 1);\nlet arr = str.split('&');\nfor (let i = 0; i < arr.length; i++) {\n  num = arr[i].indexOf('=');\n  if (num > 0) {\n    if (arr[i].substring(0, num) == 'trackId') {\n      trackId = arr[i].substr(num + 1);\n    }\n  }\n}\nlet xhr = new XMLHttpRequest();\nxhr.open(\n  'GET',\n  'https://mapi.cqdingyan.com/invest_watch?nt_appid=".concat(i,"'+'&nt_channel=").concat(o,"'+\n  '&track_id='+trackId+'&UA='+UA+'&nt_platform=").concat(s,"'+'&nt2_os=").concat(c,"'+'&nt2_appid=").concat(l,"'+'&nt_os='+").concat(_,"+'&OS='+OS+'&TS='+TS\n);\nxhr.setRequestHeader('Content-Type', 'application/json');\nxhr.send();\n")}}}}},h=m,f=(n("690e"),n("2877")),g=Object(f["a"])(h,_,d,!1,null,"5819d3f3",null),b=g.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"get_code"},[n("el-dialog",{attrs:{title:"获取URL",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{ref:"textarea",attrs:{type:"textarea",rows:20,placeholder:"请输入内容",readonly:""},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:e.copy}},[e._v("复制")])],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},I=[],A=(n("4917"),n("3b2b"),{props:{url:{type:String,default:""}},data:function(){return{dialogVisible:!1,oneAppArr:["nt_appid","nt_platform","nt_channel","nt_os"],deArr:["nt_appid","nt_platform","nt_channel","nt_os","nt2_os","nt2_appid"]}},methods:{copy:function(){var e=this;if(this.url){var t=[],n=[];this.oneAppArr.forEach((function(n){t.push(e.getQueryString(n))})),this.deArr.forEach((function(t){n.push(e.getQueryString(t))})),n.every((function(e){return e}))||t.every((function(e){return e}))?(this.$refs.textarea.select(),document.execCommand("copy"),this.$message({message:"复制成功",type:"success"})):this.$message({type:"error",message:"监测链接错误，请勿复制使用，联系中台同学处理"})}},getQueryString:function(e){var t=this.url.slice(this.url.indexOf("?")),n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=t.substr(1).match(n);return null!=a?unescape(a[2]):null}}}),D=A,y=(n("0940"),Object(f["a"])(D,v,I,!1,null,"ed132696",null)),O=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"get_code"},[n("el-dialog",{attrs:{visible:e.dialogVisible,width:"600px","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("span",[e._v("返点比例")]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n          填写返点比例后，从你填写的生效时间开始，后续每天的实际消耗数据"),n("br"),e._v("将按照（账面消耗/（1+返点比例））进行计算\n        ")]),n("i",{staticClass:"el-icon-info",staticStyle:{"padding-left":"5px"}})])],1),n("div",{staticClass:"box"},e._l(e.RebatesInfo,(function(t){return n("div",{key:t.id,staticClass:"content"},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"返点比例",prop:"ratio"}},[n("el-input",{attrs:{disabled:!0},model:{value:t.ratio,callback:function(n){e.$set(t,"ratio",n)},expression:"item.ratio"}},[n("template",{slot:"append"},[e._v("%")])],2)],1),n("el-form-item",{attrs:{label:"生效时间",prop:"date"}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:!0},model:{value:t.date,callback:function(n){e.$set(t,"date",n)},expression:"item.date"}})],1)],1),n("div",{staticClass:"btn"},[n("el-popconfirm",{attrs:{title:"确定删除该投放？"},on:{confirm:function(n){return e.deldata(t.id)}}},[n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("删除")])],1)],1)],1)})),0),e.showBox?n("div",{staticClass:"box"},[n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"返点比例",prop:"ratio"}},[n("el-input",{model:{value:e.form.ratio,callback:function(t){e.$set(e.form,"ratio",t)},expression:"form.ratio"}},[n("template",{slot:"append"},[e._v("%")])],2)],1),n("el-form-item",{attrs:{label:"生效时间",prop:"date"}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":e.RebatesInfo.length?e.pickerOptions2:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"text"},on:{click:e.updata}},[e._v("保存")])],1)],1)]):e._e(),e.showBox?e._e():n("div",{staticClass:"box",staticStyle:{"text-alien":"center","line-height":"30px",height:"30px",cursor:"pointer"},on:{click:function(t){e.showBox=!0}}},[n("span",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"20px","line-height":"30px"}}),n("span",{staticStyle:{"font-size":"18px"}},[e._v("新增")])]),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.form.ratio||e.form.date?n("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("p",[e._v("是否放弃该次修改")]),n("div",{staticStyle:{"text-align":"right",margin:"0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.downBox}},[e._v("确定")])],1),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("关闭")])],1):n("el-button",{on:{click:e.downBox}},[e._v("关闭")])],1)])],1)},x=[],w=n("c1df"),F=n.n(w),k={props:{},data:function(){return{dialogVisible:!1,delFlag:!1,visible:!1,RebatesInfo:[],origin:"",form:{ratio:"",date:""},info:{},rules:{ratio:[{required:!0,message:"请输入返点比例",trigger:"change"}],date:[{required:!0,message:"请选择生效时间",trigger:"change"}]},showBox:!1}},mounted:function(){},computed:{pickerOptions2:function(){var e=this;return e.RebatesInfo.length?{disabledDate:function(t){return t.getTime()<new Date(e.RebatesInfo[0].date).getTime()}}:{}}},methods:{updata:function(){var e=this;this.$refs.form.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var a,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.form,console.log(a.date),!n){t.next=17;break}return t.next=5,e.$http.post("Ip/addRebates",{ratio:a.ratio,date:F()(a.date).format("YYYYMMDD"),origin:e.info.origin,system_create:e.info.system_create});case 5:if(r=t.sent,i=Object(o["a"])(r,2),s=i[0],i[1],!s){t.next=11;break}return t.abrupt("return");case 11:e.showBox=!1,e.form.ratio="",e.form.date="",e.getRebatesInfo(),t.next=18;break;case 17:return t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},deldata:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("Ip/delRebates",{id:t});case 2:if(n=e.sent,a=Object(o["a"])(n,2),r=a[0],a[1],!r){e.next=8;break}return e.abrupt("return");case 8:this.$message({message:"删除成功",type:"success"}),this.showBox=!1,this.delFlag=!1,this.getRebatesInfo();case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getRebatesInfo:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("Ip/getRebatesInfo",{origin:this.info.origin,system_create:this.info.system_create});case 2:if(t=e.sent,n=Object(o["a"])(t,2),a=n[0],r=n[1],!a){e.next=8;break}return e.abrupt("return");case 8:this.dialogVisible=!0,r.length?this.RebatesInfo=r.map((function(e){return e.date=F()(e.date).format("YYYY-MM-DD"),e})):(this.showBox=!0,this.RebatesInfo=[]);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),downBox:function(){this.form.ratio="",this.form.date="",this.showBox=!1,this.dialogVisible=!1,this.visible=!1,this.$refs.form.resetFields()}}},S=k,L=(n("719e"),Object(f["a"])(S,C,x,!1,null,"a13da0be",null)),E=L.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"get_code"},[n("el-dialog",{attrs:{visible:e.dialogVisible,width:"500px","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("span",[e._v("消耗金额")]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n          填写消耗金额后，该渠道的实际"),n("br"),e._v("消耗将取所填写的值\n        ")]),n("i",{staticClass:"el-icon-info",staticStyle:{"padding-left":"5px"}})])],1),n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"",prop:"real_cost"}},[n("el-input",{model:{value:e.form.real_cost,callback:function(t){e.$set(e.form,"real_cost",t)},expression:"form.real_cost"}},[n("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.updata}},[e._v("保存")]),e.form.real_cost?n("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("p",[e._v("是否放弃该次修改")]),n("div",{staticStyle:{"text-align":"right",margin:"0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.downBox}},[e._v("确定")])],1),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("关闭")])],1):n("el-button",{on:{click:e.downBox}},[e._v("关闭")])],1)])],1)},R=[],P={props:{},data:function(){return{dialogVisible:!1,delFlag:!1,visible:!1,origin:"",form:{real_cost:""},rules:{real_cost:[{required:!0,message:"请输入返点金额",trigger:"change"}]},showBox:!1,info:{}}},mounted:function(){},methods:{updata:function(){var e=this;this.$refs.form.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var a,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.form,console.log(a.date),!n){t.next=17;break}return t.next=5,e.$http.post("Ip/saveCost",{real_cost:a.real_cost,origin:e.info.origin,system_create:e.info.system_create});case 5:if(r=t.sent,i=Object(o["a"])(r,2),s=i[0],i[1],!s){t.next=11;break}return t.abrupt("return");case 11:e.form.real_cost="",e.dialogVisible=!1,e.visible=!1,e.$refs.form.resetFields(),t.next=18;break;case 17:return t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getRebatesInfo:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("Ip/getRebatesInfo",{origin:this.info.origin,system_create:this.info.system_create});case 2:if(t=e.sent,n=Object(o["a"])(t,2),a=n[0],r=n[1],!a){e.next=8;break}return e.abrupt("return");case 8:this.dialogVisible=!0,this.form.real_cost=r[0].real_cost;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),downBox:function(){this.form.real_cost="",this.dialogVisible=!1,this.visible=!1,this.$refs.form.resetFields()}}},T=P,N=(n("66a7"),Object(f["a"])(T,M,R,!1,null,"5431b679",null)),$=N.exports,U=n("2b38"),j=n("bb8b"),B=n("0cf4"),V=n("bbb5");n("5c96");function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e,t,n){t?/[ ]|[\u4E00-\u9FA5]/g.test(t)&&n(new Error("不能输入汉字与空格，请检查")):n()},Q={name:"ip_attribution_admin",components:{getCode:b,getUrl:O,FilterLayout:U["a"],SelectChannel:V["a"],TableLayout:j["a"],rebateRatio:E,Consume:$},data:function(){return{sort:{prop:"",order:""},orderType:"",admin_id:"",changeSystemCreate:"",searchForm:{search:"",channel:[],admin_id:[],system_create:"99",currentPage:1},addFormRules:{title:[{required:!0,message:"请输入渠道名称",trigger:"blur"}],origin:[{required:!0,message:"请输入渠道号",trigger:"blur"},{validator:G,trigger:"blur"}],event_id:[{required:!0,message:"请填写关键行为ID",trigger:"change"}],event_idNo:[{required:!1}],event_name:[{required:!0,message:"请填写关键行为名称",trigger:"change"}],event_nameNo:[{required:!1}]},xt_ios_android_lisiten_show:!1,xt_send_time_show:!1,ratio_show:!0,is_lisiten:"2",lisitenApp:[],roleTree:{},column:[{prop:"system_create",label:"投放方式"},{prop:"title",label:"渠道名称"},{prop:"origin",label:"渠道"},{prop:"admin_name",label:"渠道负责人"},{prop:"event_id",label:"关键行为ID",width:100},{prop:"event_name",label:"关键行为名称",width:150},{prop:"note",label:"备注",width:200},{prop:"day",label:"日期"},{prop:"device_new_all",label:"归因新增",sortable:"custom"},{prop:"statistics",label:"收入统计"},{prop:"time_add",label:"添加时间"},{prop:"option",label:"操作",width:180}],tableOpt:{currentPage:1,pageSize:10},tableData:{data:[],total:0,loading:!1,currentPage:1,pageSize:10},options:[],FilterOps:[{label:"全部",value:"99"}].concat(Object(c["a"])(B["c"]),[{label:"内部换量",value:"3"}]),showAdd:!1,addForm:{domain:"",title:"",origin:"",system_create:"",lisiten_appid:"",lisiten_app_system:"",send_time:"",ratio:"",date:"",admin_id:"",akey:"",order_type:"",event_id:"",event_name:"",note:""},showchangeData:!1,changeForm:{proceeds_user:"",ad_id:"",ad_name:"",admin_id:"",channel:"",platform:"",admin_date:"",note:""},changeRules:{proceeds_user:[{required:!0,message:"请填写收款账户"}],ad_id:[{required:!0,message:"请填写订单ID"}],ad_name:[{required:!0,message:"请填写计划名称"}]},changeFormOne:{admin_id:"",channel:"",platform:"",akey:"",access_token:"",admin_date:"",event_id:"",event_name:"",note:""},changeFormOneRules:{event_id:[{required:!0,message:"请填写关键行为ID",trigger:"change"}],event_name:[{required:!0,message:"请填写关键行为名称",trigger:"change"}],event_nameNo:[{required:!1}]},otherPlatformList:B["c"],addSpecialShow:!1,connectUrl:"",specialStep:!1,fullscreenLoading:!1,showchangeDataOne:!1,fullscreenLoadingOne:!1,cl_jl_flag:!1,edit_jl_cl_flag:!1,adminUserList:[],SadminUserList:[],akeyFlag:!1,tokenlag:!1,moneyArr:["8","14","11","17","9"],scaleArr:["1","4","5","2","6","7","12","13","16","15"]}},created:function(){this.fetchList(),this.originList(),this.getRoleBtree()},mounted:function(){this.admin_id=JSON.parse(localStorage.getItem("user")).id,this.getAdmin()},watch:{"addForm.system_create":function(e){var t=[1,2,4,5,8,9,16];1==e&&(this.addForm.domain=""),this.addForm.origin="",this.specialStep=!!t.find((function(t){return t==e})),this.addSpecialShow=this.outPlatform(e)}},filters:{formatPlatform:function(e){if(!e)return"--";var t=[].concat(Object(c["a"])(B["c"]),[{label:"内部换量",value:"3"}]),n=t.find((function(t){return t.value==e}));return n?n.label:"--"},formatnum:function(e){var t=e.toString().replace(/\d+/,(function(e){return e.replace(/(\d)(?=(\d{3})+$)/g,(function(e){return e+","}))}));return t}},methods:{orderTypeChange:function(e){this.specialStep=1==e},onShowAdd:function(){var e=this;this.showAdd=!0,this.addForm={domain:"",title:"",origin:"",system_create:"",lisiten_appid:"",lisiten_app_system:"",send_time:"",ratio:"",date:"",admin_id:"",akey:"",event_id:"",event_name:"",note:""},this.$nextTick((function(){e.addSpecialShow=!1}))},onLinkMore:function(e){var t=e.origin,n=e.system_create;this.$router.push({path:"3"==n?"/count_center/ip_attribution/inside":"/count_center/ip_attribution/statistics",query:{origin:t}})},ratioBlur:function(e){var t=e.target.value,n=/^\d+(?=\.{0,1}\d+$|$)/;n.test(t)||(this.addForm.ratio="")},lisitenAppidChange:function(e){var t=this.lisitenApp.findIndex((function(t){return t.id==e}));t>-1&&(this.addForm.lisiten_app_system=this.lisitenApp[t].system)},otherPlatformListchange:function(e){this.addForm.domain="",this.addForm.title="",this.addForm.origin="",this.addForm.lisiten_appid="",this.addForm.lisiten_app_system="",this.addForm.send_time="",this.addForm.ratio="",this.addForm.date="",this.addForm.admin_id="",this.addForm.akey="",this.addForm.order_type="",this.addForm.event_id="",this.addForm.event_name="",this.addForm.note="",this.is_lisiten="2";var t=[8,9,14,11,17,18,19],n=["0",8,14,11,9,15,17,18,19];this.ratio_show=!(n.indexOf(e)>-1),this.xt_ios_android_lisiten_show=t.indexOf(e)>-1,this.cl_jl_flag=1==e||5==e;var a=this.$route.query.appId,r=this.roleTree.tree,i={},o="";r.forEach((function(e){e.node.forEach((function(e){e.node.forEach((function(e){e.node.forEach((function(t){t.id==a&&(i=e,o=t.system)}))}))}))}));var s=[];i.node.forEach((function(e){e.system!=o&&s.push(e)})),this.lisitenApp=s,this.addForm.order_type=9==this.addForm.system_create?"1":"",this.addForm.admin_id=this.admin_id},getRoleBtree:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("System/roleBtree",{loginId:p.a.get("user")["id"],loginToken:p.a.get("loginToken")});case 2:if(t=e.sent,n=Object(o["a"])(t,2),a=n[0],r=n[1],!a){e.next=8;break}return e.abrupt("return");case 8:this.roleTree=r;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAdmin:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("Admin/getAdmin");case 2:if(t=e.sent,n=Object(o["a"])(t,2),a=n[0],r=n[1],!a){e.next=8;break}return e.abrupt("return");case 8:this.adminUserList=r,this.SadminUserList=r;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCode:function(e){this.$refs.getCode.$data.dialogVisible=!0,this.$refs.getCode.$data.data=e},openRebate:function(e){this.$refs.rebateRatio.$data.info=e,this.$refs.rebateRatio.getRebatesInfo()},openConsume:function(e){this.$refs.consume.$data.info=e,this.$refs.consume.getRebatesInfo()},getURL:function(e){var t=e.system_create,n=e.origin,a=e.lisiten_appid,r=e.lisiten_app_system,i=e.appid,o=this.$store.getters.getCurrentApp(this.$route.query.appId),s=(o.id,o.system),c=s;r&&a&&("1"==r?c="2":"2"==r&&(c="1"));var l=Object(B["a"])({appid:i,origin:n,system_create:t,system:c,system2:r,appid2:a});if(!l)return this.$message.error("获取参数错误，请刷新后重试！");this.connectUrl=l,"15"==t&&(this.connectUrl=""),this.$refs.getUrl.$data.dialogVisible=!0},ruing:function(e){var t=this,n=e.id,a=e.status,r=0==a?"start":"close";Object(l["V"])({id:n,operate:r}).then((function(e){1==e[2]&&(t.$message({message:e[3],type:"success"}),t.landingPageList())}))},onRemove:function(e){var t=this,n="delete";this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["V"])({id:e,operate:n}).then((function(e){1==e[2]&&(t.$message({message:e[3],type:"success"}),t.landingPageList())}))}))},onBlur:function(e){this.addForm.origin=e.target.value.toUpperCase()},Onkeyup:function(){},onAdd:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,c,_,d,u,m,h,f,g,b,v,I,A=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.addForm,n=t.title,a=t.origin,r=t.system_create,i=t.lisiten_appid,s=t.ratio,c=t.date,n&&a&&r&&("1"!=this.is_lisiten||i)&&(!s||c)&&(s||!c)){e.next=4;break}return this.$message({message:"请填写完整信息",type:"warning"}),e.abrupt("return");case 4:if(_="",this.$refs.addForm.validateField(["origin"],(function(e){err&&(e=e)})),!_){e.next=8;break}return e.abrupt("return");case 8:if(this.addForm.origin=this.ToCDB(this.addForm.origin),-1===[1,4,5,8].indexOf(this.addForm.system_create)){e.next=13;break}Object(l["T"])(q(q({},this.addForm),{},{origin:this.addForm.origin.toUpperCase()})).then((function(e){1===e.length?A.$message.error(e[0]):1===e[2]&&(A.$message({message:e[3],type:"success"}),A.showAdd=!1,A.searchForm.search="",A.searchForm.channel=[],A.searchForm.admin_id=[],A.originList(),A.tableOpt.currentPage=1,A.fetchList())})),e.next=29;break;case 13:if(-1!==[1,4,5,8].indexOf(this.addForm.system_create)||0==this.addForm.system_create||18==this.addForm.system_create){e.next=29;break}return e.next=16,this.$http.post("Ip/addLandingInvestChannel",q(q({loginId:p.a.get("user")["id"],loginToken:p.a.get("loginToken")},this.addForm),{},{origin:this.addForm.origin.toUpperCase()}));case 16:if(d=e.sent,u=Object(o["a"])(d,2),u[0],m=u[1],!m){e.next=22;break}return e.abrupt("return");case 22:this.showAdd=!1,this.searchForm.search="",this.searchForm.channel=[],this.searchForm.admin_id=[],this.originList(),this.tableOpt.currentPage=1,this.fetchList();case 29:if(0!=this.addForm.system_create){e.next=45;break}return e.next=32,this.$http.post("Ip/addLandingPage",q(q({loginId:p.a.get("user")["id"],loginToken:p.a.get("loginToken")},this.addForm),{},{origin:this.addForm.origin.toUpperCase()}));case 32:if(h=e.sent,f=Object(o["a"])(h,2),f[0],g=f[1],!g){e.next=38;break}return e.abrupt("return");case 38:this.showAdd=!1,this.searchForm.search="",this.searchForm.channel=[],this.searchForm.admin_id=[],this.originList(),this.tableOpt.currentPage=1,this.fetchList();case 45:if(18!=this.addForm.system_create){e.next=61;break}return e.next=48,this.$http.post("Ip/addLandingInvestChannel",q(q({},this.addForm),{},{origin:this.addForm.origin.toUpperCase()}));case 48:if(b=e.sent,v=Object(o["a"])(b,2),v[0],I=v[1],!I){e.next=54;break}return e.abrupt("return");case 54:this.showAdd=!1,this.searchForm.search="",this.searchForm.channel=[],this.searchForm.admin_id=[],this.originList(),this.tableOpt.currentPage=1,this.fetchList();case 61:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),originList:function(){var e=this;Object(l["U"])({type:99}).then((function(t){e.options=t[1].map((function(e){return{label:e,value:e}})),e.options.unshift({label:"全部",value:""})}))},onSubmit:function(){this.tableOpt.currentPage=1,this.fetchList()},onPageChange:function(e){this.tableOpt.currentPage=e,this.fetchList()},onSizeChange:function(e){this.tableOpt.pageSize=e,this.fetchList()},fetchList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,c,l,_,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.searchForm,n=this.tableOpt,a=this.sort,this.tableData.loading=!0,e.next=4,this.$http.post("Ip/landingPageList",q(q(q(q({},t),n),a),{},{channel:this.searchForm.channel.join(",")}));case 4:if(r=e.sent,i=Object(o["a"])(r,2),s=i[0],c=i[1],this.tableData.loading=!1,!s){e.next=11;break}return e.abrupt("return");case 11:l=c.list,_=c.currentPage,d=c.total,this.tableData.data=l,this.tableData.currentPage=_,this.tableData.total=d;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onNextSpecial:function(){var e=this.addForm,t=e.title,n=e.origin,a=e.system_create,r=e.lisiten_appid,i=e.ratio,o=e.date,s=e.lisiten_app_system,c=e.send_time,l=e.order_type,_=e.event_id,d=e.event_name,u=e.note,p=e.admin_id;if(9!=a||l)if(!(t&&n&&a)||1==this.is_lisiten&&!r||i&&!o||!i&&o)this.$message({message:"请填写完整信息",type:"warning"});else{if(!(!d&&!_||d&&_))return this.$refs.addForm.validate((function(e,t){})),void this.$message({message:"请填写完整信息",type:"warning"});var m="";if(this.$refs.addForm.validateField(["origin"],(function(e){err&&(e=e)})),!m){n=this.ToCDB(n);var h=this.$store.getters.getCurrentApp(this.$route.query.appId).title;8!==a?4!==a?2!=a?9!=a?this.$router.push({path:"/count_center/ip_attribution/web_admin/add_special",query:{title:t,origin:n,system_create:a,lisiten_appid:r,lisiten_app_system:s,appName:h,date:o,ratio:i,event_id:_,event_name:d,note:u,admin_id:p}}):this.$router.push({path:"/count_center/ip_attribution/web_admin/add_kuaishou",query:{title:t,origin:n,system_create:a,appName:h,lisiten_appid:r,lisiten_app_system:s,send_time:c,note:u,admin_id:p}}):this.$router.push({path:"/count_center/ip_attribution/web_admin/add_tengxun",query:{title:t,origin:n,system_create:a,appName:h,ratio:i,date:o,note:u,admin_id:p}}):this.$router.push({path:"/count_center/ip_attribution/web_admin/add_baidu",query:{title:t,origin:n,system_create:a,appName:h,ratio:i,date:o,note:u,admin_id:p}}):this.$router.push({path:"/count_center/ip_attribution/web_admin/add_xingtu",query:{title:t,origin:n,system_create:a,lisiten_appid:r,lisiten_app_system:s,send_time:c,appName:h,note:u,admin_id:p}})}}else this.$message({message:"请选择订单类型",type:"warning"})},outPlatform:function(e){var t=this.otherPlatformList.find((function(t){return t.value==e}));return t},changeData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.changeSystemCreate=t.system_create,this.fullscreenLoading=!0,e.next=4,this.$http.post("Ip/queryAdvertiser",{appId:t.appid,channel:t.origin,platform:t.system_create});case 4:if(n=e.sent,a=Object(o["a"])(n,2),r=a[0],i=a[1],!r){e.next=10;break}return e.abrupt("return");case 10:this.getAdmin(),this.fullscreenLoading=!1,i&&i.id?(this.$nextTick((function(){s.changeForm.proceeds_user=i.proceeds_user,s.changeForm.ad_id=i.ad_id,s.changeForm.ad_name=i.ad_name,s.changeForm.id=i.id,s.changeForm.appId=t.appid,s.changeForm.admin_id=i.admin_id,s.changeForm.channel=i.channel,s.changeForm.platform=i.platform,s.changeForm.admin_date=i.admin_date||"",s.changeForm.note=i.note||""})),this.showchangeData=!0):this.$message.error("未查询到相应的配置信息！");case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),changeDataOne:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.fullscreenLoadingOne=!0,this.tableData.loading=!0,e.next=4,this.$http.post("Ip/queryAdvertiser",{appId:t.appid,channel:t.origin,platform:t.system_create});case 4:if(n=e.sent,a=Object(o["a"])(n,2),r=a[0],i=a[1],this.akeyFlag="16"===t.system_create,this.tokenlag="16"===t.system_create,this.edit_jl_cl_flag=1==t.system_create||5==t.system_create,!r){e.next=13;break}return e.abrupt("return");case 13:this.getAdmin(),this.tableData.loading=!1,this.fullscreenLoadingOne=!1,this.showchangeDataOne=!0,this.$nextTick((function(){s.changeFormOne.admin_id=0==i.admin_id?"":i.admin_id,s.changeFormOne.channel=t.origin,s.changeFormOne.platform=t.system_create,s.changeFormOne.akey=i.akey,s.changeFormOne.access_token=i.access_token,s.changeFormOne.admin_date=i.admin_date||"",s.changeFormOne.event_id=i.event_id||"",s.changeFormOne.event_name=i.event_name||"",s.changeFormOne.note=i.note||""}));case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onChangeData:function(){var e=this;this.$refs.changeForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,a){var r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=15;break}return t.next=3,e.$http.post("Ip/editAdvertiser",q({},e.changeForm));case 3:if(r=t.sent,i=Object(o["a"])(r,2),s=i[0],i[1],!s){t.next=9;break}return t.abrupt("return");case 9:e.$message({message:"修改成功",type:"success"}),e.showchangeData=!1,e.changeForm={proceeds_user:"",ad_id:"",ad_name:"",admin_id:"",channel:"",platform:"",admin_date:"",note:""},e.fetchList(),t.next=16;break;case 15:return t.abrupt("return");case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},onChangeDataOne:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.changeFormOne.validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,a){var r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=14;break}return e.next=3,t.$http.post("Ip/editAdvertiser",q({},t.changeFormOne));case 3:if(r=e.sent,i=Object(o["a"])(r,2),s=i[0],i[1],!s){e.next=9;break}return e.abrupt("return");case 9:t.$message({message:"修改成功",type:"success"}),t.dataOneDown(),t.fetchList(),e.next=15;break;case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),dataOneDown:function(){this.showchangeDataOne=!1,this.akeyFlag=!1,this.tokenlag=!1,this.changeFormOne={admin_id:"",channel:"",platform:"",akey:"",access_token:"",admin_date:"",event_id:"",event_name:"",note:""}},onSortChange:function(e){var t=e.prop,n=e.order;this.sort={prop:t,order:n},this.tableOpt.currentPage=1,this.fetchList()},testareaChange:function(e){this.$forceUpdate(e)},ToCDB:function(e){for(var t="",n=0;n<e.length;n++)12288!=e.charCodeAt(n)?e.charCodeAt(n)>65280&&e.charCodeAt(n)<65375?t+=String.fromCharCode(e.charCodeAt(n)-65248):t+=String.fromCharCode(e.charCodeAt(n)):t+=String.fromCharCode(e.charCodeAt(n)-12256);return t}}},z=Q,Y=(n("3dd0"),Object(f["a"])(z,a,r,!1,null,"686da6d9",null));t["default"]=Y.exports},a7e5:function(e,t,n){},aa6e:function(e,t,n){},b33d:function(e,t,n){},bbb5:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{display:"flex"}},[n("el-cascader-multi",{attrs:{data:e.options,clearable:"",filterable:"","collapse-tags":"","append-to-body":!1},on:{change:e.change},model:{value:e.insideValue,callback:function(t){e.insideValue=t},expression:"insideValue"}}),e.multi?n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.open}},[e._v("批量")]):e._e()],1),n("el-dialog",{attrs:{title:"批量筛选",visible:e.dialogTableVisible,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogTableVisible=t},close:e.cancel}},[n("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容，回车分割"},on:{input:e.search},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}}),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"warning",plain:""},on:{click:e.clear}},[e._v("清空")]),n("el-divider",[e._v("搜索结果（"+e._s(e.compress_result.length)+"）；"),n("span",{staticStyle:{color:"#67c23a"}},[e._v("已选择（"+e._s(e.checkList.length)+"）")])]),e.compress_result.length>0?[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),n("el-checkbox-group",{on:{change:e.handleCheckedItem},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.compress_result,(function(e,t){return n("el-checkbox",{key:t,attrs:{label:e}})})),1)]:n("div",{staticStyle:{"text-align":"center"}},[e._v("暂无相关渠道")]),n("div",[e.compress_result.length>0?n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定\n      ")]):e._e(),n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")])],1)],2)],1)},r=[],i=(n("8e6e"),n("456d"),n("55dd"),n("3835")),o=(n("96cf"),n("1da1")),s=(n("28a5"),n("ade3")),c=(n("ac6a"),n("c5f6"),n("2f62")),l=n("2ef0"),_=n.n(l);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={props:{multi:{type:Boolean,default:!1},value:{type:[String,Number,Array],default:""},optionsList:{type:Array,default:function(){return[]}},paramFlag:{type:Boolean,default:!1},haveAll:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data:function(){return{timer:null,isIndeterminate:!0,checkAll:!1,checkList:[],compress_result:[],channelChildrens:[],textarea:"",dialogTableVisible:!1,insideValue:[],options:[],optionsCopy:[],all:!1,cakey:1,selected:[]}},mounted:function(){this.paramFlag?this.opertionListFun(this.optionsList):this.channel.length?this.opertionListFun(this.channel):this.fetchChannel()},watch:{optionsList:{handler:function(){this.opertionListFun(this.optionsList)},deep:!0,immediate:!0},insideValue:function(e){if(e.length){this.clear();var t=[];e.forEach((function(e){t.push(e[1])})),this.$emit("input",t)}else this.$emit("input",e)}},computed:u({},Object(c["d"])({channel:function(e){return e.channel.data}})),methods:u(u({search:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t=e.textarea.split(/[\n,]/g);e.compress_result=_.a.compact(_.a.intersection(t,e.channelChildrens)),e.handleCheckAllChange(!0)}),300)},handleCheckAllChange:function(e){this.checkAll=!0,this.checkList=e?this.compress_result:[],this.isIndeterminate=!1},handleCheckedItem:function(e){var t=e.length;this.checkAll=t===this.compress_result.length,this.isIndeterminate=t>0&&t<this.compress_result.length},open:function(){this.dialogTableVisible=!0,this.insideValue=[]},confirm:function(){this.$message.info("请选择"),0!=this.checkList.length&&(this.dialogTableVisible=!1,this.$message.success("批量筛选成功，请点击查询"),this.$emit("input",this.checkList))},clear:function(){this.textarea="",this.checkList="",this.compress_result="",this.checkAll=!1},cancel:function(){this.dialogTableVisible=!1},opertionListFun:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=e.map((function(e){var n=[];return n=e.channels?e.channels.map((function(e){return t.push(e),{label:e||e.title||e.label,value:e||e.id||e.value}})):e.children.map((function(e){return{label:e.title||e.label,value:e.id||e.value}})),{label:e.label||e.title,value:e.value||e.id,children:n}}));this.channelChildrens=t,this.options=n,this.optionsCopy=n},change:function(e){this.$emit("change",e)},removetag:function(e){var t={stopPropagation:function(){}};try{this.$refs.cascader.clearValue(t)}catch(err){this.$refs.cascader.handleClear(t)}}},Object(c["b"])(["getChannel"])),{},{fetchChannel:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getChannel();case 2:if(t=e.sent,n=Object(i["a"])(t,2),a=n[0],r=n[1],!a){e.next=8;break}return e.abrupt("return");case 8:this.opertionListFun(r);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onFilter:function(e){this.options=e?this.optionsCopy.filter((function(t){if(~t.indexOf(e)||~t.toUpperCase().indexOf(e.toUpperCase()))return!0})):this.optionsCopy},onInputAll:function(e){this.insideValue=e?this.options:[]},isSameArray:function(e,t){var n=e.concat([]),a=t.concat([]),r=n.sort().join(""),i=a.sort().join("");return r===i}})},m=p,h=(n("06bb"),n("2877")),f=Object(h["a"])(m,a,r,!1,null,"b91e7e3e",null);t["a"]=f.exports},cf87:function(e,t,n){"use strict";n.d(t,"X",(function(){return l})),n.d(t,"db",(function(){return _})),n.d(t,"Y",(function(){return d})),n.d(t,"Z",(function(){return u})),n.d(t,"bb",(function(){return p})),n.d(t,"ab",(function(){return m})),n.d(t,"cb",(function(){return h})),n.d(t,"eb",(function(){return f})),n.d(t,"H",(function(){return g})),n.d(t,"L",(function(){return b})),n.d(t,"I",(function(){return v})),n.d(t,"G",(function(){return I})),n.d(t,"K",(function(){return A})),n.d(t,"J",(function(){return D})),n.d(t,"M",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return C})),n.d(t,"ob",(function(){return x})),n.d(t,"mb",(function(){return w})),n.d(t,"k",(function(){return F})),n.d(t,"l",(function(){return k})),n.d(t,"W",(function(){return S})),n.d(t,"qb",(function(){return L})),n.d(t,"yb",(function(){return E})),n.d(t,"zb",(function(){return M})),n.d(t,"Ab",(function(){return R})),n.d(t,"kb",(function(){return P})),n.d(t,"lb",(function(){return T})),n.d(t,"hb",(function(){return N})),n.d(t,"jb",(function(){return $})),n.d(t,"ib",(function(){return U})),n.d(t,"r",(function(){return j})),n.d(t,"B",(function(){return B})),n.d(t,"y",(function(){return V})),n.d(t,"o",(function(){return K})),n.d(t,"s",(function(){return q})),n.d(t,"u",(function(){return G})),n.d(t,"A",(function(){return Q})),n.d(t,"z",(function(){return z})),n.d(t,"F",(function(){return Y})),n.d(t,"C",(function(){return H})),n.d(t,"v",(function(){return J})),n.d(t,"E",(function(){return Z})),n.d(t,"D",(function(){return X})),n.d(t,"t",(function(){return W})),n.d(t,"p",(function(){return ee})),n.d(t,"q",(function(){return te})),n.d(t,"x",(function(){return ne})),n.d(t,"w",(function(){return ae})),n.d(t,"fb",(function(){return re})),n.d(t,"pb",(function(){return ie})),n.d(t,"nb",(function(){return oe})),n.d(t,"U",(function(){return se})),n.d(t,"T",(function(){return ce})),n.d(t,"V",(function(){return le})),n.d(t,"c",(function(){return _e})),n.d(t,"a",(function(){return de})),n.d(t,"P",(function(){return ue})),n.d(t,"N",(function(){return pe})),n.d(t,"O",(function(){return me})),n.d(t,"Q",(function(){return he})),n.d(t,"d",(function(){return fe})),n.d(t,"b",(function(){return ge})),n.d(t,"tb",(function(){return be})),n.d(t,"sb",(function(){return ve})),n.d(t,"wb",(function(){return Ie})),n.d(t,"vb",(function(){return Ae})),n.d(t,"xb",(function(){return De})),n.d(t,"R",(function(){return ye})),n.d(t,"S",(function(){return Oe})),n.d(t,"rb",(function(){return Ce})),n.d(t,"ub",(function(){return xe})),n.d(t,"e",(function(){return we})),n.d(t,"g",(function(){return Fe})),n.d(t,"h",(function(){return ke})),n.d(t,"i",(function(){return Se})),n.d(t,"f",(function(){return Le})),n.d(t,"j",(function(){return Ee})),n.d(t,"gb",(function(){return Me}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),r=n("5b78");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(e,o({},t)).then((function(e){return e})).catch((function(){}))}}function c(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post(e,o({},t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e})).catch((function(){}))}}var l=s("Quantity_Statistics/detail"),_=s("Quantity_Statistics/levelSecondList"),d=(s("Quantity_Statistics/checkDate"),s("Quantity_Statistics/createAlgorithm")),u=s("Quantity_Statistics/createQuantity"),p=s("Quantity_Statistics/diyList"),m=s("Quantity_Statistics/deleteQuantity"),h=s("Quantity_Statistics/grade"),f=s("Quantity_Statistics/weight"),g=s("Day_Active_Predict/calculatorList"),b=s("Day_Active_Predict/getDayActiveDefaultValue"),v=s("Day_Active_Predict/calculatorSave"),I=s("Day_Active_Predict/calculatorCount"),A=s("Day_Active_Predict/delete"),D=s("Day_Active_Predict/dayCalculator"),y=s("Day_Active_Predict/predictCompare"),O=s("Channel_Manage/list"),C=(s("App/getChannel"),s("Channel_Manage/save")),x=(s("Dashboard/index"),s("User_Statistics/download")),w=s("User_Statistics/active"),F=s("Behavior_Statistics/startTime"),k=s("Behavior_Statistics/useTime"),S=s("Order_Statistics/conversionFunnel"),L=(s("Order_Statistics/orderMoney"),s("Order_Statistics/orderChargeBack"),s("Order_Statistics/allIncome"),s("User_Statistics/userValue")),E=(s("Order_Statistics/repurchase"),s("system/adminUserList")),M=s("system/operationList"),R=s("system/operationLog"),P=c("Transaction_Program/save"),T=s("Transaction_Program/show"),N=s("Transaction_Program/landInfo"),$=s("Transaction_Program/materialList"),U=s("Transaction_Program/landSave"),j=(s("File/uploadImage"),s("Dashboard/dashboardSetting")),B=s("Dashboard/saveBoardSetting"),V=s("Dashboard/incomePer"),K=s("Dashboard/activePayUserPer"),q=s("Dashboard/deviceActiveVersion"),G=s("Dashboard/deviceNewTop5"),Q=s("Dashboard/orderConversionFunnel"),z=s("Dashboard/lifeCycle"),Y=(s("Dashboard/lifeCycleValue"),s("Dashboard/lifeCyclePayValue"),s("Dashboard/userValue")),H=(s("Dashboard/newUserPay"),s("Dashboard/sevenDayOrderRecycle")),J=s("Dashboard/firstBuyRebuyPer"),Z=s("Dashboard/userRoi"),X=s("Dashboard/userKeep"),W=s("Dashboard/deviceAddDis"),ee=s("Dashboard/baseDashboard"),te=s("Dashboard/baseDashboardLine"),ne=s("Dashboard/incomeDashboardLine"),ae=s("Dashboard/incomeDashboard"),re=s("System/apps"),ie=(s("system/menu"),s("admin/get"),s("admin/save"),s("User_Statistics/keep")),oe=s("User_Statistics/activeKeep"),se=s("Ip/originList"),ce=s("Ip/addLandingPage"),le=s("Ip/updateLandingPage"),_e=(s("Ip/originListWithTitle"),s("Ip/ipStatics"),s("Apartment_Manage/index")),de=s("Apartment_Manage/create"),ue=s("Group_Manage/index"),pe=s("Group_Manage/create"),me=s("Group_Manage/delete"),he=s("Group_Manage/store"),fe=s("Apartment_Manage/store"),ge=s("Apartment_Manage/delete"),be=s("income/index"),ve=s("income/incomeChannelList"),Ie=s("income/storeIncomeChannel"),Ae=s("income/saveAd"),De=s("income/updateChannelShow"),ye=s("Invest_Statistics/investChannelList"),Oe=(s("Invest_Statistics/store_invest_channel"),s("Invest_Statistics/classify"),s("Invest_Statistics/invest_channels"),s("Invest_Statistics/services_types"),s("Invest_Statistics/updateChannelShow")),Ce=(s("Invest_Statistics/index"),s("admin/index")),xe=s("income/operateList"),we=s("App/ipblack_city_add_province"),Fe=s("App/ipblack_city_list"),ke=s("App/ipblack_ip_add"),Se=s("App/ipblack_ip_list"),Le=s("App/ipblack_city_delete"),Ee=s("App/ipblck_ip_delete"),Me=(s("Invest_Statistics/addInvestChannel"),s("System/getQuickAK"));s("System/addCpc"),s("System/getCpcList"),s("System/updateCpc")},f122:function(e,t,n){},fd78:function(e,t,n){}}]);
//# sourceMappingURL=chunk-755c295a.1.0.0.1672021042960.js.map