(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fd442a7"],{"22bf":function(t,e,n){"use strict";n("df78")},"593c":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container"},[n("div",{staticClass:"top"},[n("div",{staticClass:"formula-view"},[n("h2",{staticClass:"tips"},[t._v("公式预览:")]),n("div",{staticClass:"box"},t._l(t.views,(function(e,i){return n("p",{key:i},[t._v(t._s(e))])})),0)])]),n("div",{staticClass:"bottom"},[t._l(t.List,(function(e,i){return n("div",{key:i,staticClass:"parent-wrap"},[n("div",{staticClass:"parent"},[n("div",{staticClass:"title"},[t._v(t._s(e.index_name))]),n("div",{staticClass:"scale"},[n("span",[t._v("权重")]),n("el-input",{attrs:{placeholder:"比例"},model:{value:e.weight,callback:function(n){t.$set(e,"weight",n)},expression:"item.weight"}}),n("span",[t._v("%")])],1)]),n("div",{staticClass:"childs"},t._l(e.children,(function(a,r){return n("div",{key:r,staticClass:"child-item"},[n("div",{staticClass:"hd"},[n("div",{staticClass:"title"},[t._v("二级指标")]),n("div",{staticClass:"handle"},[r!==e.children.length-1||e.children.length>1?n("div",{staticClass:"remove",on:{click:function(e){return t.remove(i,r)}}},[t._v("-")]):t._e(),r==e.children.length-1?n("div",{staticClass:"add",on:{click:function(e){return t.add(i)}}},[t._v("+")]):t._e()])]),n("div",{staticClass:"content-wrap"},[n("ul",{staticClass:"content-list"},[n("li",{staticClass:"content-item"},[n("div",{staticClass:"item"},[n("el-radio",{attrs:{label:1},model:{value:a.type,callback:function(e){t.$set(a,"type",e)},expression:"child_item.type"}},[t._v("中台数据")]),n("el-select",{attrs:{placeholder:"请选择",disabled:1!==a.type},on:{change:function(e){return t.selectChange(i,r,e)}},model:{value:a.quality_index_id_type_1,callback:function(e){t.$set(a,"quality_index_id_type_1",e)},expression:"child_item.quality_index_id_type_1"}},t._l(a.zhongtai_options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1)],1),n("div",{staticClass:"item"},[n("el-radio",{attrs:{label:2},model:{value:a.type,callback:function(e){t.$set(a,"type",e)},expression:"child_item.type"}},[t._v("上传数据")]),n("el-select",{attrs:{placeholder:"请选择",disabled:2!==a.type},on:{change:function(e){return t.selectChange(i,r,e)}},model:{value:a.quality_index_id_type_2,callback:function(e){t.$set(a,"quality_index_id_type_2",e)},expression:"child_item.quality_index_id_type_2"}},t._l(a.diy_options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1)],1),n("div",{staticClass:"item maxValueOrMinValue"},[n("div",[n("span",[t._v("最小值：")]),n("el-input",{attrs:{placeholder:"请输入内容"},on:{change:function(e){return t.checkMax_valueOrMin_value(i,r)}},model:{value:a.min_value,callback:function(e){t.$set(a,"min_value",e)},expression:"child_item.min_value"}})],1),n("div",[n("span",[t._v("最大值：")]),n("el-input",{attrs:{placeholder:"请输入内容"},on:{change:function(e){return t.checkMax_valueOrMin_value(i,r)}},model:{value:a.max_value,callback:function(e){t.$set(a,"max_value",e)},expression:"child_item.max_value"}})],1)]),n("div",{staticClass:"item scale-wrap"},[n("div",{staticClass:"scale"},[n("span",[t._v("权重")]),n("el-input",{attrs:{placeholder:"比例"},model:{value:a.weight,callback:function(e){t.$set(a,"weight",e)},expression:"child_item.weight"}}),n("span",[t._v("%")])],1)])])])])])})),0)])})),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存修改")])],1)],2)])])},a=[],r=(n("ac6a"),n("c5f6"),n("96cf"),n("1da1")),s=n("cf87"),c={data:function(){return{List:[],parent:!0,child:!0,views:[],selectList:{}}},created:function(){this.getList()},methods:{getList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},t.next=3,Object(s["db"])().then((function(t){for(var n in t[1])for(var i in e[n]=[],t[1][n])e[n].push({value:Number(i),label:t[1][n][i]})}));case 3:return this.selectList=e,t.next=6,Object(s["X"])().then((function(t){t[1].forEach((function(t){t.children.length||t.children.push({type:1,quality_index_id:"",quality_index_id_type_1:"",quality_index_id_type_2:"",zhongtai_options:n.selectList.zhongtai,diy_options:n.selectList.diy,time_range:["2020-05-01","2020-05-02"],index_name:"",max_value:1,min_value:.01,weight:100}),t.children.forEach((function(t){var n=t.type,i=t.quality_index_id;switch(n){case 1:t.quality_index_id_type_1=i,t.quality_index_id_type_2="";break;case 2:t.quality_index_id_type_2=i,t.quality_index_id_type_1="";break}t.zhongtai_options=e.zhongtai,t.diy_options=e.diy,t.time_range=["2020-05-01","2020-05-02"]}))})),n.List=t[1]}));case 6:this.getViews();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),weightCompute:function(t){var e=100,n=function(t,e){return t+e};return t.reduce(n)==e},parentWeight:function(){for(var t=[],e=0;e<this.List.length;e++){var n=this.List[e].weight;t.push(Number(n))}this.weightCompute(t)?this.parent=!0:(this.$notify.error({title:"错误",message:"一级权重大于或小于100，请重新输入"}),this.parent=!1)},childChange:function(){var t=[];this.List.forEach((function(e){var n=0;e.children.forEach((function(t){var e=t.weight;n+=Number(e)})),t.push(n)}));for(var e=0;e<t.length;e++){if(100!=t[e]){this.child=!1;break}this.child=!0}},selectChange:function(t,e,n){var i=this.List[t].children[e],a=i.type,r=i.zhongtai_options,s=i.diy_options;switch(i.quality_index_id=n,a){case 1:for(var c=0;c<r.length;c++)if(r[c].value==n){i.index_name=r[c].label;break}break;case 2:for(var u=0;u<s.length;u++)if(s[u].value==n){i.index_name=s[u].label;break}break}},checkMax_valueOrMin_value:function(t,e){var n=this.List[t].children[e],i=n.max_value,a=n.min_value;i<a?(this.$notify.error({title:"错误",message:"最大值必须大于最小值"}),this.child=!1):this.child=!0},add:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=this.List[e].children,n.push({type:1,quality_index_id:"",quality_index_id_type_1:"",quality_index_id_type_2:"",zhongtai_options:this.selectList.zhongtai,diy_options:this.selectList.diy,time_range:["2020-05-01","2020-05-02"],index_name:"",max_value:1,min_value:.01,weight:0});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),remove:function(t,e){this.List[t].children.splice(e,1)},getViews:function(){var t=[];this.List.forEach((function(e){var n=e.index_name,i=e.weight,a=e.children,r="".concat(n).concat(i,"% ("),s=[];a.forEach((function(t){t.quality_index_id;var e=t.weight,n=t.index_name;s.push("".concat(n," ").concat(e,"% "))})),r+=" ".concat(s.join("+"),")"),t.push(r)})),this.views=t},submit:function(){var t=this;this.parentWeight(),this.childChange(),this.parent&&this.child?Object(s["Y"])({data:this.List}).then((function(e){1==e[2]&&(t.$message({message:"保存成功",type:"success"}),t.getList())})):this.child||this.$notify.error({title:"错误",message:"二级权重大于或小于100，请重新输入"})}}},u=c,o=(n("22bf"),n("2877")),d=Object(o["a"])(u,i,a,!1,null,"77dbd748",null);e["default"]=d.exports},cf87:function(t,e,n){"use strict";n.d(e,"X",(function(){return o})),n.d(e,"db",(function(){return d})),n.d(e,"Y",(function(){return l})),n.d(e,"Z",(function(){return _})),n.d(e,"bb",(function(){return h})),n.d(e,"ab",(function(){return f})),n.d(e,"cb",(function(){return p})),n.d(e,"eb",(function(){return v})),n.d(e,"H",(function(){return b})),n.d(e,"L",(function(){return y})),n.d(e,"I",(function(){return m})),n.d(e,"G",(function(){return g})),n.d(e,"K",(function(){return x})),n.d(e,"J",(function(){return w})),n.d(e,"M",(function(){return C})),n.d(e,"m",(function(){return S})),n.d(e,"n",(function(){return k})),n.d(e,"ob",(function(){return D})),n.d(e,"mb",(function(){return L})),n.d(e,"k",(function(){return O})),n.d(e,"l",(function(){return P})),n.d(e,"W",(function(){return A})),n.d(e,"qb",(function(){return j})),n.d(e,"yb",(function(){return q})),n.d(e,"zb",(function(){return I})),n.d(e,"Ab",(function(){return M})),n.d(e,"kb",(function(){return Q})),n.d(e,"lb",(function(){return $})),n.d(e,"hb",(function(){return T})),n.d(e,"jb",(function(){return V})),n.d(e,"ib",(function(){return z})),n.d(e,"r",(function(){return E})),n.d(e,"B",(function(){return U})),n.d(e,"y",(function(){return R})),n.d(e,"o",(function(){return B})),n.d(e,"s",(function(){return G})),n.d(e,"u",(function(){return N})),n.d(e,"A",(function(){return F})),n.d(e,"z",(function(){return K})),n.d(e,"F",(function(){return W})),n.d(e,"C",(function(){return J})),n.d(e,"v",(function(){return X})),n.d(e,"E",(function(){return Y})),n.d(e,"D",(function(){return H})),n.d(e,"t",(function(){return Z})),n.d(e,"p",(function(){return tt})),n.d(e,"q",(function(){return et})),n.d(e,"x",(function(){return nt})),n.d(e,"w",(function(){return it})),n.d(e,"fb",(function(){return at})),n.d(e,"pb",(function(){return rt})),n.d(e,"nb",(function(){return st})),n.d(e,"U",(function(){return ct})),n.d(e,"T",(function(){return ut})),n.d(e,"V",(function(){return ot})),n.d(e,"c",(function(){return dt})),n.d(e,"a",(function(){return lt})),n.d(e,"P",(function(){return _t})),n.d(e,"N",(function(){return ht})),n.d(e,"O",(function(){return ft})),n.d(e,"Q",(function(){return pt})),n.d(e,"d",(function(){return vt})),n.d(e,"b",(function(){return bt})),n.d(e,"tb",(function(){return yt})),n.d(e,"sb",(function(){return mt})),n.d(e,"wb",(function(){return gt})),n.d(e,"vb",(function(){return xt})),n.d(e,"xb",(function(){return wt})),n.d(e,"R",(function(){return Ct})),n.d(e,"S",(function(){return St})),n.d(e,"rb",(function(){return kt})),n.d(e,"ub",(function(){return Dt})),n.d(e,"e",(function(){return Lt})),n.d(e,"g",(function(){return Ot})),n.d(e,"h",(function(){return Pt})),n.d(e,"i",(function(){return At})),n.d(e,"f",(function(){return jt})),n.d(e,"j",(function(){return qt})),n.d(e,"gb",(function(){return It}));n("8e6e"),n("ac6a"),n("456d");var i=n("ade3"),a=n("5b78");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(t,s({},e)).then((function(t){return t})).catch((function(){}))}}function u(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].post(t,s({},e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){return t})).catch((function(){}))}}var o=c("Quantity_Statistics/detail"),d=c("Quantity_Statistics/levelSecondList"),l=(c("Quantity_Statistics/checkDate"),c("Quantity_Statistics/createAlgorithm")),_=c("Quantity_Statistics/createQuantity"),h=c("Quantity_Statistics/diyList"),f=c("Quantity_Statistics/deleteQuantity"),p=c("Quantity_Statistics/grade"),v=c("Quantity_Statistics/weight"),b=c("Day_Active_Predict/calculatorList"),y=c("Day_Active_Predict/getDayActiveDefaultValue"),m=c("Day_Active_Predict/calculatorSave"),g=c("Day_Active_Predict/calculatorCount"),x=c("Day_Active_Predict/delete"),w=c("Day_Active_Predict/dayCalculator"),C=c("Day_Active_Predict/predictCompare"),S=c("Channel_Manage/list"),k=(c("App/getChannel"),c("Channel_Manage/save")),D=(c("Dashboard/index"),c("User_Statistics/download")),L=c("User_Statistics/active"),O=c("Behavior_Statistics/startTime"),P=c("Behavior_Statistics/useTime"),A=c("Order_Statistics/conversionFunnel"),j=(c("Order_Statistics/orderMoney"),c("Order_Statistics/orderChargeBack"),c("Order_Statistics/allIncome"),c("User_Statistics/userValue")),q=(c("Order_Statistics/repurchase"),c("system/adminUserList")),I=c("system/operationList"),M=c("system/operationLog"),Q=u("Transaction_Program/save"),$=c("Transaction_Program/show"),T=c("Transaction_Program/landInfo"),V=c("Transaction_Program/materialList"),z=c("Transaction_Program/landSave"),E=(c("File/uploadImage"),c("Dashboard/dashboardSetting")),U=c("Dashboard/saveBoardSetting"),R=c("Dashboard/incomePer"),B=c("Dashboard/activePayUserPer"),G=c("Dashboard/deviceActiveVersion"),N=c("Dashboard/deviceNewTop5"),F=c("Dashboard/orderConversionFunnel"),K=c("Dashboard/lifeCycle"),W=(c("Dashboard/lifeCycleValue"),c("Dashboard/lifeCyclePayValue"),c("Dashboard/userValue")),J=(c("Dashboard/newUserPay"),c("Dashboard/sevenDayOrderRecycle")),X=c("Dashboard/firstBuyRebuyPer"),Y=c("Dashboard/userRoi"),H=c("Dashboard/userKeep"),Z=c("Dashboard/deviceAddDis"),tt=c("Dashboard/baseDashboard"),et=c("Dashboard/baseDashboardLine"),nt=c("Dashboard/incomeDashboardLine"),it=c("Dashboard/incomeDashboard"),at=c("System/apps"),rt=(c("system/menu"),c("admin/get"),c("admin/save"),c("User_Statistics/keep")),st=c("User_Statistics/activeKeep"),ct=c("Ip/originList"),ut=c("Ip/addLandingPage"),ot=c("Ip/updateLandingPage"),dt=(c("Ip/originListWithTitle"),c("Ip/ipStatics"),c("Apartment_Manage/index")),lt=c("Apartment_Manage/create"),_t=c("Group_Manage/index"),ht=c("Group_Manage/create"),ft=c("Group_Manage/delete"),pt=c("Group_Manage/store"),vt=c("Apartment_Manage/store"),bt=c("Apartment_Manage/delete"),yt=c("income/index"),mt=c("income/incomeChannelList"),gt=c("income/storeIncomeChannel"),xt=c("income/saveAd"),wt=c("income/updateChannelShow"),Ct=c("Invest_Statistics/investChannelList"),St=(c("Invest_Statistics/store_invest_channel"),c("Invest_Statistics/classify"),c("Invest_Statistics/invest_channels"),c("Invest_Statistics/services_types"),c("Invest_Statistics/updateChannelShow")),kt=(c("Invest_Statistics/index"),c("admin/index")),Dt=c("income/operateList"),Lt=c("App/ipblack_city_add_province"),Ot=c("App/ipblack_city_list"),Pt=c("App/ipblack_ip_add"),At=c("App/ipblack_ip_list"),jt=c("App/ipblack_city_delete"),qt=c("App/ipblck_ip_delete"),It=(c("Invest_Statistics/addInvestChannel"),c("System/getQuickAK"));c("System/addCpc"),c("System/getCpcList"),c("System/updateCpc")},df78:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3fd442a7.1.0.0.1672021042960.js.map