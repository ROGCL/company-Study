(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd2a37a8"],{"01e5":function(t,e,a){},"5e7d":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return s}));var n=a("c1df"),o=a.n(n),r={shortcuts:[{text:"昨天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"近30天",onClick:function(t){var e=o()().subtract(1,"months").format("YYYY-MM-DD"),a=o()().format("YYYY-MM-DD");t.$emit("pick",[e,a])}},{text:"近60天",onClick:function(t){var e=o()().subtract(2,"months").format("YYYY-MM-DD"),a=o()().format("YYYY-MM-DD");t.$emit("pick",[e,a])}},{text:"近90天",onClick:function(t){var e=o()().subtract(3,"months").format("YYYY-MM-DD"),a=o()().format("YYYY-MM-DD");t.$emit("pick",[e,a])}},{text:"本月",onClick:function(t){var e=new Date,a=e.getFullYear(),n=e.getMonth()+1,o=new Date(a+"-"+n+"-01");t.$emit("pick",[o,e])}},{text:"上个月",onClick:function(t){var e=o()().subtract(1,"months").endOf("month"),a=e.format("YYYY-MM-DD"),n=e.format("YYYY-MM-01");t.$emit("pick",[n,a])}}]},s=function(t){return[{label:"天",value:1,disabled:!1},{label:"周",value:2,disabled:o()(t[1]).diff(o()(t[0]),"days")<7},{label:"月",value:3,disabled:o()(t[1]).diff(o()(t[0]),"months")<1}]},i=[{label:"总订单统计",value:0,disabled:!1}]},f07f:function(t,e,a){"use strict";a("01e5")},f6e0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("FilterLayout",{on:{onSubmit:t.onSubmit},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[a("el-col",{attrs:{md:12,lg:6,sm:24}},[a("el-form-item",{attrs:{label:"时间",prop:"ad_id"}},[a("dataPicker",{attrs:{datevalue:t.searchForm.time},on:{"update:datevalue":function(e){return t.$set(t.searchForm,"time",e)}}})],1)],1),a("el-col",{attrs:{md:12,lg:6,sm:24}},[a("el-form-item",{attrs:{label:"上传人/手机号",prop:"handleName"}},[a("el-input",{attrs:{placeholder:"请输入上传人或手机号",type:"text"},model:{value:t.searchForm.handleName,callback:function(e){t.$set(t.searchForm,"handleName",e)},expression:"searchForm.handleName"}})],1)],1),a("el-col",{attrs:{md:12,lg:6,sm:24}},[a("el-form-item",{attrs:{label:"上传结果",prop:"status"}},[a("el-radio-group",{model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},t._l(t.statusOption,(function(e,n){return a("el-radio-button",{key:n,attrs:{label:e.value}},[t._v(t._s(e.label))])})),1)],1)],1)],1),a("TableLayout",{attrs:{column:t.column,data:t.tableData.data,total:t.tableData.total,loading:t.tableData.loading,currentPage:t.tableOpt.currentPage},on:{sizeChange:t.onSizeChange,pageChange:t.onPageChange,sortChange:t.onSortChange},scopedSlots:t._u([{key:"table-option",fn:function(){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.showUpload=!0}}},[t._v("上传")])]},proxy:!0},{key:"status",fn:function(e){return[a("span",{style:{color:t.formatStatusColor(e.row.status)}},[t._v(t._s(t.formatStatus(e.row.status)))])]}},{key:"option",fn:function(e){return[2==e.row.status?a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.onShowError(e.row.error_info)}}},[t._v("查看原因")]):t._e(),a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.onDown("https://madmin.cqdingyan.com"+e.row.file_path)}}},[t._v("下载文件")])]}}])}),a("el-dialog",{attrs:{title:"上传",visible:t.showUpload},on:{"update:visible":function(e){t.showUpload=e}}},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"投放数据上传",name:"second"}},["second"==t.activeName?a("div",[a("el-upload",{ref:"excel",staticClass:"excel",attrs:{drag:"",name:"excel",data:t.uploadParams,action:t.uploadUrl2,limit:1,"file-list":t.fileList,"auto-upload":!1,accept:".xls, .xlsx, .docx","on-success":t.onSuccess,"on-error":t.onError}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("\n              将文件拖到此处，或\n              "),a("em",[t._v("点击上传")])])]),a("div",{staticClass:"down-tips"},[t._v("\n            支持扩展名：.xls .xlsx .docx\n            "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onDown("https://zhongtai-obs.obs.cn-southwest-2.myhuaweicloud.com//%E4%B8%AD%E5%8F%B0%E6%8A%95%E6%94%BE%E6%A8%A1%E6%9D%BF%20.xlsx")}}},[t._v("下载投放数据模板")])],1)])],1):t._e()]),a("el-tab-pane",{attrs:{label:"打款记录上传",name:"first"}},["first"==t.activeName?a("div",[a("el-upload",{ref:"upload",attrs:{name:"excel",data:t.uploadParams,action:t.uploadUrl,limit:1,"file-list":t.fileList,"auto-upload":!1,multiple:!1,accept:".xls, .xlsx, .docx","on-success":t.onSuccess,drag:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("\n              将文件拖到此处，或\n              "),a("em",[t._v("点击上传")])])]),a("div",{staticClass:"down-tips"},[t._v("\n            支持扩展名：.xls .xlsx .docx\n            "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.onUpload}},[t._v("保存")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onDown("https://madmin.cqdingyan.com/download/%E6%89%93%E6%AC%BE%E8%AE%B0%E5%BD%95%E4%B8%8A%E4%BC%A0%E6%A8%A1%E6%9D%BF.xlsx")}}},[t._v("下载打款记录模板")])],1)])],1):t._e()])],1)],1)],1)},o=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("3835")),s=(a("96cf"),a("1da1")),i=a("ade3"),l=a("c1df"),c=a.n(l),u=a("2b38"),p=a("bb8b"),m=a("2f62"),d=a("5e7d"),f=a("cff8"),h=a.n(f);function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={components:{FilterLayout:u["a"],TableLayout:p["a"]},data:function(){return{uploadParams:{appId:this.$route.query.appId,loginId:h.a.get("user")["id"],loginToken:h.a.get("loginToken")},uploadUrl:"".concat("/Admin","/File/uploadRemit"),uploadUrl2:"".concat("/Admin","/File/uploadV2"),fileList:[],searchForm:{time:[c()().subtract(30,"d").format("YYYY-MM-DD"),c()().format("YYYY-MM-DD")],handleName:"",status:"",sort:""},activeName:"second",statusOption:[{label:"全部",value:""},{label:"成功",value:"1"},{label:"失败",value:"2"},{label:"上传中",value:"3"}],column:[{prop:"realname",label:"上传人"},{prop:"phone",label:"上传人手机号"},{prop:"file_name",label:"上传文件名"},{prop:"data_num",label:"总数据量（条）"},{prop:"create_time",label:"上传时间",sortable:!0},{prop:"status",label:"上传结果"},{prop:"option",label:"操作"}],tableOpt:{currentPage:1,pageSize:10},tableData:{data:[],total:0,loading:!1,currentPage:1,pageSize:10},showUpload:!1,pickerOptions:d["b"]}},mounted:function(){this.fetchData()},computed:g({},Object(m["d"])({App:function(t){return t.app.data},user:function(t){return t.user}})),methods:{fetchData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o,s,i,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.searchForm,a=this.tableOpt,this.tableData.loading=!0,t.next=4,this.$http.post("Invest_Statistics/RemitList",g(g(g({},e),a),{},{timeBegin:e["time"][0],timeEnd:e["time"][1]}));case 4:if(n=t.sent,o=Object(r["a"])(n,2),s=o[0],i=o[1],this.tableData.loading=!1,!s){t.next=11;break}return t.abrupt("return");case 11:l=i.list,c=i.currentPage,u=i.total,this.tableData.data=l,this.tableData.currentPage=c,this.tableData.total=u;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onSubmit:function(){this.tableOpt.currentPage=1,this.fetchData()},onPageChange:function(t){this.tableOpt.currentPage=t,this.fetchData()},onSizeChange:function(t){this.tableOpt.pageSize=t,this.fetchData()},onSortChange:function(t){this.searchForm.sort=t.order,this.fetchData()},onUpload:function(){this.$refs["upload"].submit()},onSuccess:function(t){var e=t.code,a=t.msg;this.$refs["upload"]&&this.$refs["upload"].clearFiles(),this.$refs["excel"]&&this.$refs["excel"].clearFiles(),1==e?(this.$message({showClose:!0,message:a,type:"success",duration:0}),this.showUpload=!1,this.tableOpt.currentPage=1):this.$message({showClose:!0,message:a,type:"error",duration:0}),this.fetchData()},submit:function(){this.$refs.excel.submit()},onError:function(){this.$message({showClose:!0,message:"上传失败",type:"error",duration:0})},onDown:function(t){t&&window.open(t)},onShowError:function(t){this.$alert(t,"错误原因",{confirmButtonText:"确定"})},formatStatus:function(t){switch(String(t)){case"":return"全部";case"1":return"成功";case"2":return"失败";case"3":return"上传中";default:return"未知"}},formatStatusColor:function(t){switch(String(t)){case"1":return"#67C23A";case"2":return"#F56C6C";default:return"#409EFF"}}}},D=v,w=(a("f07f"),a("2877")),x=Object(w["a"])(D,n,o,!1,null,"64ed5642",null);e["default"]=x.exports}}]);
//# sourceMappingURL=chunk-bd2a37a8.1.0.0.1672021042960.js.map