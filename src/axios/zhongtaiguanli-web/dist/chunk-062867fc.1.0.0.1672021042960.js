(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-062867fc"],{7759:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("FilterLayout",{on:{onSubmit:t.onSubmit},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"快手APPID",prop:"platform_appid"}},[a("el-input",{attrs:{placeholder:"请输入快手APPID"},model:{value:t.searchForm.platform_appid,callback:function(e){t.$set(t.searchForm,"platform_appid",e)},expression:"searchForm.platform_appid"}})],1)],1),a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"罗盘快手ID",prop:"ks_id"}},[a("el-input",{attrs:{placeholder:"请输入快手APPID"},model:{value:t.searchForm.ks_id,callback:function(e){t.$set(t.searchForm,"ks_id",e)},expression:"searchForm.ks_id"}})],1)],1)],1),a("TableLayout",{attrs:{column:t.column,data:t.tableData.data,total:t.tableData.total,loading:t.tableData.loading,currentPage:t.tableOpt.currentPage,params:t.searchForm,layout:"total, prev, pager, next"},on:{pageChange:t.onPageChange},scopedSlots:t._u([{key:"table-option",fn:function(){return[a("el-button",{attrs:{type:"primary"},on:{click:t.onShowAdd}},[t._v("新增授权")])]},proxy:!0},{key:"option",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.onEdit(e.row)}}},[t._v("编辑")])]}}])}),a("el-dialog",{attrs:{title:"磁力引擎拉取客户罗盘授权",visible:t.addVisible},on:{"update:visible":function(e){t.addVisible=e}}},[a("a",{staticClass:"dialog-tip",attrs:{href:"https://docs.qq.com/doc/DWnZtQnRIV0dFaGFX",target:"_blank"}},[t._v("如何获取以下字段？")]),a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"100px",rules:t.addRules}},[a("el-form-item",{attrs:{label:"快手APPID",prop:"platform_appid"}},[a("el-input",{attrs:{placeholder:"在磁力引擎-应用管理中获取",disabled:t.edit},model:{value:t.addForm.platform_appid,callback:function(e){t.$set(t.addForm,"platform_appid",e)},expression:"addForm.platform_appid"}})],1),a("el-form-item",{attrs:{label:"Secret",prop:"secret"}},[a("el-input",{attrs:{placeholder:"在磁力引擎-应用管理-设置中获取"},model:{value:t.addForm.secret,callback:function(e){t.$set(t.addForm,"secret",e)},expression:"addForm.secret"}})],1),a("el-form-item",{attrs:{label:"auth_code",prop:"auth_code"}},[a("el-input",{attrs:{placeholder:"通过粘贴授权URL获取(有效期10分钟)"},model:{value:t.addForm.auth_code,callback:function(e){t.$set(t.addForm,"auth_code",e)},expression:"addForm.auth_code"}})],1),a("el-form-item",{attrs:{label:"快手罗盘ID",prop:"ks_id"}},[a("el-input",{attrs:{placeholder:"罗盘账户的 [快手ID]",disabled:t.edit},model:{value:t.addForm.ks_id,callback:function(e){t.$set(t.addForm,"ks_id",e)},expression:"addForm.ks_id"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("确 定")])],1)],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("3835")),i=(a("96cf"),a("1da1")),s=a("ade3"),l=a("2f62"),c=a("2b38"),d=a("bb8b");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={components:{FilterLayout:c["a"],TableLayout:d["a"]},data:function(){return{column:[{prop:"platform_appid",label:"快手APPID"},{prop:"secret",label:"Secret"},{prop:"ks_id",label:"罗盘快手ID"},{prop:"option",label:"操作"}],searchForm:{ks_id:"",platform_appid:""},tableOpt:{currentPage:1,pageSize:10},tableData:{data:[],total:0,loading:!1,currentPage:1,pageSize:10},addVisible:!1,addForm:{platform_appid:"",auth_code:"",secret:"",ks_id:""},addRules:{platform_appid:[{required:!0,message:"请输入快手APPID"}],secret:[{required:!0,message:"请输入秘钥"}],auth_code:[{required:!0,message:"请输入验证auth_code"}],ks_id:[{required:!0,message:"请输入快手罗盘ID"}]},edit:!1}},mounted:function(){this.fetchList()},computed:u({},Object(l["d"])({channel:function(t){return t.channel.data},App:function(t){return t.app.data}})),methods:{onSubmit:function(){this.tableOpt.currentPage=1,this.fetchList()},onPageChange:function(t){this.tableOpt.currentPage=t,this.fetchList()},fetchList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,r,o,i,s,l,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.searchForm,a=this.tableOpt,this.tableData.loading=!0,t.next=4,this.$http.post("Invest_Config/authorizationKsList",u(u({},e),a));case 4:if(r=t.sent,o=Object(n["a"])(r,2),i=o[0],s=o[1],this.tableData.loading=!1,!i){t.next=11;break}return t.abrupt("return");case 11:l=s.list,c=s.currentPage,d=s.total,this.tableData.data=l,this.tableData.currentPage=c,this.tableData.total=d;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onShowAdd:function(){this.addVisible=!0,this.edit=!1,this.$refs["addForm"]&&this.$refs["addForm"].resetFields()},onAdd:function(){var t=this;this.$refs["addForm"].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a,r){var o,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.$http.post("Invest_Config/addKsEngine",u({},t.addForm));case 4:if(o=e.sent,i=Object(n["a"])(o,2),s=i[0],i[1],!s){e.next=10;break}return e.abrupt("return");case 10:t.$message({message:t.edit?"编辑授权成功":"新增授权成功",type:"success"}),t.addVisible=!1,t.fetchList();case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},onEdit:function(t){var e=this;this.addVisible=!0,this.edit=!0,this.$nextTick((function(){e.addForm=u(u({},e.addForm),t)}))}}},b=m,f=(a("945e"),a("2877")),h=Object(f["a"])(b,r,o,!1,null,"0757bb81",null);e["default"]=h.exports},"945e":function(t,e,a){"use strict";a("be05")},be05:function(t,e,a){}}]);
//# sourceMappingURL=chunk-062867fc.1.0.0.1672021042960.js.map