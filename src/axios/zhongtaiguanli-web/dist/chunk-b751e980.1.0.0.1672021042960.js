(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b751e980"],{"086b":function(e,t,a){"use strict";a("20ec")},"110a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("FilterLayout",{on:{onSubmit:e.onSubmit},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("el-col",{attrs:{md:12,lg:6,sm:24}},[a("el-form-item",{attrs:{label:"时间",prop:"time"}},[a("dataPicker",{attrs:{datevalue:e.searchForm.time},on:{"update:datevalue":function(t){return e.$set(e.searchForm,"time",t)}}})],1)],1),a("el-col",{attrs:{md:7,sm:12}},[a("el-form-item",{attrs:{label:"渠道",prop:"channel"}},[a("SelectChannel",{model:{value:e.searchForm.channel,callback:function(t){e.$set(e.searchForm,"channel",t)},expression:"searchForm.channel"}})],1)],1),a("el-col",{attrs:{md:5,sm:12}},[a("el-form-item",{attrs:{label:"时间刻度",prop:"timeType"}},[a("el-radio-group",{model:{value:e.searchForm.timeType,callback:function(t){e.$set(e.searchForm,"timeType",t)},expression:"searchForm.timeType"}},e._l(e.timeTypeConfig,(function(t,n){return a("el-radio-button",{key:n,attrs:{disabled:t.disabled,label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1),a("CountLayout",{attrs:{option:e.CountLayoutOption,loading:e.countLoading,countInfo:e.totalInfo},scopedSlots:e._u([{key:"cetent",fn:function(){return[e.channelFlag?a("el-radio-group",{on:{change:e.onAllChange},model:{value:e.allOrinfo,callback:function(t){e.allOrinfo=t},expression:"allOrinfo"}},[a("el-radio-button",{attrs:{label:1}},[e._v("汇总走势")]),a("el-radio-button",{attrs:{label:2}},[e._v("明细走势")])],1):e._e()]},proxy:!0},{key:"option",fn:function(){return[a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"筛选项"}},[a("el-select",{attrs:{placeholder:"请选择筛选项"},on:{change:e.onSelectChange},model:{value:e.select.value,callback:function(t){e.$set(e.select,"value",t)},expression:"select.value"}},e._l(e.selectOption,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1)]},proxy:!0}])}),a("TableLayout",{attrs:{column:e.column,data:e.tableData.data,total:e.tableData.total,loading:e.tableData.loading,currentPage:e.tableOpt.currentPage,params:e.searchForm,leadOut:!0},on:{sizeChange:e.onSizeChange,pageChange:e.onPageChange}})],1)},l=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("3835")),o=(a("96cf"),a("1da1")),c=a("ade3"),i=a("c1df"),u=a.n(i),s=a("2f62"),b=a("2b38"),p=a("8bb5"),h=a("bb8b"),m=a("5e7d"),f=a("cf87"),d=a("a17f"),g=a("bbb5");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(c["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={name:"home",components:{FilterLayout:b["a"],TableLayout:h["a"],CountLayout:p["a"],chartHeaderLoop:d["a"],SelectChannel:g["a"]},data:function(){return{select:{label:"单用户价值",value:"1"},selectOption:[{label:"单用户价值",value:"1"},{label:"单付费用户价值",value:"2"},{label:"会员价值",value:"3"},{label:"广告价值",value:"4"},{label:"新用户价值",value:"5"},{label:"新用户会员价值",value:"6"},{label:"新用户广告价值",value:"7"}],countLoading:!1,searchForm:{time:[u()().subtract(30,"d").format("YYYY-MM-DD"),u()().subtract(1,"d").format("YYYY-MM-DD")],channel:[],timeType:1},column:[{prop:"date",label:"日期"},{prop:"pay_user_per",label:"单付费用户价值(元)"},{prop:"user_per",label:"单用户价值(元)"},{prop:"order_per",label:"会员价值(元)"},{prop:"advert_per",label:"广告价值(元)"},{prop:"new_user_value",label:"新用户价值"},{prop:"new_user_value_order",label:"新用户会员价值"},{prop:"new_user_value_advert",label:"新用户广告价值"}],tableOpt:{currentPage:1,pageSize:10},totalInfo:{},CountLayoutOption:{},pickerOptions:m["b"],allOrinfo:1,channelFlag:!1}},mounted:function(){this.countData(),this.fetchList()},computed:O(O({},Object(s["d"])({channel:function(e){return e.channel.data},tableData:function(e){return e.user_value.list}})),{},{timeTypeConfig:function(){var e=this.searchForm.time;return Object(m["c"])(e)}}),methods:O(O({},Object(s["b"])(["getUserValueList","getUserValueCount"])),{},{onSubmit:function(e){this.tableOpt.currentPage=1,this.fetchList(),this.countData(),this.searchForm.channel.length?this.channelFlag=!0:(this.channelFlag=!1,this.vAllOrinfo=1)},onPageChange:function(e){this.tableOpt.currentPage=e,this.fetchList()},onSizeChange:function(e){this.tableOpt.pageSize=e,this.fetchList()},onSelectChange:function(){this.countData()},fetchList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.searchForm,a=this.tableOpt,e.next=3,this.getUserValueList(O(O(O({},t),a),{},{navCate:2,channel:t["channel"].join(","),timeBegin:t["time"][0],timeEnd:t["time"][1]}));case 3:if(n=e.sent,l=Object(r["a"])(n,2),o=l[0],l[1],!o){e.next=9;break}return e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onAllChange:function(){this.countData()},countData:function(){var e=this,t=this.select,a=this.searchForm;this.countLoading=!0,Object(f["qb"])(O(O({},a),{},{channel:a["channel"]?a["channel"].join(","):"",navCate:5,timeBegin:a["time"][0],timeEnd:a["time"][1],select:t.value})).then((function(t){var n=t[1],l=n.date,r=n.list,o=n.totalInfo,c=n.listAll;e.countLoading=!1,e.totalInfo=o,1==e.allOrinfo&&a["channel"].length>0?e.CountLayoutOption={legendData:Object.keys(c),xAxisData:l,data:c,yName:"元",editData:!0}:e.CountLayoutOption={legendData:Object.keys(r),xAxisData:l,data:r,yName:"元",editData:!0}}))}})},C=y,_=(a("086b"),a("2877")),j=Object(_["a"])(C,n,l,!1,null,"5d2beebc",null);t["default"]=j.exports},"20ec":function(e,t,a){}}]);
//# sourceMappingURL=chunk-b751e980.1.0.0.1672021042960.js.map