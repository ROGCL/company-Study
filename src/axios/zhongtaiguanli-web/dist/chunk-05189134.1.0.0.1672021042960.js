(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05189134"],{"02f3":function(t,e,a){"use strict";a("a9e3")},"07b5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("FilterLayout",{on:{onSubmit:t.onSubmit},model:{value:t.searchForm,callback:function(e){t.searchForm=e},expression:"searchForm"}},[a("el-col",{attrs:{md:12,lg:6,sm:24}},[a("el-form-item",{attrs:{label:"时间",prop:"time"}},[a("dataPicker",{attrs:{datevalue:t.searchForm.time},on:{"update:datevalue":function(e){return t.$set(t.searchForm,"time",e)}}})],1)],1),a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"渠道",prop:"channel"}},[a("SelectOriginChannel",{attrs:{params:{type:3}},model:{value:t.searchForm.channel,callback:function(e){t.$set(t.searchForm,"channel",e)},expression:"searchForm.channel"}})],1)],1)],1),a("CountLayout",{attrs:{option:t.countData.data,loading:t.countData.loading,countInfo:t.countData.totalInfo},scopedSlots:t._u([{key:"cetent",fn:function(){return[t.searchForm.channel.length?a("el-radio-group",{on:{change:t.onAllChange},model:{value:t.allOrinfo,callback:function(e){t.allOrinfo=e},expression:"allOrinfo"}},[a("el-radio-button",{attrs:{label:1}},[t._v("汇总走势")]),a("el-radio-button",{attrs:{label:2}},[t._v("明细走势")])],1):t._e()]},proxy:!0},{key:"option",fn:function(){return[a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"筛选项"}},[a("el-select",{attrs:{placeholder:"请选择筛选项","popper-append-to-body":!1},on:{change:t.onSelectChange},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.selectOption,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1)]},proxy:!0}])}),a("TableLayout",{attrs:{column:t.column,data:t.tableData.data,total:t.tableData.total,loading:t.tableData.loading,currentPage:t.tableOpt.currentPage,params:t.searchForm,leadOut:!0,leadApi:"Order_Statistics/firstRate"},on:{pageChange:t.onPageChange}})],1)},r=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("3835")),l=(a("96cf"),a("1da1")),c=a("ade3"),i=a("c1df"),s=a.n(i),u=a("2ef0"),h=a.n(u),p=a("2b38"),b=a("8bb5"),f=a("bb8b"),d=a("5e7d"),m=a("3801");function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function O(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={components:{FilterLayout:p["a"],TableLayout:f["a"],CountLayout:b["a"],SelectOriginChannel:m["a"]},data:function(){return{select:1,allOrinfo:1,column:[{prop:"date",label:"日期"},{prop:"today_pv",label:"浏览量PV"},{prop:"today_uv",label:"独立访客UV"},{prop:"device_new",label:"归因新增"},{prop:"device_active",label:"归因活跃"}],selectOption:[{label:"归因新增",value:1},{label:"归因活跃",value:2},{label:"浏览量PV",value:3},{label:"独立访客UV",value:4}],searchForm:{time:[s()().subtract(30,"d").format("YYYY-MM-DD"),s()().subtract(1,"d").format("YYYY-MM-DD")],channel:[]},tableOpt:{currentPage:1,pageSize:10},tableData:{data:[],total:0,loading:!1,currentPage:1,pageSize:10},pickerOptions:O({},d["b"]),countData:{data:{},totalInfo:{},loading:!1}}},mounted:function(){this.$route.query.origin&&(this.searchForm.channel=[this.$route.query.origin]),this.fetchList(),this.fetchCount()},methods:{onSubmit:function(){this.tableOpt.currentPage=1,this.fetchList(),this.fetchCount()},onPageChange:function(t){this.tableOpt.currentPage=t,this.fetchList()},onSelectChange:function(){this.fetchCount()},fetchList:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,l,c,i,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.searchForm,a=this.tableOpt,this.tableData.loading=!0,t.next=4,this.$http.post("Ip/ipStatics",O(O(O({},e),a),{},{navCate:2,channel:e["channel"].join(","),timeBegin:e["time"][0],timeEnd:e["time"][1]}));case 4:if(n=t.sent,r=Object(o["a"])(n,2),l=r[0],c=r[1],this.tableData.loading=!1,!l){t.next=11;break}return t.abrupt("return");case 11:i=c.list,s=c.currentPage,u=c.total,this.tableData.data=i,this.tableData.currentPage=s,this.tableData.total=u;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onAllChange:function(){this.fetchCount()},fetchCount:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,l,c,i,s,u,p,b,f,d,m,g,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.searchForm,a=this.select,this.countData.loading=!0,t.next=4,this.$http.post("Ip/ipStatics",O(O({},e),{},{select:a,navCate:1,channel:e["channel"].join(","),timeBegin:e["time"][0],timeEnd:e["time"][1]}));case 4:if(n=t.sent,r=Object(o["a"])(n,2),l=r[0],c=r[1],this.countData.loading=!1,!l){t.next=12;break}return this.countData.data={legendData:[],xAxisData:[],data:[]},t.abrupt("return");case 12:i=c.date,s=c.list,u=c.totalInfo,p=c.listAll,1==this.allOrinfo&&e["channel"].length>0?(b=i,f=Object.keys(p),d=h.a.values(p),this.countData.totalInfo=u,this.countData.data={legendData:f,xAxisData:b,data:d}):(m=i,g=Object.keys(s),v=h.a.values(s),this.countData.totalInfo=u,this.countData.data={legendData:g,xAxisData:m,data:v});case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},D=v,y=(a("02f3"),a("2877")),j=Object(y["a"])(D,n,r,!1,null,"5e326b8e",null);e["default"]=j.exports},a9e3:function(t,e,a){}}]);
//# sourceMappingURL=chunk-05189134.1.0.0.1672021042960.js.map