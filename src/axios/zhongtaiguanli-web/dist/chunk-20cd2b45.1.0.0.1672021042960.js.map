{"version":3,"sources":["webpack:///./src/config/rule.js","webpack:///./src/page/manage_center/user/edit.vue?51a5","webpack:///src/page/manage_center/user/edit.vue","webpack:///./src/page/manage_center/user/edit.vue?35ec","webpack:///./src/page/manage_center/user/edit.vue","webpack:///./src/page/manage_center/user/edit.vue?fa05"],"names":["craeteValidator","regex","message","rule","value","callback","test","Error","validator_mobile","validator_username","validator_password","validator_password_strength","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","userForm","userRules","model","$$v","$set","expression","on","onSave","_v","staticRenderFns","data","adminName","password","realname","phone","email","required","type","trigger","validator","adminId","mounted","$route","query","id","fetchDetail","computed","systemIcon","vm","_currentApp","formatSystem","system","methods","err","res","$refs","validate","valid","component"],"mappings":"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","file":"chunk-20cd2b45.1.0.0.1672021042960.js","sourcesContent":["/**\r\n * 所有表单的验证规则\r\n */\r\n\r\n// 自定义验证器\r\n\r\nfunction craeteValidator(regex, message) {\r\n\treturn (rule, value, callback) => {\r\n\t\tif (!value) {\r\n\t\t\tcallback()\r\n\t\t}\r\n\r\n\t\tif (regex.test(value)) {\r\n\t\t\tcallback()\r\n\r\n\t\t\treturn\r\n\t\t}\r\n\t\tcallback(new Error(message))\r\n\t}\r\n}\r\n\r\n// 汉字\r\nexport const validator_hanzi = craeteValidator(/^[\\u4e00-\\u9fa5]{0,}$/g, '只能输入汉字')\r\n// 中文姓名\r\nexport const validator_chinese_name = craeteValidator(/^[\\u4E00-\\u9FA5]+(·[\\u4E00-\\u9FA5]+)*$/, '输入的姓名格式错误')\r\n// 手机号码\r\nexport const validator_mobile = craeteValidator(/^1\\d{10}$/, '输入的手机号码格式错误')\r\n// 身份证号码\r\nexport const validator_idcard = craeteValidator(/^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$/, '输入的身份证号码格式错误')\r\n// 邮箱\r\nexport const validator_email = craeteValidator(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/, '输入的邮箱格式有误')\r\n// 用户名\r\nexport const validator_username = craeteValidator(/^[a-zA-Z0-9_]{4,16}$/, '用户名格式错误,请输入4-16位字母或数字')\r\n// 简易密码\r\nexport const validator_password = craeteValidator(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,16}$/, '密码格式为8-16位，至少包含大小写字母和数字')\r\n// 密码\r\n// 最少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符\r\nexport const validator_password_strength = craeteValidator(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[^]{8,16}$/, '密码格式为8-16位包含字母大小写和数字')\r\n// url地址\r\nexport const validator_url = craeteValidator(/^((https?|ftp|file):\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/, 'URL格式错误')\r\n// 数字\r\nexport const validator_number = craeteValidator(/^\\d+$/, '只能输入数字')\r\n// 正数\r\nexport const validator_positive_number = craeteValidator(/^-?\\d+$/, '只能输入正数')\r\n// 负数\r\nexport const validator_negtive_number = craeteValidator(/^-\\d+$/, '只能输入负数')\r\n// 整数\r\nexport const validator_integer = craeteValidator(/^\\d+$/, '只能输入整数')\r\n// 正整数\r\nexport const validator_positive_integer = craeteValidator(/^-?\\d+$/, '只能输入正整数')\r\n// 负整数\r\nexport const validator_negtive_integer = craeteValidator(/^-\\d+$/, '只能输入负整数')","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"content\"},[_c('el-form',{ref:\"userForm\",attrs:{\"model\":_vm.userForm,\"label-width\":\"80px\",\"rules\":_vm.userRules}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"required\":\"\",\"prop\":\"adminName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.userForm.adminName),callback:function ($$v) {_vm.$set(_vm.userForm, \"adminName\", $$v)},expression:\"userForm.adminName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"真实姓名\",\"required\":\"\",\"prop\":\"realname\"}},[_c('el-input',{model:{value:(_vm.userForm.realname),callback:function ($$v) {_vm.$set(_vm.userForm, \"realname\", $$v)},expression:\"userForm.realname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"required\":\"\",\"prop\":\"phone\"}},[_c('el-input',{model:{value:(_vm.userForm.phone),callback:function ($$v) {_vm.$set(_vm.userForm, \"phone\", $$v)},expression:\"userForm.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"required\":\"\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, \"email\", $$v)},expression:\"userForm.email\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onSave}},[_vm._v(\"确认修改\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page\">\r\n    <div class=\"content\">\r\n      <el-form ref=\"userForm\" :model=\"userForm\" label-width=\"80px\" :rules=\"userRules\">\r\n        <el-form-item label=\"账号\" required prop=\"adminName\">\r\n          <el-input v-model=\"userForm.adminName\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"真实姓名\" required prop=\"realname\">\r\n          <el-input v-model=\"userForm.realname\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" required prop=\"phone\">\r\n          <el-input v-model=\"userForm.phone\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" required prop=\"email\">\r\n          <el-input v-model=\"userForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"onSave\">确认修改</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { api } from '@/config/api'\r\nimport { validator_mobile } from '@/config/rule'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      userForm: {\r\n        adminName: '',\r\n        password: '',\r\n        realname: '',\r\n        phone: '',\r\n        email: '',\r\n      },\r\n      userRules: {\r\n        adminName: [{ required: true, message: '请输入账号' }],\r\n        email: [\r\n          { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' },\r\n          { required: true, message: '请输入邮箱' },\r\n        ],\r\n        realname: [{ required: true, message: '请输入真实姓名' }],\r\n        phone: [\r\n          { validator: validator_mobile, trigger: 'blur' },\r\n          { required: true, message: '请输入手机号' },\r\n        ],\r\n      },\r\n      adminId: '',\r\n    }\r\n  },\r\n  mounted() {\r\n    this.adminId = this.$route.query.id\r\n    this.fetchDetail()\r\n  },\r\n  computed: {\r\n    systemIcon(vm) {\r\n      const { app, currentApp } = vm\r\n      const _currentApp = _.find(app, (v) => v.id === currentApp)\r\n\r\n      if (!_currentApp) return ''\r\n\r\n      return this.formatSystem(_currentApp.system)\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchDetail() {\r\n      const { adminId } = this\r\n\r\n      if (!adminId) return\r\n\r\n      const [err, res] = await this.$http.post(api.admin.detail, {\r\n        adminId,\r\n      })\r\n\r\n      if (err) return\r\n\r\n      this.userForm = {\r\n        ...this.userForm,\r\n        ...res,\r\n      }\r\n    },\r\n    onSave() {\r\n      this.$refs['userForm'].validate(async (valid, data) => {\r\n        const { adminId } = this\r\n\r\n        if (!adminId) return\r\n\r\n        if (!valid) {\r\n          return false\r\n        }\r\n\r\n        const [err, res] = await this.$http.post(api.admin.edit, {\r\n          ...this.userForm,\r\n          adminId,\r\n        })\r\n\r\n        if (err) return\r\n\r\n        this.$message({\r\n          message: '编辑成功',\r\n          type: 'success',\r\n        })\r\n\r\n        this.$router.go(-1)\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n$step-active-color: #1890ff;\r\n\r\n.page {\r\n  padding: 20px;\r\n  background: #fff;\r\n\r\n  .step {\r\n    width: 100%;\r\n    max-width: 800px;\r\n    height: 60px;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 40px;\r\n    background-color: #efefef;\r\n\r\n    .step-item + .step-item {\r\n      &::after {\r\n        position: absolute;\r\n        content: '';\r\n        width: 32px;\r\n        height: 32px;\r\n        left: -32px;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        background: url('./img/step-arrow.png') no-repeat center;\r\n        background-size: cover;\r\n      }\r\n    }\r\n\r\n    &-item {\r\n      flex-basis: 0;\r\n      flex: 1;\r\n      position: relative;\r\n      padding-left: 70px;\r\n\r\n      &.active {\r\n        color: $step-active-color;\r\n\r\n        &::before {\r\n          color: $step-active-color;\r\n          border-color: $step-active-color;\r\n        }\r\n      }\r\n\r\n      &::before {\r\n        content: attr(data-rank);\r\n        position: absolute;\r\n        left: 20px;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 50%;\r\n        border: 2px solid #555;\r\n        color: #555;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n      }\r\n    }\r\n  }\r\n\r\n  .content {\r\n    width: 500px;\r\n\r\n    .operate {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      /deep/.el-button {\r\n        width: 200px;\r\n        height: 40px;\r\n      }\r\n    }\r\n  }\r\n\r\n  /deep/ .app-control {\r\n    width: 100%;\r\n  }\r\n\r\n  /deep/ .copy-control {\r\n    width: 100%;\r\n\r\n    .el-select__tags {\r\n      width: 100%;\r\n    }\r\n\r\n    .el-input__inner {\r\n      height: 100px;\r\n    }\r\n  }\r\n\r\n  .dialog-footer {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    .option-item {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=521167d4&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=521167d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"521167d4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=521167d4&lang=scss&scoped=true&\""],"sourceRoot":""}