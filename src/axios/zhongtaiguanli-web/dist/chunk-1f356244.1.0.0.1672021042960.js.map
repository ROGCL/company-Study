{"version":3,"sources":["webpack:///./src/layout/count/index.vue?03cb","webpack:///./src/component/select-origin-channel/index.vue?7593","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/component/select-origin-channel/index.vue?fef3","webpack:///src/component/select-origin-channel/index.vue","webpack:///./src/component/select-origin-channel/index.vue?1688","webpack:///./src/component/select-origin-channel/index.vue","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/config/option.js","webpack:///./src/layout/count/index.vue?8ad3","webpack:///src/layout/count/index.vue","webpack:///./src/layout/count/index.vue?cff6","webpack:///./src/layout/count/index.vue"],"names":["fails","module","exports","method","arg","call","render","_vm","this","_h","$createElement","_c","_self","attrs","onFilter","model","value","callback","$$v","insideValue","expression","staticClass","on","onInputAll","all","_v","_l","v","i","key","staticRenderFns","props","type","default","haveAll","disabled","params","data","options","optionsCopy","mounted","fetchChannel","watch","val","length","isSameArray","$emit","methods","err","res","query","filter","originArr1","originArr2","_arr1","_arr2","component","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","moment","subtract","format","years","getFullYear","mouths","getMonth","preMonth","endOf","timeTypeOption","time","label","diff","isNewUserOption","_t","Object","keys","countInfo","_s","countShow","total","avg","_e","countInfoArr","item","index","staticStyle","name","_f","slice","slot","ref","validator","indexOf","option","loading","$count","$echarts","init","$refs","count","window","drawNewMixCount","drawCount","drawMixCount","drawNewBarCount","drawBarCount","opt","filters","countInfoFilters","hasPercentSign","parseFloat","toLocaleString","minimumFractionDigits","editData","legendData","xAxisData","yName","yScale","formatter","xName","arr","list","_data","symbolSize","smooth","showAllSymbol","hoverAnimation","cycle","rate","symbol","clear","setOption","tooltip","trigger","borderRadius","rs","cunt","noDataLoadingOption","effect","effectOption","n","legend","grid","left","right","bottom","containLabel","xAxis","axisLabel","fontSize","color","yAxis","scale","splitLine","lineStyle","padding","series","allName","html","stack","normal","show","position","textStyle","axisPointer","console","yAxisIndex","itemStyle","axisTick","alignWithLabel"],"mappings":"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","file":"chunk-1f356244.1.0.0.1672021042960.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=504f9ee7&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=65aa2304&lang=less&scoped=true&\"","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"placeholder\":\"全部渠道\",\"popper-append-to-body\":false,\"reserve-keyword\":true,\"filterable\":\"\",\"multiple\":\"\",\"collapse-tags\":\"\",\"filter-method\":_vm.onFilter},model:{value:(_vm.insideValue),callback:function ($$v) {_vm.insideValue=$$v},expression:\"insideValue\"}},[_c('div',{staticClass:\"check-all\"},[_c('el-checkbox',{on:{\"input\":_vm.onInputAll},model:{value:(_vm.all),callback:function ($$v) {_vm.all=$$v},expression:\"all\"}},[_vm._v(\"全部勾选\")])],1),_vm._l((_vm.options),function(v,i){return _c('el-option',{key:i,attrs:{\"label\":v,\"value\":v}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-select\r\n    v-model=\"insideValue\"\r\n    placeholder=\"全部渠道\"\r\n    :popper-append-to-body=\"false\"\r\n    :reserve-keyword=\"true\"\r\n    filterable\r\n    multiple\r\n    collapse-tags\r\n    :filter-method=\"onFilter\"\r\n  >\r\n    <div class=\"check-all\">\r\n      <el-checkbox v-model=\"all\" @input=\"onInputAll\">全部勾选</el-checkbox>\r\n    </div>\r\n    <el-option v-for=\"(v, i) in options\" :key=\"i\" :label=\"v\" :value=\"v\" />\r\n  </el-select>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: [String, Number, Array],\r\n      default: '',\r\n    },\r\n    haveAll: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    params: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      insideValue: '',\r\n      options: [],\r\n      optionsCopy: [],\r\n      all: false,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchChannel()\r\n\r\n    this.insideValue = this.value\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.insideValue = val\r\n    },\r\n    insideValue(val) {\r\n      if (val.length) {\r\n        this.all = this.isSameArray(val, this.options)\r\n      }\r\n\r\n      this.$emit('input', val)\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchChannel() {\r\n      const [err, res] = await this.$http.post('Ip/originList', {\r\n        ...this.params\r\n      })\r\n\r\n      if (err) return\r\n\r\n      this.options = res\r\n      this.optionsCopy = res\r\n    },\r\n    onFilter(query) {\r\n      if (query) {\r\n        //val存在\r\n        this.options = this.optionsCopy.filter((item) => {\r\n          if (\r\n            !!~item.indexOf(query) ||\r\n            !!~item.toUpperCase().indexOf(query.toUpperCase())\r\n          ) {\r\n            return true\r\n          }\r\n        })\r\n      } else {\r\n        this.options = this.optionsCopy\r\n      }\r\n    },\r\n    onInputAll(val) {\r\n      if (val) {\r\n        this.insideValue = this.options\r\n      } else {\r\n        this.insideValue = []\r\n      }\r\n    },\r\n    isSameArray(originArr1, originArr2) {\r\n      const arr1 = originArr1.concat([])\r\n      const arr2 = originArr2.concat([])\r\n\r\n      const _arr1 = arr1.sort().join('')\r\n      const _arr2 = arr2.sort().join('')\r\n\r\n      return _arr1 === _arr2\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.check-all {\r\n  padding: 0 20px;\r\n  text-align: right;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=65aa2304&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=65aa2304&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65aa2304\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import moment from 'moment'\r\n\r\nconst pickerOptions = {\r\n  shortcuts: [\r\n    {\r\n      text: '昨天',\r\n      onClick (picker) {\r\n        const end = new Date()\r\n        const start = new Date()\r\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 1)\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    },\r\n    {\r\n      text: '近一周',\r\n      onClick (picker) {\r\n        const end = new Date()\r\n        const start = new Date()\r\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '近30天',\r\n      onClick (picker) {\r\n        const start = moment().subtract(1, 'months').format('YYYY-MM-DD')\r\n        const end = moment().format('YYYY-MM-DD')\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '近60天',\r\n      onClick (picker) {\r\n        const start = moment().subtract(2, 'months').format('YYYY-MM-DD')\r\n        const end = moment().format('YYYY-MM-DD')\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '近90天',\r\n      onClick (picker) {\r\n        const start = moment().subtract(3, 'months').format('YYYY-MM-DD')\r\n        const end = moment().format('YYYY-MM-DD')\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '本月',\r\n      onClick (picker) {\r\n        const end = new Date();\r\n        const years = end.getFullYear();\r\n        const mouths = end.getMonth() + 1;\r\n        const start = new Date(years + '-' + mouths + '-01');\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '上个月',\r\n      onClick (picker) {\r\n        const preMonth = moment().subtract(1, 'months').endOf('month')\r\n        const end = preMonth.format('YYYY-MM-DD')\r\n        const start = preMonth.format('YYYY-MM-01')\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }\r\n  ],\r\n}\r\n\r\nconst timeTypeOption = (time) => {\r\n\r\n  return [\r\n    {\r\n      label: '天',\r\n      value: 1,\r\n      disabled: false\r\n    }, {\r\n      label: '周',\r\n      value: 2,\r\n      disabled: moment(time[1]).diff(moment(time[0]), 'days') < 7\r\n    }, {\r\n      label: '月',\r\n      value: 3,\r\n      disabled: moment(time[1]).diff(moment(time[0]), 'months') < 1\r\n    }\r\n  ]\r\n}\r\nconst isNewUserOption = [\r\n  {\r\n    label: '总订单统计',\r\n    value: 0,\r\n    disabled: false\r\n  },\r\n  // {\r\n  //   label: '新用户订单统计',\r\n  //   value: 1,\r\n  //   disabled: false\r\n  // },\r\n]\r\n\r\n\r\nexport {\r\n  pickerOptions,\r\n  isNewUserOption,\r\n  timeTypeOption\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"count-wrap\"},[_vm._t(\"title\"),_c('div',{staticClass:\"count-option\"},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-row',[_vm._t(\"option\"),_c('div',{staticClass:\"cetent\"},[_vm._t(\"cetent\")],2)],2)],1),_c('div',{staticClass:\"extra\"},[_vm._t(\"extra\",function(){return [(Object.keys(_vm.countInfo).length)?_c('div',{staticClass:\"tag\"},[_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.countShow))]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.countInfo.total))])]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"平均:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.countInfo.avg))])])]):_vm._e()]})],2),_c('div',{staticClass:\"extra\"},[_vm._t(\"extras\",function(){return [(_vm.countInfoArr.length <= 2 && _vm.countInfoArr.length)?_c('div',{staticClass:\"tags\"},_vm._l((_vm.countInfoArr),function(item,index){return _c('div',{key:index,staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"tag-item\",staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(\"\\n              \"+_vm._s(item.name)+\"：\\n            \")]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"合计\")]),_c('div',{staticClass:\"value\"},[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"countInfoFilters\")(item.total,item))+\"\\n              \")])]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"均值:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm._f(\"countInfoFilters\")(item.avg,item)))])])])}),0):_vm._e(),(_vm.countInfoArr.length > 2 && _vm.countInfoArr.length)?_c('div',{staticClass:\"tags\"},[_vm._l((_vm.countInfoArr.slice(0, 2)),function(item,index){return _c('div',{key:index,staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"tag-item\",staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(\"\\n              \"+_vm._s(item.name)+\"：\\n            \")]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"合计\")]),_c('div',{staticClass:\"value\"},[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"countInfoFilters\")(item.total,item))+\"\\n              \")])]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"均值:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm._f(\"countInfoFilters\")(item.avg,item)))])])])}),_c('el-dropdown',{staticStyle:{\"z-index\":\"9999\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n              详情\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.countInfoArr.slice(2)),function(item,index){return _c('el-dropdown-item',{key:index},[_vm._v(\"\\n                \"+_vm._s(item.name)+\"： 合计\"+_vm._s(_vm._f(\"countInfoFilters\")(item.total,item))+\"，均值 \"+_vm._s(_vm._f(\"countInfoFilters\")(item.avg,item))+\"\\n              \")])}),1)],1)],2):_vm._e()]})],2)],1),_c('div',{ref:\"count\",staticStyle:{\"width\":\"100%\",\"height\":\"400px\"}}),_vm._t(\"option-two\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"count-wrap\">\r\n    <slot name=\"title\"></slot>\r\n    <div class=\"count-option\">\r\n      <el-form :inline=\"true\">\r\n        <el-row>\r\n          <slot name=\"option\"></slot>\r\n          <div class=\"cetent\">\r\n            <slot name=\"cetent\"></slot>\r\n          </div>\r\n        </el-row>\r\n      </el-form>\r\n      <div class=\"extra\">\r\n        <slot name=\"extra\">\r\n          <div v-if=\"Object.keys(countInfo).length\" class=\"tag\">\r\n            <div class=\"tag-item\">\r\n              <div class=\"name\">{{ countShow }}</div>\r\n              <div class=\"value\">{{ countInfo.total }}</div>\r\n            </div>\r\n            <div class=\"tag-item\">\r\n              <div class=\"name\">平均:</div>\r\n              <div class=\"value\">{{ countInfo.avg }}</div>\r\n            </div>\r\n          </div>\r\n        </slot>\r\n      </div>\r\n      <div class=\"extra\">\r\n        <slot name=\"extras\">\r\n          <div\r\n            v-if=\"countInfoArr.length <= 2 && countInfoArr.length\"\r\n            class=\"tags\"\r\n          >\r\n            <div\r\n              v-for=\"(item, index) in countInfoArr\"\r\n              :key=\"index\"\r\n              style=\"display: flex\"\r\n            >\r\n              <div class=\"tag-item\" style=\"font-weight: bolder\">\r\n                {{ item.name }}：\r\n              </div>\r\n              <div class=\"tag-item\">\r\n                <div class=\"name\">合计</div>\r\n                <!-- <div class=\"value\">{{ parseFloat(item.total).toLocaleString() }}</div> -->\r\n                <div class=\"value\">\r\n                  {{ item.total | countInfoFilters(item) }}\r\n                </div>\r\n              </div>\r\n              <div class=\"tag-item\">\r\n                <div class=\"name\">均值:</div>\r\n                <div class=\"value\">{{ item.avg | countInfoFilters(item) }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            v-if=\"countInfoArr.length > 2 && countInfoArr.length\"\r\n            class=\"tags\"\r\n          >\r\n            <div\r\n              v-for=\"(item, index) in countInfoArr.slice(0, 2)\"\r\n              :key=\"index\"\r\n              style=\"display: flex\"\r\n            >\r\n              <div class=\"tag-item\" style=\"font-weight: bolder\">\r\n                {{ item.name }}：\r\n              </div>\r\n              <div class=\"tag-item\">\r\n                <div class=\"name\">合计</div>\r\n                <div class=\"value\">\r\n                  {{ item.total | countInfoFilters(item) }}\r\n                </div>\r\n              </div>\r\n              <div class=\"tag-item\">\r\n                <div class=\"name\">均值:</div>\r\n                <div class=\"value\">{{ item.avg | countInfoFilters(item) }}</div>\r\n              </div>\r\n            </div>\r\n            <el-dropdown style=\"z-index: 9999\">\r\n              <span class=\"el-dropdown-link\">\r\n                详情<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n              </span>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item\r\n                  v-for=\"(item, index) in countInfoArr.slice(2)\"\r\n                  :key=\"index\"\r\n                >\r\n                  {{ item.name }}： 合计{{\r\n                    item.total | countInfoFilters(item)\r\n                  }}，均值 {{ item.avg | countInfoFilters(item) }}\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n        </slot>\r\n      </div>\r\n    </div>\r\n    <div ref=\"count\" style=\"width: 100%; height: 400px\"></div>\r\n    <slot name=\"option-two\"></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\nexport default {\r\n  name: \"countLayout\",\r\n  props: {\r\n    type: {\r\n      validator: function (value) {\r\n        return [\"line\", \"bar\", \"newBar\", \"mix\", \"newMix\"].indexOf(value) !== -1;\r\n      },\r\n      default: \"line\",\r\n    },\r\n    option: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    countInfo: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    countInfoArr: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      countShow: \"合计:\",\r\n      $count: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$count = this.$echarts.init(this.$refs.count);\r\n\r\n    window.onresize = () => {\r\n      this.$count && this.$count.resize();\r\n    };\r\n\r\n    if (this.type === \"bar\") {\r\n      this.drawBarCount();\r\n      return;\r\n    }\r\n\r\n    if (this.type === \"newBar\") {\r\n      this.drawNewBarCount();\r\n      return;\r\n    }\r\n\r\n    if (this.type === \"mix\") {\r\n      this.drawMixCount();\r\n      return;\r\n    }\r\n    if (this.type === \"newMix\") {\r\n      this.drawNewMixCount();\r\n    }\r\n\r\n    this.drawCount();\r\n  },\r\n  watch: {\r\n    option(opt) {\r\n      if (this.type === \"bar\") {\r\n        this.drawBarCount(opt);\r\n        return;\r\n      }\r\n\r\n      if (this.type === \"newBar\") {\r\n        this.drawNewBarCount(opt);\r\n        return;\r\n      }\r\n\r\n      if (this.type === \"mix\") {\r\n        this.drawMixCount();\r\n        return;\r\n      }\r\n      if (this.type === \"newMix\") {\r\n        this.drawNewMixCount();\r\n        return;\r\n      }\r\n\r\n      this.drawCount(opt);\r\n    },\r\n    loading(val) {\r\n      val ? this.$count.showLoading() : this.$count.hideLoading();\r\n    },\r\n  },\r\n  filters: {\r\n    countInfoFilters(val, item) {\r\n      // 因为toLocaleString默认是保留3位小数，使用此方法动态获取小数点位数并做保留，小数点后有多少就保留多少\r\n      let arr = _.cloneDeep(val+'').split(\".\");\r\n      if (item.hasPercentSign) {\r\n        return parseFloat(val).toLocaleString() + \"%\";\r\n      } else {\r\n        return parseFloat(val).toLocaleString(\"zh\", {\r\n          minimumFractionDigits: arr.length > 1 ? arr[1].length : 0,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    drawCount(opt = this.option) {\r\n      const {\r\n        editData,\r\n        legendData = [],\r\n        xAxisData = [],\r\n        data = [],\r\n        yName = \"\",\r\n        yScale = false,\r\n        formatter = (f) => f,\r\n        xName = \"\",\r\n      } = opt;\r\n      if (yName === \"百分比\") {\r\n        this.countShow = \"\";\r\n      } else {\r\n        this.countShow = \"合计:\";\r\n      }\r\n      const { type } = this;\r\n      let _data;\r\n      if (editData) {\r\n        let list = [];\r\n        for (let key in data) {\r\n          let arr = {};\r\n          arr.name = key;\r\n          arr.data = [];\r\n          for (let j in data[key]) {\r\n            arr.data.push(data[key][j]);\r\n          }\r\n          list.push(arr);\r\n        }\r\n        _data = list.map((v) => {\r\n          return {\r\n            name: v.name,\r\n            type: type,\r\n            symbolSize: \"7\",\r\n            smooth: true,\r\n            showAllSymbol: true,\r\n            hoverAnimation: false,\r\n            data: v.data.map((_v, _i) => {\r\n              const week = xAxisData ? moment(String(_v.date)).format(\"E\") : 0;\r\n              return {\r\n                value: String(_v.value),\r\n                cycle: _v.cycle,\r\n                rate: _v.rate,\r\n                symbol: week === \"6\" || week === \"7\" ? \"circle\" : \"emptyCircle\",\r\n              };\r\n            }),\r\n          };\r\n        });\r\n      } else {\r\n        _data = data.map((v) => {\r\n          return {\r\n            name: v.name,\r\n            type: type,\r\n            symbolSize: \"7\",\r\n            smooth: true,\r\n            showAllSymbol: true,\r\n            hoverAnimation: false,\r\n            data: v.data.map((_v, _i) => {\r\n              const week = xAxisData ? moment(xAxisData[_i]).format(\"E\") : 0;\r\n              return {\r\n                value: _v,\r\n                symbol: week === \"6\" || week === \"7\" ? \"circle\" : \"emptyCircle\",\r\n              };\r\n            }),\r\n          };\r\n        });\r\n      }\r\n      this.$count.clear();\r\n      this.$count.setOption({\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          borderRadius: 6,\r\n          formatter: (data) => {\r\n            // let rs = `${moment(data[0].name).format('YYYY-MM-DD')}<br/>`;\r\n            let rs = `${data[0].name} <br/>`;\r\n            data.length &&\r\n              data.forEach((v) => {\r\n                let cunt = yName === \"百分比\" ? \"%\" : \"\";\r\n                let text =\r\n                  v.data.rate === undefined\r\n                    ? \"\"\r\n                    : `同比：${v.data.rate}% 环比：${v.data.cycle}% <br/>`;\r\n                rs += editData\r\n                  ? v[\"seriesName\"] +\r\n                    \": \" +\r\n                    formatter(v[\"value\"]) +\r\n                    cunt +\r\n                    \"<br>\" +\r\n                    text\r\n                  : v[\"seriesName\"] + \": \" + formatter(v[\"value\"]) + \"<br>\";\r\n              });\r\n            return rs;\r\n          },\r\n        },\r\n        noDataLoadingOption: {\r\n          text: \"暂无数据\",\r\n          effect: \"bubble\",\r\n          effectOption: {\r\n            effect: {\r\n              n: 0,\r\n            },\r\n          },\r\n        },\r\n        legend: {\r\n          data: legendData,\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          name: xName,\r\n          data: xAxisData,\r\n          axisLabel: {\r\n            fontSize: 12,\r\n            color: \"#8C8C8C\",\r\n          },\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          name: yName,\r\n          scale: yScale,\r\n          splitLine: {\r\n            lineStyle: {\r\n              type: \"dashed\",\r\n            },\r\n          },\r\n          axisLabel: {\r\n            fontSize: 13,\r\n            color: \"#8C8C8C\",\r\n            padding: [0, 10, 0, 0],\r\n            formatter: (v) => {\r\n              let cunt = yName === \"百分比\" ? \"%\" : \"\";\r\n              return formatter && formatter(v) + cunt;\r\n            },\r\n          },\r\n        },\r\n        series: _data,\r\n      });\r\n    },\r\n    drawBarCount(opt = this.option) {\r\n      const {\r\n        xAxis = [],\r\n        yAxis = [],\r\n        series = [],\r\n        legend = [],\r\n        tooltip = {\r\n          trigger: \"axis\",\r\n          borderRadius: 6,\r\n        },\r\n      } = opt;\r\n      this.$count.clear();\r\n      this.$count.setOption({\r\n        color: [\"#3398DB\"],\r\n        tooltip,\r\n        legend,\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis,\r\n        yAxis,\r\n        series,\r\n      });\r\n    },\r\n    drawNewBarCount(opt = this.option) {\r\n      const {\r\n        legendData = [],\r\n        xAxisData = [],\r\n        data = [],\r\n        yName = \"\",\r\n        allName = \"合计\",\r\n        yScale = false,\r\n        formatter = (res) => {\r\n          if (res.length) {\r\n            let html = `${res[0].axisValueLabel}<br/>`;\r\n            let all = 0;\r\n\r\n            res.forEach((v) => {\r\n              all += Number(v.value);\r\n              all = Number(all.toFixed(2));\r\n              html += `${v.marker}${v.seriesName}：${v.value}<br/>`;\r\n            });\r\n            if (allName) {\r\n              return html + `${allName}：${all.toFixed(2)}<br/>`;\r\n            } else {\r\n              return html;\r\n            }\r\n          }\r\n\r\n          return \"\";\r\n        },\r\n      } = opt;\r\n\r\n      let _data = data.map((item) => ({\r\n        type: \"bar\",\r\n        stack: \"two\",\r\n        name: item.name,\r\n        data: item.data,\r\n        label: item.showlabel\r\n          ? {\r\n              normal: {\r\n                show: true,\r\n                position: \"top\",\r\n                textStyle: {\r\n                  color: \"#000\",\r\n                },\r\n              },\r\n            }\r\n          : \"\",\r\n      }));\r\n\r\n      this.$count.clear();\r\n      this.$count.setOption({\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          borderRadius: 6,\r\n          axisPointer: {\r\n            type: \"shadow\",\r\n          },\r\n          formatter: (data) => {\r\n            return formatter(data);\r\n          },\r\n        },\r\n        legend: {\r\n          data: legendData,\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: xAxisData,\r\n          axisLabel: {\r\n            fontSize: 12,\r\n            color: \"#8C8C8C\",\r\n          },\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          name: yName,\r\n          scale: yScale,\r\n          splitLine: {\r\n            lineStyle: {\r\n              type: \"dashed\",\r\n            },\r\n          },\r\n          axisLabel: {\r\n            fontSize: 13,\r\n            color: \"#8C8C8C\",\r\n            padding: [0, 10, 0, 0],\r\n          },\r\n        },\r\n        color: [\"#5291EC\", \"#16C06F\", \"#FFC706\", \"#8267DB\", \"#FF6573\"],\r\n        series: _data,\r\n      });\r\n    },\r\n    drawMixCount(opt = this.option) {\r\n      const {\r\n        legendData = [],\r\n        xAxisData = [],\r\n        data = [],\r\n        yAxis = {},\r\n        formatter = (res) => {\r\n          if (res.length) {\r\n            let html = `${res[0].axisValueLabel}<br/>`;\r\n            let all = 0;\r\n\r\n            res.forEach((v) => {\r\n              all += Number(v.value);\r\n              html += `${v.marker}${v.seriesName}：${v.value}<br/>`;\r\n            });\r\n\r\n            return html + `合计：${all}<br/>`;\r\n          }\r\n\r\n          return \"\";\r\n        },\r\n      } = opt;\r\n\r\n      this.$count.clear();\r\n      this.$count.setOption({\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          borderRadius: 6,\r\n          axisPointer: {\r\n            type: \"shadow\",\r\n          },\r\n          formatter: (data) => {\r\n            return formatter(data);\r\n          },\r\n        },\r\n        legend: {\r\n          data: legendData,\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: xAxisData,\r\n          axisLabel: {\r\n            fontSize: 12,\r\n            color: \"#8C8C8C\",\r\n          },\r\n        },\r\n        yAxis: yAxis,\r\n        color: [\"#5291EC\", \"#FFC706\", \"#8267DB\", \"#16C06F\", \"#FF6573\"],\r\n        series: data,\r\n      });\r\n    },\r\n    drawNewMixCount(opt = this.option) {\r\n      const {\r\n        legendData = [],\r\n        xAxisData = [],\r\n        data = [],\r\n        yAxis = {},\r\n        formatter = (res) => {\r\n          return \"\";\r\n        },\r\n      } = opt;\r\n      console.log(data);\r\n      formatter;\r\n      let colorList = [\"#FF981F\", \"#5291ec\"];\r\n      let _data;\r\n      _data = data.map((v, i) => {\r\n        return {\r\n          name: v.name,\r\n          type: \"line\",\r\n          symbolSize: \"7\",\r\n          smooth: true,\r\n          showAllSymbol: true,\r\n          hoverAnimation: false,\r\n          yAxisIndex: v.yAxisIndex,\r\n          data: v.data.map((_v, _i) => {\r\n            const week = xAxisData ? moment(xAxisData[_i]).format(\"E\") : 0;\r\n            return {\r\n              value: _v,\r\n              symbol: week === \"6\" || week === \"7\" ? \"circle\" : \"emptyCircle\",\r\n            };\r\n          }),\r\n          itemStyle:\r\n            data.length == 1\r\n              ? {\r\n                  color: \"#FF981F\",\r\n                }\r\n              : data.length == 2\r\n              ? { color: colorList[i] }\r\n              : {},\r\n        };\r\n      });\r\n      console.log(_data);\r\n      this.$count.clear();\r\n      console.log(xAxisData,yAxis);\r\n      this.$count.setOption({\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          formatter: (data) => {\r\n            return formatter(data);\r\n          },\r\n        },\r\n        legend: {\r\n          data: legendData,\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: xAxisData,\r\n          axisLabel: {\r\n            fontSize: 12,\r\n            color: \"#8C8C8C\",\r\n          },\r\n          axisTick: {\r\n            alignWithLabel: true,\r\n          },\r\n        },\r\n        yAxis: yAxis,\r\n        color: [\"#FFC706\", \"#5291EC\", \"#8267DB\", \"#16C06F\", \"#FF6573\"],\r\n        series: _data,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.count-wrap {\r\n  background-color: #fff;\r\n  margin-top: 20px;\r\n  padding: 20px 0;\r\n\r\n  .count-option {\r\n    position: relative;\r\n    min-height: 40px;\r\n    margin-bottom: 30px;\r\n\r\n    .cetent {\r\n      display: flex;\r\n      position: absolute;\r\n      width: 300px;\r\n      top: 0;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n    }\r\n\r\n    .extra {\r\n      position: absolute;\r\n      right: 20px;\r\n      top: 0;\r\n      font-size: 12px;\r\n      text-align: right;\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .tag {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        .tag-item + .tag-item {\r\n          margin-left: 4px;\r\n        }\r\n\r\n        .tag-item {\r\n          display: flex;\r\n          align-items: center;\r\n\r\n          .name {\r\n            font-weight: bold;\r\n            margin-right: 2px;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .tags {\r\n        position: absolute;\r\n        bottom: -110px;\r\n        right: 0;\r\n        min-width: 460px;\r\n\r\n        .tag-item + .tag-item {\r\n          margin-left: 4px;\r\n        }\r\n\r\n        .tag-item {\r\n          display: flex;\r\n          align-items: center;\r\n\r\n          .name {\r\n            font-weight: bold;\r\n            margin-right: 2px;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /deep/.el-col {\r\n      .el-form-item {\r\n        width: 100%;\r\n        display: flex;\r\n        padding: 0 20px;\r\n\r\n        .el-form-item__content {\r\n          flex: 1;\r\n          text-align: left;\r\n\r\n          .el-select {\r\n            width: 100%;\r\n          }\r\n\r\n          .el-range-editor.el-input__inner {\r\n            width: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=504f9ee7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=504f9ee7&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"504f9ee7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}