{"version":3,"sources":["webpack:///./src/page/count_center/order_count/return_on_investment/index.vue?9386","webpack:///src/page/count_center/order_count/return_on_investment/index.vue","webpack:///./src/page/count_center/order_count/return_on_investment/index.vue?e6ce","webpack:///./src/page/count_center/order_count/return_on_investment/index.vue","webpack:///./src/component/select-channel/index.vue?faf6","webpack:///./src/layout/count/index.vue?03cb","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/util/sectioncolor.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/config/option.js","webpack:///./src/layout/count/index.vue?8ad3","webpack:///src/layout/count/index.vue","webpack:///./src/layout/count/index.vue?cff6","webpack:///./src/layout/count/index.vue","webpack:///./src/component/select-channel/index.vue?cbf2","webpack:///src/component/select-channel/index.vue","webpack:///./src/component/select-channel/index.vue?bb4f","webpack:///./src/component/select-channel/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","onSubmit","model","value","callback","$$v","searchForm","expression","attrs","pickerOptions","$set","_l","v","i","key","_v","_s","label","countData","countLoading","scopedSlots","_u","fn","onSelectChange","select","proxy","column","tableData","data","total","loading","tableOpt","currentPage","cellStyle","onPageChange","staticRenderFns","name","components","FilterLayout","TableLayout","CountLayout","SelectChannel","time","moment","channel","timeType","type","ROI","disabled","prop","pageSize","mounted","fetchList","fetchCount","computed","mapState","arr","obj","row","count","state","Object","keys","length","legendData","xAxisData","formatter","e","timeTypeConfig","methods","mapActions","res","current","navCate","timeBegin","timeEnd","err","columnIndex","component","fails","module","exports","method","arg","call","parseFloat","section","Number","POSITIVE_INFINITY","colors","min","max","color","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","subtract","format","years","getFullYear","mouths","getMonth","preMonth","endOf","timeTypeOption","diff","isNewUserOption","_t","countInfo","countShow","avg","_e","countInfoArr","item","index","staticStyle","_f","slice","slot","ref","props","validator","indexOf","default","option","$count","$echarts","init","$refs","window","drawNewMixCount","drawCount","drawMixCount","drawNewBarCount","drawBarCount","watch","opt","val","filters","countInfoFilters","hasPercentSign","toLocaleString","minimumFractionDigits","editData","yName","yScale","xName","list","_data","symbolSize","smooth","showAllSymbol","hoverAnimation","cycle","rate","symbol","clear","setOption","tooltip","trigger","borderRadius","rs","cunt","noDataLoadingOption","effect","effectOption","n","legend","grid","left","right","bottom","containLabel","xAxis","axisLabel","fontSize","yAxis","scale","splitLine","lineStyle","padding","series","allName","all","html","stack","normal","show","position","textStyle","axisPointer","console","yAxisIndex","itemStyle","axisTick","alignWithLabel","options","change","insideValue","open","dialogTableVisible","$event","cancel","search","textarea","compress_result","checkList","isIndeterminate","handleCheckAllChange","checkAll","handleCheckedItem","confirm","multi","optionsList","paramFlag","haveAll","timer","channelChildrens","optionsCopy","cakey","selected","opertionListFun","fetchChannel","handler","deep","immediate","clearTimeout","setTimeout","checkedCount","$message","info","success","children","channels","arr_temp","removetag","cascader","clearValue","handleClear","onFilter","query","filter","onInputAll","isSameArray","originArr1","originArr2","_arr1","_arr2"],"mappings":"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kC,UAAUG,QAAQ,YAAcrC,EAAIsC,SAASC,YAAY,OAASvC,EAAIa,WAAW,SAAU,EAAK,UAAYb,EAAIwC,WAAWjC,GAAG,CAAC,WAAaP,EAAIyC,iBAAiB,IAChzFC,EAAkB,G,syBCoFtB,SAEe,GACbC,KAAMA,OACNC,WAAYA,CACVC,aAAJA,OACIC,YAAJA,OACIC,YAAJA,OACIC,cAAJA,QAEEb,KARF,WASI,MAAO,CACLJ,OAAQA,IACRlB,WAAYA,CACVoC,KAAMA,CACdC,4CACAA,4BAEQC,QAASA,GACTC,SAAUA,EACVC,KAAMA,OAERC,IAAKA,CACX,CACQ9B,MAARA,KACQd,MAARA,MACQ6C,UAARA,GAEA,CACQ/B,MAARA,KACQd,MAARA,SACQ6C,UAARA,GAEA,CACQ/B,MAARA,KACQd,MAARA,QACQ6C,UAARA,IAGMtB,OAAQA,CACd,CACQuB,KAARA,OACQhC,MAARA,MAEA,CACQgC,KAARA,WACQhC,MAARA,QAEA,CACQgC,KAARA,OACQhC,MAARA,SAEA,CACQgC,KAARA,OACQhC,MAARA,SAEA,CACQgC,KAARA,OACQhC,MAARA,SAEA,CACQgC,KAARA,OACQhC,MAARA,SAEA,CACQgC,KAARA,OACQhC,MAARA,SAEA,CACQgC,KAARA,OACQhC,MAARA,SAEA,CACQgC,KAARA,OACQhC,MAARA,SAEA,CACQgC,KAARA,QACQhC,MAARA,UAEA,CACQgC,KAARA,QACQhC,MAARA,UAEA,CACQgC,KAARA,QACQhC,MAARA,UAEA,CACQgC,KAARA,QACQhC,MAARA,UAEA,CACQgC,KAARA,SACQhC,MAARA,WAEA,CACQgC,KAARA,SACQhC,MAARA,YAGMc,SAAUA,CACRC,YAAaA,EACbkB,SAAUA,IAEZzC,cAANA,SAGE0C,QA1GF,WA2GIzD,KAAK0D,YACL1D,KAAK2D,cAEPC,SAAUA,EAAZA,KACAC,gBACI5B,UAAJA,YACM6B,EAANA,GACM,IAAN,mCACMC,EAANA,uBACQ,IAAR,KACQ,IAAR,WACU5C,IACV,yBACY2C,EAAZA,MACc9B,OAAdA,EACcgC,IAAdA,EACcC,MAAdA,mBAGYH,EAAZA,MACc9B,OAAdA,EACcgC,IAAdA,EACcC,MAAdA,UAMM,IAAN,oDACQ,IAAR,KACQ,IAAR,WAEYF,EAAZA,GADA,yBACAA,2BAEAA,KAGQ,OAAR,KAEM,IAAN,0CACQG,EAARA,uCAEM,OAAN,6BAEID,MAAJA,YAAM,OAAN,mCACIxC,aAAJA,YAAM,OAAN,yCA1CA,IA4CID,UA5CJ,WA6CM,IAAN,aAEM,GAAIyC,GAASE,OAAOC,KAAKH,GAAOI,OAAQ,CACtC,IAAR,kBAEA,IACA,iBACA,gBAEQ,MAAO,CACLC,WAAVA,EACUC,UAAVA,EACUrC,KAAVA,EACUsC,UAAWA,SAArBA,GACY,OAAOC,EAAI,MAKjB,MAAO,CACLH,WAAYA,GACZC,UAAWA,GACXrC,KAAMA,GACNsC,UAAWA,SAAnBA,GAAA,sCAGIE,eAvEJ,WAwEM,IAAN,uBAEM,OAAO,eAAe1B,MAG1B2B,QAASA,EAAXA,KACAC,4EADA,IAEIrE,SAFJ,SAEAsE,GACM7E,KAAKqC,SAASC,YAAc,EAC5BtC,KAAK0D,YACL1D,KAAK2D,cAEPnB,aAPJ,SAOAsC,GACM9E,KAAKqC,SAASC,YAAcwC,EAC5B9E,KAAK0D,aAEP7B,eAXJ,WAYM7B,KAAK2D,cAEPD,UAdJ,4KAeA9C,EAAA,KAAAA,WAAAyB,EAAA,KAAAA,SAfA,SAiBA,wCACAzB,GACAyB,GAFA,IAGA0C,UACA7B,+BACA8B,uBACAC,wBAvBA,yCAiBAC,EAjBA,WA0BAA,EA1BA,kJA8BIvB,WA9BJ,4KA+BA/C,EAAA,KAAAA,WAAAkB,EAAA,KAAAA,OA/BA,SAiCA,uCACAlB,GADA,IAEAkB,SACAiD,UACA7B,+BACA8B,uBACAC,wBAvCA,yCAiCAC,EAjCA,WA0CAA,EA1CA,kJA8CI3C,UA9CJ,YA8CA,eACM,IADN,iCACA,oBACQ,IAAR,8CACQ,GAAI4C,GAAe,GAA3B,QACU,MAAO,oBAAjB,2CACA,iBACU,MAAO,yCCtU2W,I,YCOxXC,EAAY,eACd,EACAtF,EACA2C,GACA,EACA,KACA,WACA,MAIa,aAAA2C,E,6CClBf,W,oCCAA,W,6DCCA,IAAIC,EAAQ,EAAQ,QAEpBC,EAAOC,QAAU,SAAUC,EAAQC,GACjC,QAASD,GAAUH,GAAM,WAEvBI,EAAMD,EAAOE,KAAK,MAAM,cAA6B,GAAKF,EAAOE,KAAK,W,8DCN3D,gBAAUjF,GAErBA,EAAQkF,WAAWlF,GAEnB,IAAImF,EAAU,CACV,CAAC,EAAG,IACJ,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,IAAKC,OAAOC,oBAGbC,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAEhF,IAAItF,EACA,OAAOsF,EAAO,GAGlB,IAAK,IAAI5E,EAAI,EAAGA,EAAIyE,EAAQvB,OAAQlD,IAAK,CACrC,qBAAiByE,EAAQzE,GAAzB,GAAK6E,EAAL,KAAUC,EAAV,KACIC,EAAQ/E,EAAI,EAChB,GAAGV,GAASuF,EACR,OAAOD,EAAOG,GAEb,GAAIzF,GAASuF,GAAOvF,GAASwF,EAC9B,OAAOF,EAAOG,M,oCCzB1B,IAAIC,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBhB,EAAQ,EAAQ,QAChBiB,EAAQ,GAAGC,KACXC,EAAO,CAAC,EAAG,EAAG,GAElBL,EAAQA,EAAQM,EAAIN,EAAQO,GAAKrB,GAAM,WAErCmB,EAAKD,UAAKI,QACLtB,GAAM,WAEXmB,EAAKD,KAAK,WAEL,EAAQ,OAAR,CAA4BD,IAAS,QAAS,CAEnDC,KAAM,SAAcK,GAClB,YAAqBD,IAAdC,EACHN,EAAMZ,KAAKW,EAASrG,OACpBsG,EAAMZ,KAAKW,EAASrG,MAAOoG,EAAUQ,Q,oCCpB7C,+HAEM7F,EAAgB,CACpB8F,UAAW,CACT,CACEC,KAAM,KACNC,QAFF,SAEWC,GACP,IAAMC,EAAM,IAAIC,KACVC,EAAQ,IAAID,KAClBC,EAAMC,QAAQD,EAAME,UAAY,OAChCL,EAAOM,MAAM,OAAQ,CAACH,EAAOF,MAGjC,CACEH,KAAM,MACNC,QAFF,SAEWC,GACP,IAAMC,EAAM,IAAIC,KACVC,EAAQ,IAAID,KAClBC,EAAMC,QAAQD,EAAME,UAAY,QAChCL,EAAOM,MAAM,OAAQ,CAACH,EAAOF,MAE9B,CACDH,KAAM,OACNC,QAFC,SAEQC,GACP,IAAMG,EAAQlE,MAASsE,SAAS,EAAG,UAAUC,OAAO,cAC9CP,EAAMhE,MAASuE,OAAO,cAC5BR,EAAOM,MAAM,OAAQ,CAACH,EAAOF,MAE9B,CACDH,KAAM,OACNC,QAFC,SAEQC,GACP,IAAMG,EAAQlE,MAASsE,SAAS,EAAG,UAAUC,OAAO,cAC9CP,EAAMhE,MAASuE,OAAO,cAC5BR,EAAOM,MAAM,OAAQ,CAACH,EAAOF,MAE9B,CACDH,KAAM,OACNC,QAFC,SAEQC,GACP,IAAMG,EAAQlE,MAASsE,SAAS,EAAG,UAAUC,OAAO,cAC9CP,EAAMhE,MAASuE,OAAO,cAC5BR,EAAOM,MAAM,OAAQ,CAACH,EAAOF,MAE9B,CACDH,KAAM,KACNC,QAFC,SAEQC,GACP,IAAMC,EAAM,IAAIC,KACVO,EAAQR,EAAIS,cACZC,EAASV,EAAIW,WAAa,EAC1BT,EAAQ,IAAID,KAAKO,EAAQ,IAAME,EAAS,OAC9CX,EAAOM,MAAM,OAAQ,CAACH,EAAOF,MAE9B,CACDH,KAAM,MACNC,QAFC,SAEQC,GACP,IAAMa,EAAW5E,MAASsE,SAAS,EAAG,UAAUO,MAAM,SAChDb,EAAMY,EAASL,OAAO,cACtBL,EAAQU,EAASL,OAAO,cAC9BR,EAAOM,MAAM,OAAQ,CAACH,EAAOF,QAM/Bc,EAAiB,SAAC/E,GAEtB,MAAO,CACL,CACEzB,MAAO,IACPd,MAAO,EACP6C,UAAU,GACT,CACD/B,MAAO,IACPd,MAAO,EACP6C,SAAUL,IAAOD,EAAK,IAAIgF,KAAK/E,IAAOD,EAAK,IAAK,QAAU,GACzD,CACDzB,MAAO,IACPd,MAAO,EACP6C,SAAUL,IAAOD,EAAK,IAAIgF,KAAK/E,IAAOD,EAAK,IAAK,UAAY,KAI5DiF,EAAkB,CACtB,CACE1G,MAAO,QACPd,MAAO,EACP6C,UAAU,K,oCCrFd,IAAIxD,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAImI,GAAG,SAAS/H,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,UAAU,CAACW,MAAM,CAAC,QAAS,IAAO,CAACX,EAAG,SAAS,CAACJ,EAAImI,GAAG,UAAU/H,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAImI,GAAG,WAAW,IAAI,IAAI,GAAG/H,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAImI,GAAG,SAAQ,WAAW,MAAO,CAAE/D,OAAOC,KAAKrE,EAAIoI,WAAiB,OAAEhI,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIsB,GAAGtB,EAAIuB,GAAGvB,EAAIqI,cAAcjI,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIsB,GAAGtB,EAAIuB,GAAGvB,EAAIoI,UAAUhG,YAAYhC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIsB,GAAG,SAASlB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIsB,GAAGtB,EAAIuB,GAAGvB,EAAIoI,UAAUE,YAAYtI,EAAIuI,UAAS,GAAGnI,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAImI,GAAG,UAAS,WAAW,MAAO,CAAEnI,EAAIwI,aAAalE,QAAU,GAAKtE,EAAIwI,aAAalE,OAAQlE,EAAG,MAAM,CAACE,YAAY,QAAQN,EAAIkB,GAAIlB,EAAgB,cAAE,SAASyI,EAAKC,GAAO,OAAOtI,EAAG,MAAM,CAACiB,IAAIqH,EAAMC,YAAY,CAAC,QAAU,SAAS,CAACvI,EAAG,MAAM,CAACE,YAAY,WAAWqI,YAAY,CAAC,cAAc,WAAW,CAAC3I,EAAIsB,GAAG,mBAAmBtB,EAAIuB,GAAGkH,EAAK9F,MAAM,qBAAqBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIsB,GAAG,QAAQlB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIsB,GAAG,qBAAqBtB,EAAIuB,GAAGvB,EAAI4I,GAAG,mBAAP5I,CAA2ByI,EAAKrG,MAAMqG,IAAO,wBAAwBrI,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIsB,GAAG,SAASlB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIsB,GAAGtB,EAAIuB,GAAGvB,EAAI4I,GAAG,mBAAP5I,CAA2ByI,EAAKH,IAAIG,cAAgB,GAAGzI,EAAIuI,KAAMvI,EAAIwI,aAAalE,OAAS,GAAKtE,EAAIwI,aAAalE,OAAQlE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIkB,GAAIlB,EAAIwI,aAAaK,MAAM,EAAG,IAAI,SAASJ,EAAKC,GAAO,OAAOtI,EAAG,MAAM,CAACiB,IAAIqH,EAAMC,YAAY,CAAC,QAAU,SAAS,CAACvI,EAAG,MAAM,CAACE,YAAY,WAAWqI,YAAY,CAAC,cAAc,WAAW,CAAC3I,EAAIsB,GAAG,mBAAmBtB,EAAIuB,GAAGkH,EAAK9F,MAAM,qBAAqBvC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIsB,GAAG,QAAQlB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIsB,GAAG,qBAAqBtB,EAAIuB,GAAGvB,EAAI4I,GAAG,mBAAP5I,CAA2ByI,EAAKrG,MAAMqG,IAAO,wBAAwBrI,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIsB,GAAG,SAASlB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIsB,GAAGtB,EAAIuB,GAAGvB,EAAI4I,GAAG,mBAAP5I,CAA2ByI,EAAKH,IAAIG,cAAgBrI,EAAG,cAAc,CAACuI,YAAY,CAAC,UAAU,SAAS,CAACvI,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIsB,GAAG,sBAAsBlB,EAAG,IAAI,CAACE,YAAY,wCAAwCF,EAAG,mBAAmB,CAACW,MAAM,CAAC,KAAO,YAAY+H,KAAK,YAAY9I,EAAIkB,GAAIlB,EAAIwI,aAAaK,MAAM,IAAI,SAASJ,EAAKC,GAAO,OAAOtI,EAAG,mBAAmB,CAACiB,IAAIqH,GAAO,CAAC1I,EAAIsB,GAAG,qBAAqBtB,EAAIuB,GAAGkH,EAAK9F,MAAM,OAAO3C,EAAIuB,GAAGvB,EAAI4I,GAAG,mBAAP5I,CAA2ByI,EAAKrG,MAAMqG,IAAO,OAAOzI,EAAIuB,GAAGvB,EAAI4I,GAAG,mBAAP5I,CAA2ByI,EAAKH,IAAIG,IAAO,yBAAwB,IAAI,IAAI,GAAGzI,EAAIuI,UAAS,IAAI,GAAGnI,EAAG,MAAM,CAAC2I,IAAI,QAAQJ,YAAY,CAAC,MAAQ,OAAO,OAAS,WAAW3I,EAAImI,GAAG,eAAe,IACh7FzF,EAAkB,G,oFCsGP,GACbC,KAAMA,cACNqG,MAAOA,CACL3F,KAAMA,CACJ4F,UAAWA,SAAjBA,GACQ,OAAsE,IAA/D,CAAC,OAAQ,MAAO,SAAU,MAAO,UAAUC,QAAQxI,IAE5DyI,QAASA,QAEXC,OAAQA,CACN/F,KAAMA,OACN8F,QAASA,WAAf,WAEI9G,QAASA,CACPgB,KAAMA,QACN8F,SAASA,GAEXf,UAAWA,CACT/E,KAAMA,OACN8F,QAASA,WAAf,WAEIX,aAAcA,CACZnF,KAAMA,MACN8F,QAASA,WAAf,YAGEhH,KA1BF,WA2BI,MAAO,CACLkG,UAAWA,MACXgB,OAAQA,OAGZ3F,QAhCF,WAgCA,WACIzD,KAAKoJ,OAASpJ,KAAKqJ,SAASC,KAAKtJ,KAAKuJ,MAAMtF,OAE5CuF,OAAOA,SAAWA,WAChB,EAAN,2BAGsB,QAAdxJ,KAAKoD,KAKS,WAAdpD,KAAKoD,KAKS,QAAdpD,KAAKoD,MAIS,WAAdpD,KAAKoD,MACPpD,KAAKyJ,kBAGPzJ,KAAK0J,aAPH1J,KAAK2J,eALL3J,KAAK4J,kBALL5J,KAAK6J,gBAmBTC,MAAOA,CACLX,OADJ,SACAY,GACwB,QAAd/J,KAAKoD,KAKS,WAAdpD,KAAKoD,KAKS,QAAdpD,KAAKoD,KAIS,WAAdpD,KAAKoD,KAKTpD,KAAK0J,UAAUK,GAJb/J,KAAKyJ,kBAJLzJ,KAAK2J,eALL3J,KAAK4J,gBAAgBG,GALrB/J,KAAK6J,aAAaE,IAoBtB3H,QAvBJ,SAuBA4H,GACMA,EAAMA,KAAKA,OAAOA,cAAgBA,KAAKA,OAAOA,gBAGlDC,QAASA,CACPC,iBADJ,SACAF,EAAAxB,GAEM,IAAN,iCACM,OAAIA,EAAK2B,eACAxE,WAAWqE,GAAKI,iBAAmB,IAEnCzE,WAAWqE,GAAKI,eAAe,KAAM,CAC1CC,sBAAuBA,EAAIA,OAASA,EAAIA,EAAIA,GAAGA,OAASA,MAKhE1F,QAASA,CACP+E,UADJ,WACA,yEAEAY,EAQAP,EARAO,SADA,EASAP,EAPAzF,kBAFA,MAEA,GAFA,IASAyF,EANAxF,iBAHA,MAGA,GAHA,IASAwF,EALA7H,YAJA,MAIA,GAJA,IASA6H,EAJAQ,aALA,MAKA,GALA,IASAR,EAHAS,cANA,WASAT,EAFAvF,iBAPA,MAOA,YAAQ,OAAR,GAPA,IASAuF,EADAU,aARA,MAQA,GARA,EAWQzK,KAAKoI,UADO,QAAVmC,EACe,GAEA,MAEnB,IACN,EADA,YAEM,GAAID,EAAU,CACZ,IAAR,KACQ,IAAK,IAAb,QACU,IAAV,KAGU,IAAK,IAAf,KAFUxG,EAAIA,KAAOA,EACXA,EAAIA,KAAOA,GACrB,KACYA,EAAIA,KAAKA,KAAKA,EAAKA,GAAKA,IAE1B4G,EAAKA,KAAKA,GAEZC,EAAQA,EAAKA,KAAIA,SAAzBA,GACU,MAAO,CACLjI,KAAMA,EAAEA,KACRU,KAAMA,EACNwH,WAAYA,IACZC,QAAQA,EACRC,eAAeA,EACfC,gBAAgBA,EAChB7I,KAAMA,EAAEA,KAAKA,KAAIA,SAA7BA,KACc,IAAd,sCACc,MAAO,CACLzB,MAAOA,OAAOA,EAAGA,OACjBuK,MAAOA,EAAGA,MACVC,KAAMA,EAAGA,KACTC,OAAiBA,MAATA,GAAyBA,MAATA,EAAeA,SAAWA,2BAM1DP,EAAQA,EAAKA,KAAIA,SAAzBA,GACU,MAAO,CACLjI,KAAMA,EAAEA,KACRU,KAAMA,EACNwH,WAAYA,IACZC,QAAQA,EACRC,eAAeA,EACfC,gBAAgBA,EAChB7I,KAAMA,EAAEA,KAAKA,KAAIA,SAA7BA,KACc,IAAd,4BACc,MAAO,CACLzB,MAAOA,EACPyK,OAAiBA,MAATA,GAAyBA,MAATA,EAAeA,SAAWA,sBAM5DlL,KAAKoJ,OAAO+B,QACZnL,KAAKoJ,OAAOgC,UAAU,CACpBC,QAASA,CACPC,QAASA,OACTC,aAAcA,EACd/G,UAAWA,SAArBA,GAEY,IAAZ,gCAiBY,OAhBAtC,EAAKA,QACjBA,uBACc,IAAd,mBACA,OACAhB,gBACA,GADA,aAEAA,YAFA,gBAEAA,aAFA,WAGcsK,GAAdA,EACAtK,gBACA,KACAsD,cACAiH,EACA,OACA3E,EACA5F,6CAEmBsK,IAGXE,oBAAqBA,CACnB5E,KAAMA,OACN6E,OAAQA,SACRC,aAAcA,CACZD,OAAQA,CACNE,EAAGA,KAITC,OAAQA,CACN5J,KAAMA,GAER6J,KAAMA,CACJC,KAAMA,KACNC,MAAOA,KACPC,OAAQA,KACRC,cAAcA,GAEhBC,MAAOA,CACLhJ,KAAMA,WACNV,KAAMA,EACNR,KAAMA,EACNmK,UAAWA,CACTC,SAAUA,GACVpG,MAAOA,YAGXqG,MAAOA,CACLnJ,KAAMA,QACNV,KAAMA,EACN8J,MAAOA,EACPC,UAAWA,CACTC,UAAWA,CACTtJ,KAAMA,WAGViJ,UAAWA,CACTC,SAAUA,GACVpG,MAAOA,UACPyG,QAASA,CAACA,EAAGA,GAAIA,EAAGA,GACpBnI,UAAWA,SAAvBA,GACc,IAAd,mBACc,OAAO,GAArB,UAIQoI,OAAQA,KAGZ/C,aAhJJ,WAgJA,yEACA,EASAE,EARAqC,aADA,MACA,GADA,IASArC,EAPAwC,aAFA,MAEA,GAFA,IASAxC,EANA6C,cAHA,MAGA,GAHA,IASA7C,EALA+B,cAJA,MAIA,GAJA,IASA/B,EAJAsB,eALA,MAKA,CACQC,QAARA,OACQC,aAARA,GAPA,EAUMvL,KAAKoJ,OAAO+B,QACZnL,KAAKoJ,OAAOgC,UAAU,CACpBlF,MAAOA,CAACA,WACRmF,QAARA,EACQS,OAARA,EACQC,KAAMA,CACJC,KAAMA,KACNC,MAAOA,KACPC,OAAQA,KACRC,cAAcA,GAEhBC,MAARA,EACQG,MAARA,EACQK,OAARA,KAGIhD,gBA3KJ,WA2KA,yEACA,EA0BAG,EAzBAzF,kBADA,MACA,GADA,IA0BAyF,EAxBAxF,iBAFA,MAEA,GAFA,IA0BAwF,EAvBA7H,YAHA,MAGA,GAHA,IA0BA6H,EAtBAQ,aAJA,MAIA,GAJA,IA0BAR,EArBA8C,eALA,MAKA,KALA,IA0BA9C,EApBAS,cANA,WA0BAT,EAnBAvF,iBAPA,MAOA,YACQ,GAAR,UACU,IAAV,yCACA,IAOU,OALAK,EAAVA,qBACYiI,GAAZA,gBACYA,EAAZA,qBACYC,GAAZA,wEAEA,EACA,gDAEA,EAIQ,MAAR,IAxBA,EA4BA,4BACA3J,WACA4J,YACAtK,YACAR,YACAX,kBACA,CACY0L,OAAZA,CACcC,MAAdA,EACcC,SAAdA,MACcC,UAAdA,CACgBlH,MAAhBA,UAIA,OAGMlG,KAAKoJ,OAAO+B,QACZnL,KAAKoJ,OAAOgC,UAAU,CACpBC,QAASA,CACPC,QAASA,OACTC,aAAcA,EACd8B,YAAaA,CACXjK,KAAMA,UAERoB,UAAWA,SAArBA,GACY,OAAO,EAAnB,KAGQsH,OAAQA,CACN5J,KAAMA,GAER6J,KAAMA,CACJC,KAAMA,KACNC,MAAOA,KACPC,OAAQA,KACRC,cAAcA,GAEhBC,MAAOA,CACLhJ,KAAMA,WACNlB,KAAMA,EACNmK,UAAWA,CACTC,SAAUA,GACVpG,MAAOA,YAGXqG,MAAOA,CACLnJ,KAAMA,QACNV,KAAMA,EACN8J,MAAOA,EACPC,UAAWA,CACTC,UAAWA,CACTtJ,KAAMA,WAGViJ,UAAWA,CACTC,SAAUA,GACVpG,MAAOA,UACPyG,QAASA,CAACA,EAAGA,GAAIA,EAAGA,KAGxBzG,MAAOA,CAACA,UAAWA,UAAWA,UAAWA,UAAWA,WACpD0G,OAAQA,KAGZjD,aA1QJ,WA0QA,yEACA,EAoBAI,EAnBAzF,kBADA,MACA,GADA,IAoBAyF,EAlBAxF,iBAFA,MAEA,GAFA,IAoBAwF,EAjBA7H,YAHA,MAGA,GAHA,IAoBA6H,EAhBAwC,aAJA,MAIA,GAJA,IAoBAxC,EAfAvF,iBALA,MAKA,YACQ,GAAR,UACU,IAAV,yCACA,IAOU,OALAK,EAAVA,qBACYiI,GAAZA,gBACYC,GAAZA,wEAGA,0BAGQ,MAAR,IAlBA,EAsBM/M,KAAKoJ,OAAO+B,QACZnL,KAAKoJ,OAAOgC,UAAU,CACpBC,QAASA,CACPC,QAASA,OACTC,aAAcA,EACd8B,YAAaA,CACXjK,KAAMA,UAERoB,UAAWA,SAArBA,GACY,OAAO,EAAnB,KAGQsH,OAAQA,CACN5J,KAAMA,GAER6J,KAAMA,CACJC,KAAMA,KACNC,MAAOA,KACPC,OAAQA,KACRC,cAAcA,GAEhBC,MAAOA,CACLhJ,KAAMA,WACNlB,KAAMA,EACNmK,UAAWA,CACTC,SAAUA,GACVpG,MAAOA,YAGXqG,MAAOA,EACPrG,MAAOA,CAACA,UAAWA,UAAWA,UAAWA,UAAWA,WACpD0G,OAAQA,KAGZnD,gBAnUJ,WAmUA,yEACA,EAQAM,EAPAzF,kBADA,MACA,GADA,IAQAyF,EANAxF,iBAFA,MAEA,GAFA,IAQAwF,EALA7H,YAHA,MAGA,GAHA,IAQA6H,EAJAwC,aAJA,MAIA,GAJA,IAQAxC,EAHAvF,iBALA,MAKA,YACQ,MAAR,IANA,EASM8I,QAAQA,IAAIA,GAEZ,IACN,EADA,wBAEM3C,EAAQA,EAAKA,KAAIA,SAAvBA,KACQ,MAAO,CACLjI,KAAMA,EAAEA,KACRU,KAAMA,OACNwH,WAAYA,IACZC,QAAQA,EACRC,eAAeA,EACfC,gBAAgBA,EAChBwC,WAAYA,EAAEA,WACdrL,KAAMA,EAAEA,KAAKA,KAAIA,SAA3BA,KACY,IAAZ,4BACY,MAAO,CACLzB,MAAOA,EACPyK,OAAiBA,MAATA,GAAyBA,MAATA,EAAeA,SAAWA,kBAGtDsC,UACVtL,YACA,CACYgE,MAAZA,WAEAhE,YACA,CAAYgE,MAAZA,MACA,OAGMoH,QAAQA,IAAIA,GACZtN,KAAKoJ,OAAO+B,QACZmC,QAAQA,IAAIA,EAAlBA,GACMtN,KAAKoJ,OAAOgC,UAAU,CACpBC,QAASA,CACPC,QAASA,OACT9G,UAAWA,SAArBA,GACY,OAAO,EAAnB,KAGQsH,OAAQA,CACN5J,KAAMA,GAER6J,KAAMA,CACJC,KAAMA,KACNC,MAAOA,KACPC,OAAQA,KACRC,cAAcA,GAEhBC,MAAOA,CACLhJ,KAAMA,WACNlB,KAAMA,EACNmK,UAAWA,CACTC,SAAUA,GACVpG,MAAOA,WAETuH,SAAUA,CACRC,gBAAgBA,IAGpBnB,MAAOA,EACPrG,MAAOA,CAACA,UAAWA,UAAWA,UAAWA,UAAWA,WACpD0G,OAAQA,OCrlB8U,I,wBCQ1VxH,EAAY,eACd,EACAtF,EACA2C,GACA,EACA,KACA,WACA,MAIa,OAAA2C,E,2CCnBf,IAAItF,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACuI,YAAY,CAAC,QAAU,SAAS,CAACvI,EAAG,oBAAoB,CAACW,MAAM,CAAC,KAAOf,EAAI4N,QAAQ,UAAY,GAAG,WAAa,GAAG,gBAAgB,GAAG,kBAAiB,GAAOrN,GAAG,CAAC,OAASP,EAAI6N,QAAQpN,MAAM,CAACC,MAAOV,EAAe,YAAEW,SAAS,SAAUC,GAAMZ,EAAI8N,YAAYlN,GAAKE,WAAW,iBAAkBd,EAAS,MAAEI,EAAG,YAAY,CAACuI,YAAY,CAAC,cAAc,QAAQ5H,MAAM,CAAC,KAAO,WAAWR,GAAG,CAAC,MAAQP,EAAI+N,OAAO,CAAC/N,EAAIsB,GAAG,QAAQtB,EAAIuI,MAAM,GAAGnI,EAAG,YAAY,CAACW,MAAM,CAAC,MAAQ,OAAO,QAAUf,EAAIgO,mBAAmB,yBAAwB,EAAM,wBAAuB,GAAOzN,GAAG,CAAC,iBAAiB,SAAS0N,GAAQjO,EAAIgO,mBAAmBC,GAAQ,MAAQjO,EAAIkO,SAAS,CAAC9N,EAAG,WAAW,CAACW,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAc,cAAcR,GAAG,CAAC,MAAQP,EAAImO,QAAQ1N,MAAM,CAACC,MAAOV,EAAY,SAAEW,SAAS,SAAUC,GAAMZ,EAAIoO,SAASxN,GAAKE,WAAW,cAAcV,EAAG,YAAY,CAACuI,YAAY,CAAC,aAAa,QAAQ5H,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIR,GAAG,CAAC,MAAQP,EAAIoL,QAAQ,CAACpL,EAAIsB,GAAG,QAAQlB,EAAG,aAAa,CAACJ,EAAIsB,GAAG,QAAQtB,EAAIuB,GAAGvB,EAAIqO,gBAAgB/J,QAAQ,MAAMlE,EAAG,OAAO,CAACuI,YAAY,CAAC,MAAQ,YAAY,CAAC3I,EAAIsB,GAAG,OAAOtB,EAAIuB,GAAGvB,EAAIsO,UAAUhK,QAAQ,SAAUtE,EAAIqO,gBAAgB/J,OAAS,EAAG,CAAClE,EAAG,cAAc,CAACW,MAAM,CAAC,cAAgBf,EAAIuO,iBAAiBhO,GAAG,CAAC,OAASP,EAAIwO,sBAAsB/N,MAAM,CAACC,MAAOV,EAAY,SAAEW,SAAS,SAAUC,GAAMZ,EAAIyO,SAAS7N,GAAKE,WAAW,aAAa,CAACd,EAAIsB,GAAG,QAAQlB,EAAG,oBAAoB,CAACG,GAAG,CAAC,OAASP,EAAI0O,mBAAmBjO,MAAM,CAACC,MAAOV,EAAa,UAAEW,SAAS,SAAUC,GAAMZ,EAAIsO,UAAU1N,GAAKE,WAAW,cAAcd,EAAIkB,GAAIlB,EAAmB,iBAAE,SAASyI,EAAKC,GAAO,OAAOtI,EAAG,cAAc,CAACiB,IAAIqH,EAAM3H,MAAM,CAAC,MAAQ0H,QAAU,IAAIrI,EAAG,MAAM,CAACuI,YAAY,CAAC,aAAa,WAAW,CAAC3I,EAAIsB,GAAG,YAAYlB,EAAG,MAAM,CAAEJ,EAAIqO,gBAAgB/J,OAAS,EAAGlE,EAAG,YAAY,CAACuI,YAAY,CAAC,aAAa,QAAQ5H,MAAM,CAAC,KAAO,WAAWR,GAAG,CAAC,MAAQP,EAAI2O,UAAU,CAAC3O,EAAIsB,GAAG,gBAAgBtB,EAAIuI,KAAKnI,EAAG,YAAY,CAACuI,YAAY,CAAC,aAAa,QAAQ5H,MAAM,CAAC,KAAO,QAAQR,GAAG,CAAC,MAAQP,EAAIkO,SAAS,CAAClO,EAAIsB,GAAG,SAAS,IAAI,IAAI,IAC1lEoB,EAAkB,G,+tBCoCP,OACbsG,MAAOA,CAEL4F,MAAOA,CACLvL,KAAMA,QACN8F,SAASA,GAEXzI,MAAOA,CACL2C,KAAMA,CAACA,OAAQA,OAAQA,OACvB8F,QAASA,IAEX0F,YAAaA,CACXxL,KAAMA,MACN8F,QAASA,WAAf,WAEI2F,UAAWA,CAETzL,KAAMA,QACN8F,SAASA,GAEX4F,QAASA,CACP1L,KAAMA,QACN8F,SAASA,GAEX5F,SAAUA,CACRF,KAAMA,QACN8F,SAASA,IAGbhH,KA7BF,WA8BI,MAAO,CACL6M,MAAOA,KACPT,iBAAiBA,EACjBE,UAAUA,EACVH,UAAWA,GACXD,gBAAiBA,GACjBY,iBAAkBA,GAClBb,SAAUA,GACVJ,oBAAoBA,EACpBF,YAAaA,GACbF,QAASA,GACTsB,YAAaA,GACbnC,KAAKA,EAELoC,MAAOA,EACPC,SAAUA,KAGd1L,QAhDF,WAkDQzD,KAAK6O,UACP7O,KAAKoP,gBAAgBpP,KAAK4O,aAChC,oBAGM5O,KAAKoP,gBAAgBpP,KAAKkD,SAF1BlD,KAAKqP,gBAMTvF,MAAOA,CACL8E,YAAaA,CACXU,QAASA,WACPtP,KAAKoP,gBAAgBpP,KAAK4O,cAE5BW,MAAMA,EACNC,WAAWA,GAEb3B,YARJ,SAQA7D,GACM,GAAIA,EAAI3F,OAAQ,CACdrE,KAAKmL,QACL,IAAR,KACQnB,EAAIA,SAAQA,SAApBA,GACUlG,EAAIA,KAAKA,EAAKA,OAEhB9D,KAAKsH,MAAM,QAASxD,QAEpB9D,KAAKsH,MAAM,QAAS0C,KAI1BpG,SAAUA,EAAZA,GACAC,gBACIX,QAAJA,YAAM,OAAN,mBAGEyB,QAASA,EAAXA,GACIuJ,OADJ,WACA,WACUlO,KAAK+O,OACPU,aAAaA,KAAKA,OAEpBzP,KAAK+O,MAAQW,YAAW,WAEtB,IAAR,6BACQ,EAAR,oEACQ,EAAR,2BACA,MAGInB,qBAbJ,SAaAvE,GACMhK,KAAKwO,UAAW,EAChBxO,KAAKqO,UAAYrE,EAAMhK,KAAKoO,gBAAkB,GAC9CpO,KAAKsO,iBAAkB,GAGzBG,kBAnBJ,SAmBAhO,GACM,IAAN,WACMT,KAAKwO,SAAWmB,IAAiB3P,KAAKoO,gBAAgB/J,OACtDrE,KAAKsO,gBAAkBqB,EAAe,GAAKA,EAAe3P,KAAKoO,gBAAgB/J,QAEjFyJ,KAxBJ,WAyBM9N,KAAK+N,oBAAqB,EAC1B/N,KAAK6N,YAAc,IAGrBa,QA7BJ,WA8BM1O,KAAK4P,SAASC,KAAK,OACU,GAAzB7P,KAAKqO,UAAUhK,SACnBrE,KAAK+N,oBAAqB,EAC1B/N,KAAK4P,SAASE,QAAQ,gBACtB9P,KAAKsH,MAAM,QAAStH,KAAKqO,aAE3BlD,MApCJ,WAqCMnL,KAAKmO,SAAW,GAChBnO,KAAKqO,UAAY,GACjBrO,KAAKoO,gBAAkB,GACvBpO,KAAKwO,UAAW,GAElBP,OA1CJ,WA8CMjO,KAAK+N,oBAAqB,GAE5BqB,gBAhDJ,WAgDA,gEACA,KACA,qBACQ,IAAR,KAiBQ,OAfEW,EADEvH,EAAKwH,SACID,EAAKA,SAASA,KAAIA,SAAvCA,GAEY,OADAE,EAASA,KAAKA,GACP,CACL1O,MAAOA,GAASA,EAAMA,OAASA,EAAMA,MACrCd,MAAOA,GAASA,EAAMA,IAAMA,EAAMA,UAI3BsP,EAAKA,SAASA,KAAIA,SAAvCA,GACY,MAAO,CACLxO,MAAOA,EAAMA,OAASA,EAAMA,MAC5Bd,MAAOA,EAAMA,IAAMA,EAAMA,UAIxB,CACLc,MAAOA,EAAKA,OAASA,EAAKA,MAC1Bd,MAAOA,EAAKA,OAASA,EAAKA,GAC1BsP,SAAVA,MAGM/P,KAAKgP,iBAAmBiB,EACxBjQ,KAAK2N,QAAU7J,EACf9D,KAAKiP,YAAcnL,GAErB8J,OA9EJ,SA8EA5D,GACMhK,KAAKsH,MAAM,SAAU0C,IAEvBkG,UAjFJ,SAiFAzL,GACM,IAAN,GACMV,gBAAsBA,cACtB,IACE/D,KAAKuJ,MAAM4G,SAASC,WAAWrM,GACvC,SACQ/D,KAAKuJ,MAAM4G,SAASE,YAAYtM,MAGxCa,gCA1FA,IA2FIyK,aA3FJ,mLA4FA,kBA5FA,yCA4FAnK,EA5FA,KA4FAL,EA5FA,MA8FAK,EA9FA,iDA+FA,wBA/FA,wGA+GIoL,SA/GJ,SA+GAC,GAGQvQ,KAAK2N,QAFH4C,EAEavQ,KAAKiP,YAAYuB,QAAO,SAA/C,GACU,IACV,eACA,yCAEY,OAAO,KAIIxQ,KAAKiP,aAGxBwB,WA9HJ,SA8HAzG,GAEQhK,KAAK6N,YADH7D,EACiBhK,KAAK2N,QAEL,IAGvB+C,YArIJ,SAqIAC,EAAAC,GACM,IAAN,eACA,eAEA,oBACA,oBAEM,OAAOC,IAAUC,MCtQuU,I,wBCQ1V1L,EAAY,eACd,EACAtF,EACA2C,GACA,EACA,KACA,WACA,MAIa,OAAA2C,E","file":"chunk-25b8a63a.1.0.0.1672021042960.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('FilterLayout',{on:{\"onSubmit\":_vm.onSubmit},model:{value:(_vm.searchForm),callback:function ($$v) {_vm.searchForm=$$v},expression:\"searchForm\"}},[_c('el-col',{attrs:{\"md\":12,\"lg\":6,\"sm\":24}},[_c('el-form-item',{attrs:{\"label\":\"时间\",\"prop\":\"time\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"range-separator\":\"~\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"picker-options\":_vm.pickerOptions,\"value-format\":\"yyyy-MM-dd\",\"clearable\":false,\"append-to-body\":false,\"unlink-panels\":\"\"},model:{value:(_vm.searchForm.time),callback:function ($$v) {_vm.$set(_vm.searchForm, \"time\", $$v)},expression:\"searchForm.time\"}})],1)],1),_c('el-col',{attrs:{\"md\":12,\"lg\":6,\"sm\":24}},[_c('el-form-item',{attrs:{\"label\":\"渠道\",\"prop\":\"channel\"}},[_c('SelectChannel',{model:{value:(_vm.searchForm.channel),callback:function ($$v) {_vm.$set(_vm.searchForm, \"channel\", $$v)},expression:\"searchForm.channel\"}})],1)],1),_c('el-col',{attrs:{\"md\":12,\"lg\":6,\"sm\":24}},[_c('el-form-item',{attrs:{\"label\":\"ROI\",\"prop\":\"type\"}},[_c('el-radio-group',{model:{value:(_vm.searchForm.type),callback:function ($$v) {_vm.$set(_vm.searchForm, \"type\", $$v)},expression:\"searchForm.type\"}},_vm._l((_vm.ROI),function(v,i){return _c('el-radio-button',{key:i,attrs:{\"label\":v.value}},[_vm._v(_vm._s(v.label))])}),1)],1)],1)],1),_c('CountLayout',{attrs:{\"option\":_vm.countData,\"loading\":_vm.countLoading},scopedSlots:_vm._u([{key:\"option\",fn:function(){return [_c('el-col',{attrs:{\"md\":12,\"lg\":6,\"sm\":24}},[_c('el-form-item',{attrs:{\"label\":\"筛选项\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择筛选项\",\"popper-append-to-body\":false},on:{\"change\":_vm.onSelectChange},model:{value:(_vm.select),callback:function ($$v) {_vm.select=$$v},expression:\"select\"}},[_c('el-option',{attrs:{\"label\":\"1日回报率\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"2日回报率\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"3日回报率\",\"value\":\"3\"}}),_c('el-option',{attrs:{\"label\":\"4日回报率\",\"value\":\"4\"}}),_c('el-option',{attrs:{\"label\":\"5日回报率\",\"value\":\"5\"}}),_c('el-option',{attrs:{\"label\":\"6日回报率\",\"value\":\"6\"}}),_c('el-option',{attrs:{\"label\":\"7日回报率\",\"value\":\"7\"}}),_c('el-option',{attrs:{\"label\":\"14日回报率\",\"value\":\"14\"}}),_c('el-option',{attrs:{\"label\":\"30日回报率\",\"value\":\"30\"}}),_c('el-option',{attrs:{\"label\":\"60日回报率\",\"value\":\"60\"}}),_c('el-option',{attrs:{\"label\":\"90日回报率\",\"value\":\"90\"}}),_c('el-option',{attrs:{\"label\":\"180日回报率\",\"value\":\"180\"}}),_c('el-option',{attrs:{\"label\":\"365日回报率\",\"value\":\"365\"}})],1)],1)],1)]},proxy:true}])}),_c('TableLayout',{attrs:{\"column\":_vm.column,\"data\":_vm.tableData.data,\"total\":_vm.tableData.total,\"loading\":_vm.tableData.loading,\"currentPage\":_vm.tableOpt.currentPage,\"params\":_vm.searchForm,\"leadOut\":true,\"cellStyle\":_vm.cellStyle},on:{\"pageChange\":_vm.onPageChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"home\">\r\n    <FilterLayout v-model=\"searchForm\" @onSubmit=\"onSubmit\">\r\n      <el-col :md=\"12\" :lg=\"6\" :sm=\"24\">\r\n        <el-form-item label=\"时间\" prop=\"time\">\r\n          <el-date-picker\r\n            v-model=\"searchForm.time\"\r\n            type=\"daterange\"\r\n            range-separator=\"~\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            :picker-options=\"pickerOptions\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            :clearable=\"false\"\r\n            :append-to-body=\"false\"\r\n            unlink-panels\r\n          />\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :md=\"12\" :lg=\"6\" :sm=\"24\">\r\n        <el-form-item label=\"渠道\" prop=\"channel\">\r\n          <SelectChannel v-model=\"searchForm.channel\"></SelectChannel>\r\n        </el-form-item>\r\n      </el-col>\r\n      <el-col :md=\"12\" :lg=\"6\" :sm=\"24\">\r\n        <el-form-item label=\"ROI\" prop=\"type\">\r\n          <el-radio-group v-model=\"searchForm.type\">\r\n            <el-radio-button v-for=\"(v, i) in ROI\" :key=\"i\" :label=\"v.value\">{{v.label}}</el-radio-button>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-col>\r\n    </FilterLayout>\r\n    <CountLayout :option=\"countData\" :loading=\"countLoading\">\r\n      <template #option>\r\n        <el-col :md=\"12\" :lg=\"6\" :sm=\"24\">\r\n          <el-form-item label=\"筛选项\">\r\n            <el-select\r\n              v-model=\"select\"\r\n              placeholder=\"请选择筛选项\"\r\n              :popper-append-to-body=\"false\"\r\n              @change=\"onSelectChange\"\r\n            >\r\n              <el-option label=\"1日回报率\" value=\"1\" />\r\n              <el-option label=\"2日回报率\" value=\"2\" />\r\n              <el-option label=\"3日回报率\" value=\"3\" />\r\n              <el-option label=\"4日回报率\" value=\"4\" />\r\n              <el-option label=\"5日回报率\" value=\"5\" />\r\n              <el-option label=\"6日回报率\" value=\"6\" />\r\n              <el-option label=\"7日回报率\" value=\"7\" />\r\n              <el-option label=\"14日回报率\" value=\"14\" />\r\n              <el-option label=\"30日回报率\" value=\"30\" />\r\n              <el-option label=\"60日回报率\" value=\"60\" />\r\n              <el-option label=\"90日回报率\" value=\"90\" />\r\n              <el-option label=\"180日回报率\" value=\"180\" />\r\n              <el-option label=\"365日回报率\" value=\"365\" />\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-col>\r\n      </template>\r\n    </CountLayout>\r\n    <TableLayout\r\n      :column=\"column\"\r\n      :data=\"tableData.data\"\r\n      :total=\"tableData.total\"\r\n      :loading=\"tableData.loading\"\r\n      :currentPage=\"tableOpt.currentPage\"\r\n      :params=\"searchForm\"\r\n      :leadOut=\"true\"\r\n      @pageChange=\"onPageChange\"\r\n      :cellStyle=\"cellStyle\"\r\n    ></TableLayout>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport _ from 'lodash'\r\nimport { mapState, mapActions } from 'vuex'\r\nimport FilterLayout from '@/layout/form'\r\nimport CountLayout from '@/layout/count'\r\nimport TableLayout from '@/layout/table'\r\nimport { pickerOptions, timeTypeOption } from '@/config/option'\r\nimport sectioncolor from '@/util/sectioncolor'\r\nimport SelectChannel from '@/component/select-channel'\r\n\r\nlet arr = []\r\n\r\nexport default {\r\n  name: 'home',\r\n  components: {\r\n    FilterLayout,\r\n    TableLayout,\r\n    CountLayout,\r\n    SelectChannel,\r\n  },\r\n  data() {\r\n    return {\r\n      select: '1',\r\n      searchForm: {\r\n        time: [\r\n          moment().subtract(30, 'd').format('YYYY-MM-DD'),\r\n          moment().format('YYYY-MM-DD'),\r\n        ],\r\n        channel: [],\r\n        timeType: 1,\r\n        type: 'all',\r\n      },\r\n      ROI: [\r\n        {\r\n          label: '全部',\r\n          value: 'all',\r\n          disabled: false,\r\n        },\r\n        {\r\n          label: '广告',\r\n          value: 'advert',\r\n          disabled: false,\r\n        },\r\n        {\r\n          label: '订单',\r\n          value: 'order',\r\n          disabled: false,\r\n        },\r\n      ],\r\n      column: [\r\n        {\r\n          prop: 'date',\r\n          label: '日期',\r\n        },\r\n        {\r\n          prop: 'day_into',\r\n          label: '投资金额',\r\n        },\r\n        {\r\n          prop: 'day1',\r\n          label: '1日回报率',\r\n        },\r\n        {\r\n          prop: 'day2',\r\n          label: '2日回报率',\r\n        },\r\n        {\r\n          prop: 'day3',\r\n          label: '3日回报率',\r\n        },\r\n        {\r\n          prop: 'day4',\r\n          label: '4日回报率',\r\n        },\r\n        {\r\n          prop: 'day5',\r\n          label: '5日回报率',\r\n        },\r\n        {\r\n          prop: 'day6',\r\n          label: '6日回报率',\r\n        },\r\n        {\r\n          prop: 'day7',\r\n          label: '7日回报率',\r\n        },\r\n        {\r\n          prop: 'day14',\r\n          label: '14日回报率',\r\n        },\r\n        {\r\n          prop: 'day30',\r\n          label: '30日回报率',\r\n        },\r\n        {\r\n          prop: 'day60',\r\n          label: '60日回报率',\r\n        },\r\n        {\r\n          prop: 'day90',\r\n          label: '90日回报率',\r\n        },\r\n        {\r\n          prop: 'day180',\r\n          label: '180日回报率',\r\n        },\r\n        {\r\n          prop: 'day365',\r\n          label: '365日回报率',\r\n        },\r\n      ],\r\n      tableOpt: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n      },\r\n      pickerOptions,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchList()\r\n    this.fetchCount()\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      tableData: (state) => {\r\n        arr = []\r\n        let obj = state.return_on_investment.list.data\r\n        obj.forEach((item, index) => {\r\n          let i = -1\r\n          for (let key in item) {\r\n            i++\r\n            if (key != 'date' && key != 'day_into') {\r\n              arr.push({\r\n                column: index,\r\n                row: i,\r\n                count: parseFloat(item[key]),\r\n              })\r\n            } else {\r\n              arr.push({\r\n                column: index,\r\n                row: i,\r\n                count: null,\r\n              })\r\n            }\r\n          }\r\n        })\r\n\r\n        const filterData = state.return_on_investment.list.data.map((item) => {\r\n          const obj = {}\r\n          for (const key in item) {\r\n            if (key != 'date' && key != 'day_into') {\r\n              obj[key] = parseFloat(item[key]) > 0 ? item[key] : ''\r\n            } else {\r\n              obj[key] = item[key]\r\n            }\r\n          }\r\n          return obj\r\n        })\r\n        for (const key in state.return_on_investment.list.data) {\r\n          state.return_on_investment.list.data[key] = filterData[key]\r\n        }\r\n        return state.return_on_investment.list\r\n      },\r\n      count: (state) => state.return_on_investment.count.data,\r\n      countLoading: (state) => state.return_on_investment.count.loading,\r\n    }),\r\n    countData() {\r\n      const { count } = this\r\n\r\n      if (count && Object.keys(count).length) {\r\n        const { date, list } = count\r\n\r\n        const xAxisData = date\r\n        const legendData = Object.keys(list)\r\n        const data = _.values(list)\r\n\r\n        return {\r\n          legendData,\r\n          xAxisData,\r\n          data,\r\n          formatter: function (e) {\r\n            return e + '%'\r\n          },\r\n        }\r\n      }\r\n\r\n      return {\r\n        legendData: [],\r\n        xAxisData: [],\r\n        data: [],\r\n        formatter: (v) => parseInt(Number(v) * 100) + '%',\r\n      }\r\n    },\r\n    timeTypeConfig() {\r\n      const { time } = this.searchForm\r\n\r\n      return timeTypeOption(time)\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(['getReturnOnInvestmentList', 'getReturnOnInvestmentCount']),\r\n    onSubmit(res) {\r\n      this.tableOpt.currentPage = 1\r\n      this.fetchList()\r\n      this.fetchCount()\r\n    },\r\n    onPageChange(current) {\r\n      this.tableOpt.currentPage = current\r\n      this.fetchList()\r\n    },\r\n    onSelectChange() {\r\n      this.fetchCount()\r\n    },\r\n    async fetchList() {\r\n      const { searchForm, tableOpt } = this\r\n\r\n      const [err, res] = await this.getReturnOnInvestmentList({\r\n        ...searchForm,\r\n        ...tableOpt,\r\n        navCate: 2,\r\n        channel: searchForm['channel'].join(','),\r\n        timeBegin: searchForm['time'][0],\r\n        timeEnd: searchForm['time'][1],\r\n      })\r\n\r\n      if (err) {\r\n        return\r\n      }\r\n    },\r\n    async fetchCount() {\r\n      const { searchForm, select } = this\r\n\r\n      const [err, res] = await this.getReturnOnInvestmentCount({\r\n        ...searchForm,\r\n        select,\r\n        navCate: 1,\r\n        channel: searchForm['channel'].join(','),\r\n        timeBegin: searchForm['time'][0],\r\n        timeEnd: searchForm['time'][1],\r\n      })\r\n\r\n      if (err) {\r\n        return\r\n      }\r\n    },\r\n    cellStyle({ row, column, columnIndex, rowIndex }) {\r\n      for (let i = 0; i < arr.length; i++) {\r\n        let { column, row, count, color } = arr[i]\r\n        if (columnIndex == row && rowIndex == column && count) {\r\n          return `background-color:${sectioncolor(count)}; color: #fff;`\r\n        } else if (columnIndex == row && rowIndex == column && color) {\r\n          return 'background: #98FB98; color: #fff;'\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang = \"less\" scoped>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d3237af2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3237af2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b91e7e3e&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=504f9ee7&lang=less&scoped=true&\"","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","export default function (value) {\r\n\r\n    value = parseFloat(value);\r\n    \r\n    let section = [\r\n        [0, 19],\r\n        [20, 39],\r\n        [40, 59],\r\n        [60, 79],\r\n        [80, 99],\r\n        [100, Number.POSITIVE_INFINITY]\r\n    ]\r\n\r\n    let colors = ['#F2F4F7', '#bad3f7', '#a0c3f5', '#85b2f1', '#6ca1ef', '#5291ec', '#0caed4'];\r\n\r\n    if(!value) {\r\n        return colors[0];\r\n    }\r\n\r\n    for (let i = 0; i < section.length; i++) {\r\n        let [min, max] = section[i];\r\n        let color = i + 1;\r\n        if(value <= min) {\r\n            return colors[color];\r\n        }\r\n        else if (value >= min && value <= max) {\r\n            return colors[color];\r\n        }\r\n    }\r\n}","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import moment from 'moment'\r\n\r\nconst pickerOptions = {\r\n  shortcuts: [\r\n    {\r\n      text: '昨天',\r\n      onClick (picker) {\r\n        const end = new Date()\r\n        const start = new Date()\r\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 1)\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    },\r\n    {\r\n      text: '近一周',\r\n      onClick (picker) {\r\n        const end = new Date()\r\n        const start = new Date()\r\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '近30天',\r\n      onClick (picker) {\r\n        const start = moment().subtract(1, 'months').format('YYYY-MM-DD')\r\n        const end = moment().format('YYYY-MM-DD')\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '近60天',\r\n      onClick (picker) {\r\n        const start = moment().subtract(2, 'months').format('YYYY-MM-DD')\r\n        const end = moment().format('YYYY-MM-DD')\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '近90天',\r\n      onClick (picker) {\r\n        const start = moment().subtract(3, 'months').format('YYYY-MM-DD')\r\n        const end = moment().format('YYYY-MM-DD')\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '本月',\r\n      onClick (picker) {\r\n        const end = new Date();\r\n        const years = end.getFullYear();\r\n        const mouths = end.getMonth() + 1;\r\n        const start = new Date(years + '-' + mouths + '-01');\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }, {\r\n      text: '上个月',\r\n      onClick (picker) {\r\n        const preMonth = moment().subtract(1, 'months').endOf('month')\r\n        const end = preMonth.format('YYYY-MM-DD')\r\n        const start = preMonth.format('YYYY-MM-01')\r\n        picker.$emit('pick', [start, end])\r\n      }\r\n    }\r\n  ],\r\n}\r\n\r\nconst timeTypeOption = (time) => {\r\n\r\n  return [\r\n    {\r\n      label: '天',\r\n      value: 1,\r\n      disabled: false\r\n    }, {\r\n      label: '周',\r\n      value: 2,\r\n      disabled: moment(time[1]).diff(moment(time[0]), 'days') < 7\r\n    }, {\r\n      label: '月',\r\n      value: 3,\r\n      disabled: moment(time[1]).diff(moment(time[0]), 'months') < 1\r\n    }\r\n  ]\r\n}\r\nconst isNewUserOption = [\r\n  {\r\n    label: '总订单统计',\r\n    value: 0,\r\n    disabled: false\r\n  },\r\n  // {\r\n  //   label: '新用户订单统计',\r\n  //   value: 1,\r\n  //   disabled: false\r\n  // },\r\n]\r\n\r\n\r\nexport {\r\n  pickerOptions,\r\n  isNewUserOption,\r\n  timeTypeOption\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"count-wrap\"},[_vm._t(\"title\"),_c('div',{staticClass:\"count-option\"},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-row',[_vm._t(\"option\"),_c('div',{staticClass:\"cetent\"},[_vm._t(\"cetent\")],2)],2)],1),_c('div',{staticClass:\"extra\"},[_vm._t(\"extra\",function(){return [(Object.keys(_vm.countInfo).length)?_c('div',{staticClass:\"tag\"},[_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.countShow))]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.countInfo.total))])]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"平均:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.countInfo.avg))])])]):_vm._e()]})],2),_c('div',{staticClass:\"extra\"},[_vm._t(\"extras\",function(){return [(_vm.countInfoArr.length <= 2 && _vm.countInfoArr.length)?_c('div',{staticClass:\"tags\"},_vm._l((_vm.countInfoArr),function(item,index){return _c('div',{key:index,staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"tag-item\",staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(\"\\n              \"+_vm._s(item.name)+\"：\\n            \")]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"合计\")]),_c('div',{staticClass:\"value\"},[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"countInfoFilters\")(item.total,item))+\"\\n              \")])]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"均值:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm._f(\"countInfoFilters\")(item.avg,item)))])])])}),0):_vm._e(),(_vm.countInfoArr.length > 2 && _vm.countInfoArr.length)?_c('div',{staticClass:\"tags\"},[_vm._l((_vm.countInfoArr.slice(0, 2)),function(item,index){return _c('div',{key:index,staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"tag-item\",staticStyle:{\"font-weight\":\"bolder\"}},[_vm._v(\"\\n              \"+_vm._s(item.name)+\"：\\n            \")]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"合计\")]),_c('div',{staticClass:\"value\"},[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"countInfoFilters\")(item.total,item))+\"\\n              \")])]),_c('div',{staticClass:\"tag-item\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"均值:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm._f(\"countInfoFilters\")(item.avg,item)))])])])}),_c('el-dropdown',{staticStyle:{\"z-index\":\"9999\"}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n              详情\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.countInfoArr.slice(2)),function(item,index){return _c('el-dropdown-item',{key:index},[_vm._v(\"\\n                \"+_vm._s(item.name)+\"： 合计\"+_vm._s(_vm._f(\"countInfoFilters\")(item.total,item))+\"，均值 \"+_vm._s(_vm._f(\"countInfoFilters\")(item.avg,item))+\"\\n              \")])}),1)],1)],2):_vm._e()]})],2)],1),_c('div',{ref:\"count\",staticStyle:{\"width\":\"100%\",\"height\":\"400px\"}}),_vm._t(\"option-two\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"count-wrap\">\r\n    <slot name=\"title\"></slot>\r\n    <div class=\"count-option\">\r\n      <el-form :inline=\"true\">\r\n        <el-row>\r\n          <slot name=\"option\"></slot>\r\n          <div class=\"cetent\">\r\n            <slot name=\"cetent\"></slot>\r\n          </div>\r\n        </el-row>\r\n      </el-form>\r\n      <div class=\"extra\">\r\n        <slot name=\"extra\">\r\n          <div v-if=\"Object.keys(countInfo).length\" class=\"tag\">\r\n            <div class=\"tag-item\">\r\n              <div class=\"name\">{{ countShow }}</div>\r\n              <div class=\"value\">{{ countInfo.total }}</div>\r\n            </div>\r\n            <div class=\"tag-item\">\r\n              <div class=\"name\">平均:</div>\r\n              <div class=\"value\">{{ countInfo.avg }}</div>\r\n            </div>\r\n          </div>\r\n        </slot>\r\n      </div>\r\n      <div class=\"extra\">\r\n        <slot name=\"extras\">\r\n          <div\r\n            v-if=\"countInfoArr.length <= 2 && countInfoArr.length\"\r\n            class=\"tags\"\r\n          >\r\n            <div\r\n              v-for=\"(item, index) in countInfoArr\"\r\n              :key=\"index\"\r\n              style=\"display: flex\"\r\n            >\r\n              <div class=\"tag-item\" style=\"font-weight: bolder\">\r\n                {{ item.name }}：\r\n              </div>\r\n              <div class=\"tag-item\">\r\n                <div class=\"name\">合计</div>\r\n                <!-- <div class=\"value\">{{ parseFloat(item.total).toLocaleString() }}</div> -->\r\n                <div class=\"value\">\r\n                  {{ item.total | countInfoFilters(item) }}\r\n                </div>\r\n              </div>\r\n              <div class=\"tag-item\">\r\n                <div class=\"name\">均值:</div>\r\n                <div class=\"value\">{{ item.avg | countInfoFilters(item) }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            v-if=\"countInfoArr.length > 2 && countInfoArr.length\"\r\n            class=\"tags\"\r\n          >\r\n            <div\r\n              v-for=\"(item, index) in countInfoArr.slice(0, 2)\"\r\n              :key=\"index\"\r\n              style=\"display: flex\"\r\n            >\r\n              <div class=\"tag-item\" style=\"font-weight: bolder\">\r\n                {{ item.name }}：\r\n              </div>\r\n              <div class=\"tag-item\">\r\n                <div class=\"name\">合计</div>\r\n                <div class=\"value\">\r\n                  {{ item.total | countInfoFilters(item) }}\r\n                </div>\r\n              </div>\r\n              <div class=\"tag-item\">\r\n                <div class=\"name\">均值:</div>\r\n                <div class=\"value\">{{ item.avg | countInfoFilters(item) }}</div>\r\n              </div>\r\n            </div>\r\n            <el-dropdown style=\"z-index: 9999\">\r\n              <span class=\"el-dropdown-link\">\r\n                详情<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n              </span>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item\r\n                  v-for=\"(item, index) in countInfoArr.slice(2)\"\r\n                  :key=\"index\"\r\n                >\r\n                  {{ item.name }}： 合计{{\r\n                    item.total | countInfoFilters(item)\r\n                  }}，均值 {{ item.avg | countInfoFilters(item) }}\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n        </slot>\r\n      </div>\r\n    </div>\r\n    <div ref=\"count\" style=\"width: 100%; height: 400px\"></div>\r\n    <slot name=\"option-two\"></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\nexport default {\r\n  name: \"countLayout\",\r\n  props: {\r\n    type: {\r\n      validator: function (value) {\r\n        return [\"line\", \"bar\", \"newBar\", \"mix\", \"newMix\"].indexOf(value) !== -1;\r\n      },\r\n      default: \"line\",\r\n    },\r\n    option: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    countInfo: {\r\n      type: Object,\r\n      default: () => ({}),\r\n    },\r\n    countInfoArr: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      countShow: \"合计:\",\r\n      $count: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$count = this.$echarts.init(this.$refs.count);\r\n\r\n    window.onresize = () => {\r\n      this.$count && this.$count.resize();\r\n    };\r\n\r\n    if (this.type === \"bar\") {\r\n      this.drawBarCount();\r\n      return;\r\n    }\r\n\r\n    if (this.type === \"newBar\") {\r\n      this.drawNewBarCount();\r\n      return;\r\n    }\r\n\r\n    if (this.type === \"mix\") {\r\n      this.drawMixCount();\r\n      return;\r\n    }\r\n    if (this.type === \"newMix\") {\r\n      this.drawNewMixCount();\r\n    }\r\n\r\n    this.drawCount();\r\n  },\r\n  watch: {\r\n    option(opt) {\r\n      if (this.type === \"bar\") {\r\n        this.drawBarCount(opt);\r\n        return;\r\n      }\r\n\r\n      if (this.type === \"newBar\") {\r\n        this.drawNewBarCount(opt);\r\n        return;\r\n      }\r\n\r\n      if (this.type === \"mix\") {\r\n        this.drawMixCount();\r\n        return;\r\n      }\r\n      if (this.type === \"newMix\") {\r\n        this.drawNewMixCount();\r\n        return;\r\n      }\r\n\r\n      this.drawCount(opt);\r\n    },\r\n    loading(val) {\r\n      val ? this.$count.showLoading() : this.$count.hideLoading();\r\n    },\r\n  },\r\n  filters: {\r\n    countInfoFilters(val, item) {\r\n      // 因为toLocaleString默认是保留3位小数，使用此方法动态获取小数点位数并做保留，小数点后有多少就保留多少\r\n      let arr = _.cloneDeep(val+'').split(\".\");\r\n      if (item.hasPercentSign) {\r\n        return parseFloat(val).toLocaleString() + \"%\";\r\n      } else {\r\n        return parseFloat(val).toLocaleString(\"zh\", {\r\n          minimumFractionDigits: arr.length > 1 ? arr[1].length : 0,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    drawCount(opt = this.option) {\r\n      const {\r\n        editData,\r\n        legendData = [],\r\n        xAxisData = [],\r\n        data = [],\r\n        yName = \"\",\r\n        yScale = false,\r\n        formatter = (f) => f,\r\n        xName = \"\",\r\n      } = opt;\r\n      if (yName === \"百分比\") {\r\n        this.countShow = \"\";\r\n      } else {\r\n        this.countShow = \"合计:\";\r\n      }\r\n      const { type } = this;\r\n      let _data;\r\n      if (editData) {\r\n        let list = [];\r\n        for (let key in data) {\r\n          let arr = {};\r\n          arr.name = key;\r\n          arr.data = [];\r\n          for (let j in data[key]) {\r\n            arr.data.push(data[key][j]);\r\n          }\r\n          list.push(arr);\r\n        }\r\n        _data = list.map((v) => {\r\n          return {\r\n            name: v.name,\r\n            type: type,\r\n            symbolSize: \"7\",\r\n            smooth: true,\r\n            showAllSymbol: true,\r\n            hoverAnimation: false,\r\n            data: v.data.map((_v, _i) => {\r\n              const week = xAxisData ? moment(String(_v.date)).format(\"E\") : 0;\r\n              return {\r\n                value: String(_v.value),\r\n                cycle: _v.cycle,\r\n                rate: _v.rate,\r\n                symbol: week === \"6\" || week === \"7\" ? \"circle\" : \"emptyCircle\",\r\n              };\r\n            }),\r\n          };\r\n        });\r\n      } else {\r\n        _data = data.map((v) => {\r\n          return {\r\n            name: v.name,\r\n            type: type,\r\n            symbolSize: \"7\",\r\n            smooth: true,\r\n            showAllSymbol: true,\r\n            hoverAnimation: false,\r\n            data: v.data.map((_v, _i) => {\r\n              const week = xAxisData ? moment(xAxisData[_i]).format(\"E\") : 0;\r\n              return {\r\n                value: _v,\r\n                symbol: week === \"6\" || week === \"7\" ? \"circle\" : \"emptyCircle\",\r\n              };\r\n            }),\r\n          };\r\n        });\r\n      }\r\n      this.$count.clear();\r\n      this.$count.setOption({\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          borderRadius: 6,\r\n          formatter: (data) => {\r\n            // let rs = `${moment(data[0].name).format('YYYY-MM-DD')}<br/>`;\r\n            let rs = `${data[0].name} <br/>`;\r\n            data.length &&\r\n              data.forEach((v) => {\r\n                let cunt = yName === \"百分比\" ? \"%\" : \"\";\r\n                let text =\r\n                  v.data.rate === undefined\r\n                    ? \"\"\r\n                    : `同比：${v.data.rate}% 环比：${v.data.cycle}% <br/>`;\r\n                rs += editData\r\n                  ? v[\"seriesName\"] +\r\n                    \": \" +\r\n                    formatter(v[\"value\"]) +\r\n                    cunt +\r\n                    \"<br>\" +\r\n                    text\r\n                  : v[\"seriesName\"] + \": \" + formatter(v[\"value\"]) + \"<br>\";\r\n              });\r\n            return rs;\r\n          },\r\n        },\r\n        noDataLoadingOption: {\r\n          text: \"暂无数据\",\r\n          effect: \"bubble\",\r\n          effectOption: {\r\n            effect: {\r\n              n: 0,\r\n            },\r\n          },\r\n        },\r\n        legend: {\r\n          data: legendData,\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          name: xName,\r\n          data: xAxisData,\r\n          axisLabel: {\r\n            fontSize: 12,\r\n            color: \"#8C8C8C\",\r\n          },\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          name: yName,\r\n          scale: yScale,\r\n          splitLine: {\r\n            lineStyle: {\r\n              type: \"dashed\",\r\n            },\r\n          },\r\n          axisLabel: {\r\n            fontSize: 13,\r\n            color: \"#8C8C8C\",\r\n            padding: [0, 10, 0, 0],\r\n            formatter: (v) => {\r\n              let cunt = yName === \"百分比\" ? \"%\" : \"\";\r\n              return formatter && formatter(v) + cunt;\r\n            },\r\n          },\r\n        },\r\n        series: _data,\r\n      });\r\n    },\r\n    drawBarCount(opt = this.option) {\r\n      const {\r\n        xAxis = [],\r\n        yAxis = [],\r\n        series = [],\r\n        legend = [],\r\n        tooltip = {\r\n          trigger: \"axis\",\r\n          borderRadius: 6,\r\n        },\r\n      } = opt;\r\n      this.$count.clear();\r\n      this.$count.setOption({\r\n        color: [\"#3398DB\"],\r\n        tooltip,\r\n        legend,\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis,\r\n        yAxis,\r\n        series,\r\n      });\r\n    },\r\n    drawNewBarCount(opt = this.option) {\r\n      const {\r\n        legendData = [],\r\n        xAxisData = [],\r\n        data = [],\r\n        yName = \"\",\r\n        allName = \"合计\",\r\n        yScale = false,\r\n        formatter = (res) => {\r\n          if (res.length) {\r\n            let html = `${res[0].axisValueLabel}<br/>`;\r\n            let all = 0;\r\n\r\n            res.forEach((v) => {\r\n              all += Number(v.value);\r\n              all = Number(all.toFixed(2));\r\n              html += `${v.marker}${v.seriesName}：${v.value}<br/>`;\r\n            });\r\n            if (allName) {\r\n              return html + `${allName}：${all.toFixed(2)}<br/>`;\r\n            } else {\r\n              return html;\r\n            }\r\n          }\r\n\r\n          return \"\";\r\n        },\r\n      } = opt;\r\n\r\n      let _data = data.map((item) => ({\r\n        type: \"bar\",\r\n        stack: \"two\",\r\n        name: item.name,\r\n        data: item.data,\r\n        label: item.showlabel\r\n          ? {\r\n              normal: {\r\n                show: true,\r\n                position: \"top\",\r\n                textStyle: {\r\n                  color: \"#000\",\r\n                },\r\n              },\r\n            }\r\n          : \"\",\r\n      }));\r\n\r\n      this.$count.clear();\r\n      this.$count.setOption({\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          borderRadius: 6,\r\n          axisPointer: {\r\n            type: \"shadow\",\r\n          },\r\n          formatter: (data) => {\r\n            return formatter(data);\r\n          },\r\n        },\r\n        legend: {\r\n          data: legendData,\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: xAxisData,\r\n          axisLabel: {\r\n            fontSize: 12,\r\n            color: \"#8C8C8C\",\r\n          },\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          name: yName,\r\n          scale: yScale,\r\n          splitLine: {\r\n            lineStyle: {\r\n              type: \"dashed\",\r\n            },\r\n          },\r\n          axisLabel: {\r\n            fontSize: 13,\r\n            color: \"#8C8C8C\",\r\n            padding: [0, 10, 0, 0],\r\n          },\r\n        },\r\n        color: [\"#5291EC\", \"#16C06F\", \"#FFC706\", \"#8267DB\", \"#FF6573\"],\r\n        series: _data,\r\n      });\r\n    },\r\n    drawMixCount(opt = this.option) {\r\n      const {\r\n        legendData = [],\r\n        xAxisData = [],\r\n        data = [],\r\n        yAxis = {},\r\n        formatter = (res) => {\r\n          if (res.length) {\r\n            let html = `${res[0].axisValueLabel}<br/>`;\r\n            let all = 0;\r\n\r\n            res.forEach((v) => {\r\n              all += Number(v.value);\r\n              html += `${v.marker}${v.seriesName}：${v.value}<br/>`;\r\n            });\r\n\r\n            return html + `合计：${all}<br/>`;\r\n          }\r\n\r\n          return \"\";\r\n        },\r\n      } = opt;\r\n\r\n      this.$count.clear();\r\n      this.$count.setOption({\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          borderRadius: 6,\r\n          axisPointer: {\r\n            type: \"shadow\",\r\n          },\r\n          formatter: (data) => {\r\n            return formatter(data);\r\n          },\r\n        },\r\n        legend: {\r\n          data: legendData,\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: xAxisData,\r\n          axisLabel: {\r\n            fontSize: 12,\r\n            color: \"#8C8C8C\",\r\n          },\r\n        },\r\n        yAxis: yAxis,\r\n        color: [\"#5291EC\", \"#FFC706\", \"#8267DB\", \"#16C06F\", \"#FF6573\"],\r\n        series: data,\r\n      });\r\n    },\r\n    drawNewMixCount(opt = this.option) {\r\n      const {\r\n        legendData = [],\r\n        xAxisData = [],\r\n        data = [],\r\n        yAxis = {},\r\n        formatter = (res) => {\r\n          return \"\";\r\n        },\r\n      } = opt;\r\n      console.log(data);\r\n      formatter;\r\n      let colorList = [\"#FF981F\", \"#5291ec\"];\r\n      let _data;\r\n      _data = data.map((v, i) => {\r\n        return {\r\n          name: v.name,\r\n          type: \"line\",\r\n          symbolSize: \"7\",\r\n          smooth: true,\r\n          showAllSymbol: true,\r\n          hoverAnimation: false,\r\n          yAxisIndex: v.yAxisIndex,\r\n          data: v.data.map((_v, _i) => {\r\n            const week = xAxisData ? moment(xAxisData[_i]).format(\"E\") : 0;\r\n            return {\r\n              value: _v,\r\n              symbol: week === \"6\" || week === \"7\" ? \"circle\" : \"emptyCircle\",\r\n            };\r\n          }),\r\n          itemStyle:\r\n            data.length == 1\r\n              ? {\r\n                  color: \"#FF981F\",\r\n                }\r\n              : data.length == 2\r\n              ? { color: colorList[i] }\r\n              : {},\r\n        };\r\n      });\r\n      console.log(_data);\r\n      this.$count.clear();\r\n      console.log(xAxisData,yAxis);\r\n      this.$count.setOption({\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          formatter: (data) => {\r\n            return formatter(data);\r\n          },\r\n        },\r\n        legend: {\r\n          data: legendData,\r\n        },\r\n        grid: {\r\n          left: \"3%\",\r\n          right: \"6%\",\r\n          bottom: \"3%\",\r\n          containLabel: true,\r\n        },\r\n        xAxis: {\r\n          type: \"category\",\r\n          data: xAxisData,\r\n          axisLabel: {\r\n            fontSize: 12,\r\n            color: \"#8C8C8C\",\r\n          },\r\n          axisTick: {\r\n            alignWithLabel: true,\r\n          },\r\n        },\r\n        yAxis: yAxis,\r\n        color: [\"#FFC706\", \"#5291EC\", \"#8267DB\", \"#16C06F\", \"#FF6573\"],\r\n        series: _data,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.count-wrap {\r\n  background-color: #fff;\r\n  margin-top: 20px;\r\n  padding: 20px 0;\r\n\r\n  .count-option {\r\n    position: relative;\r\n    min-height: 40px;\r\n    margin-bottom: 30px;\r\n\r\n    .cetent {\r\n      display: flex;\r\n      position: absolute;\r\n      width: 300px;\r\n      top: 0;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n    }\r\n\r\n    .extra {\r\n      position: absolute;\r\n      right: 20px;\r\n      top: 0;\r\n      font-size: 12px;\r\n      text-align: right;\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .tag {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        .tag-item + .tag-item {\r\n          margin-left: 4px;\r\n        }\r\n\r\n        .tag-item {\r\n          display: flex;\r\n          align-items: center;\r\n\r\n          .name {\r\n            font-weight: bold;\r\n            margin-right: 2px;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .tags {\r\n        position: absolute;\r\n        bottom: -110px;\r\n        right: 0;\r\n        min-width: 460px;\r\n\r\n        .tag-item + .tag-item {\r\n          margin-left: 4px;\r\n        }\r\n\r\n        .tag-item {\r\n          display: flex;\r\n          align-items: center;\r\n\r\n          .name {\r\n            font-weight: bold;\r\n            margin-right: 2px;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /deep/.el-col {\r\n      .el-form-item {\r\n        width: 100%;\r\n        display: flex;\r\n        padding: 0 20px;\r\n\r\n        .el-form-item__content {\r\n          flex: 1;\r\n          text-align: left;\r\n\r\n          .el-select {\r\n            width: 100%;\r\n          }\r\n\r\n          .el-range-editor.el-input__inner {\r\n            width: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=504f9ee7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=504f9ee7&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"504f9ee7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('el-cascader-multi',{attrs:{\"data\":_vm.options,\"clearable\":\"\",\"filterable\":\"\",\"collapse-tags\":\"\",\"append-to-body\":false},on:{\"change\":_vm.change},model:{value:(_vm.insideValue),callback:function ($$v) {_vm.insideValue=$$v},expression:\"insideValue\"}}),(_vm.multi)?_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.open}},[_vm._v(\"批量\")]):_vm._e()],1),_c('el-dialog',{attrs:{\"title\":\"批量筛选\",\"visible\":_vm.dialogTableVisible,\"close-on-press-escape\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event},\"close\":_vm.cancel}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":6,\"placeholder\":\"请输入内容，回车分割\"},on:{\"input\":_vm.search},model:{value:(_vm.textarea),callback:function ($$v) {_vm.textarea=$$v},expression:\"textarea\"}}),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":_vm.clear}},[_vm._v(\"清空\")]),_c('el-divider',[_vm._v(\"搜索结果（\"+_vm._s(_vm.compress_result.length)+\"）；\"),_c('span',{staticStyle:{\"color\":\"#67c23a\"}},[_vm._v(\"已选择（\"+_vm._s(_vm.checkList.length)+\"）\")])]),(_vm.compress_result.length > 0)?[_c('el-checkbox',{attrs:{\"indeterminate\":_vm.isIndeterminate},on:{\"change\":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_c('el-checkbox-group',{on:{\"change\":_vm.handleCheckedItem},model:{value:(_vm.checkList),callback:function ($$v) {_vm.checkList=$$v},expression:\"checkList\"}},_vm._l((_vm.compress_result),function(item,index){return _c('el-checkbox',{key:index,attrs:{\"label\":item}})}),1)]:_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"暂无相关渠道\")]),_c('div',[(_vm.compress_result.length > 0)?_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\\n      \")]):_vm._e(),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div style=\"display:flex\">\r\n      <el-cascader-multi v-model=\"insideValue\" :data=\"options\" clearable filterable collapse-tags @change=\"change\"\r\n        :append-to-body=\"false\">\r\n      </el-cascader-multi>\r\n      <el-button v-if=\"multi\" style=\"margin-left:20px\" type=\"primary\" @click=\"open\">批量</el-button>\r\n    </div>\r\n\r\n    <el-dialog title=\"批量筛选\" :visible.sync=\"dialogTableVisible\" @close=\"cancel\" :close-on-press-escape=\"false\"\r\n      :close-on-click-modal=\"false\">\r\n      <el-input type=\"textarea\" :rows=\"6\" placeholder=\"请输入内容，回车分割\" v-model=\"textarea\" @input=\"search\">\r\n      </el-input>\r\n      <el-button @click=\"clear\" type=\"warning\" plain style=\"margin-top:20px\">清空</el-button>\r\n      <el-divider>搜索结果（{{ compress_result.length }}）；<span style=\"color:#67c23a\">已选择（{{ checkList.length }}）</span>\r\n      </el-divider>\r\n      <template v-if=\"compress_result.length > 0\">\r\n        <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\r\n        <el-checkbox-group v-model=\"checkList\" @change=\"handleCheckedItem\">\r\n          <el-checkbox v-for=\"(item, index) in compress_result\" :key=\"index\" :label=\"item\"></el-checkbox>\r\n        </el-checkbox-group>\r\n      </template>\r\n      <div style=\"text-align:center\" v-else>暂无相关渠道</div>\r\n\r\n      <div>\r\n        <el-button v-if=\"compress_result.length > 0\" @click=\"confirm\" type=\"primary\" style=\"margin-top:20px\">确定\r\n        </el-button>\r\n        <el-button @click=\"cancel\" type=\"info\" style=\"margin-top:20px\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport _ from 'lodash'\r\nexport default {\r\n  props: {\r\n    // 是否一次性筛选多个\r\n    multi: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    value: {\r\n      type: [String, Number, Array],\r\n      default: \"\",\r\n    },\r\n    optionsList: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    paramFlag: {\r\n      // 是否从外部传参进来\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    haveAll: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      timer: null,\r\n      isIndeterminate: true,\r\n      checkAll: false,\r\n      checkList: [],\r\n      compress_result: [], // 多渠道筛选结果\r\n      channelChildrens: [], // 具体的渠道数据\r\n      textarea: \"\",\r\n      dialogTableVisible: false,\r\n      insideValue: [],\r\n      options: [],\r\n      optionsCopy: [],\r\n      all: false,\r\n      //\r\n      cakey: 1,\r\n      selected: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    // 如果从父组件传递参数过来,否则使用默认接口获取数据\r\n    if (this.paramFlag) {\r\n      this.opertionListFun(this.optionsList);\r\n    } else if (!this.channel.length) {\r\n      this.fetchChannel();\r\n    } else {\r\n      this.opertionListFun(this.channel);\r\n    }\r\n    // this.insideValue = this.value;\r\n  },\r\n  watch: {\r\n    optionsList: {\r\n      handler: function () {\r\n        this.opertionListFun(this.optionsList);\r\n      },\r\n      deep: true,\r\n      immediate: true,\r\n    },\r\n    insideValue(val) {\r\n      if (val.length) {\r\n        this.clear() // 重置批量筛选\r\n        let arr = []\r\n        val.forEach(item => {\r\n          arr.push(item[1])\r\n        });\r\n        this.$emit(\"input\", arr);\r\n      } else {\r\n        this.$emit(\"input\", val);\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      channel: (state) => state.channel.data,\r\n    }),\r\n  },\r\n  methods: {\r\n    search() {\r\n      if (this.timer) {\r\n        clearTimeout(this.timer)\r\n      }\r\n      this.timer = setTimeout(() => {\r\n        // 空格区分\r\n        let textarea_arr = this.textarea.split(/[\\n,]/g)\r\n        this.compress_result = _.compact(_.intersection(textarea_arr, this.channelChildrens))\r\n        this.handleCheckAllChange(true)\r\n      }, 300)\r\n    },\r\n    // 全选\r\n    handleCheckAllChange(val) {\r\n      this.checkAll = true\r\n      this.checkList = val ? this.compress_result : [];\r\n      this.isIndeterminate = false;\r\n    },\r\n    // 单选\r\n    handleCheckedItem(value) {\r\n      let checkedCount = value.length;\r\n      this.checkAll = checkedCount === this.compress_result.length;\r\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.compress_result.length;\r\n    },\r\n    open() {\r\n      this.dialogTableVisible = true\r\n      this.insideValue = []\r\n    },\r\n    // 确认\r\n    confirm() {\r\n      this.$message.info('请选择')\r\n      if (this.checkList.length == 0) return\r\n      this.dialogTableVisible = false\r\n      this.$message.success('批量筛选成功，请点击查询')\r\n      this.$emit(\"input\", this.checkList);\r\n    },\r\n    clear() {\r\n      this.textarea = ''\r\n      this.checkList = ''\r\n      this.compress_result = ''\r\n      this.checkAll = false\r\n    },\r\n    cancel() {\r\n      // this.textarea = ''\r\n      // this.checkList = ''\r\n      // this.compress_result = ''\r\n      this.dialogTableVisible = false\r\n    },\r\n    opertionListFun(data = []) {\r\n      let arr_temp = [] // 存放所有渠道号\r\n      let arr = data.map((item) => {\r\n        let children = [];\r\n        if (item.channels) {\r\n          children = item.channels.map((_item) => {\r\n            arr_temp.push(_item)\r\n            return {\r\n              label: _item || _item.title || _item.label,\r\n              value: _item || _item.id || _item.value,\r\n            };\r\n          });\r\n        } else {\r\n          children = item.children.map((_item) => {\r\n            return {\r\n              label: _item.title || _item.label,\r\n              value: _item.id || _item.value,\r\n            };\r\n          });\r\n        }\r\n        return {\r\n          label: item.label || item.title,\r\n          value: item.value || item.id,\r\n          children\r\n        };\r\n      });\r\n      this.channelChildrens = arr_temp\r\n      this.options = arr;\r\n      this.optionsCopy = arr;\r\n    },\r\n    change(val) {\r\n      this.$emit('change', val)\r\n    },\r\n    removetag(e) {\r\n      let obj = {};\r\n      obj.stopPropagation = () => { };\r\n      try {\r\n        this.$refs.cascader.clearValue(obj);\r\n      } catch (err) {\r\n        this.$refs.cascader.handleClear(obj);\r\n      }\r\n    },\r\n    ...mapActions([\"getChannel\"]),\r\n    async fetchChannel() {\r\n      const [err, res] = await this.getChannel();\r\n\r\n      if (err) return;\r\n      this.opertionListFun(res)\r\n      // let arr = res.map((item) => {\r\n      //   return {\r\n      //     label: item.title,\r\n      //     value: item.id,\r\n      //     children: item.channels.map((_item) => {\r\n      //       return {\r\n      //         label: _item,\r\n      //         value: _item,\r\n      //       };\r\n      //     }),\r\n      //   };\r\n      // });\r\n      // this.options = arr;\r\n      // this.optionsCopy = arr;\r\n    },\r\n    onFilter(query) {\r\n      if (query) {\r\n        //val存在\r\n        this.options = this.optionsCopy.filter((item) => {\r\n          if (\r\n            !!~item.indexOf(query) ||\r\n            !!~item.toUpperCase().indexOf(query.toUpperCase())\r\n          ) {\r\n            return true;\r\n          }\r\n        });\r\n      } else {\r\n        this.options = this.optionsCopy;\r\n      }\r\n    },\r\n    onInputAll(val) {\r\n      if (val) {\r\n        this.insideValue = this.options;\r\n      } else {\r\n        this.insideValue = [];\r\n      }\r\n    },\r\n    isSameArray(originArr1, originArr2) {\r\n      const arr1 = originArr1.concat([]);\r\n      const arr2 = originArr2.concat([]);\r\n\r\n      const _arr1 = arr1.sort().join(\"\");\r\n      const _arr2 = arr2.sort().join(\"\");\r\n\r\n      return _arr1 === _arr2;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.box {\r\n  max-height: 40px;\r\n}\r\n\r\n/deep/ .multi-cascader-style {\r\n  width: 100% !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b91e7e3e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b91e7e3e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b91e7e3e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}