(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94d2a828"],{1419:function(e,t,a){},"21a8":function(e,t,a){"use strict";a("1419")},"78b3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("FilterLayout",{on:{onSubmit:e.onSubmit},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"百度APPID",prop:"platform_appid"}},[a("el-input",{attrs:{placeholder:"请输入百度APPID"},model:{value:e.searchForm.platform_appid,callback:function(t){e.$set(e.searchForm,"platform_appid",t)},expression:"searchForm.platform_appid"}})],1)],1),a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"超管账户ID",prop:"account_id"}},[a("el-input",{attrs:{placeholder:"请输入超管账户ID"},model:{value:e.searchForm.account_id,callback:function(t){e.$set(e.searchForm,"account_id",t)},expression:"searchForm.account_id"}})],1)],1),a("el-col",{attrs:{md:6,sm:12}},[a("el-form-item",{attrs:{label:"secretKey",prop:"secret"}},[a("el-input",{attrs:{placeholder:"请输入secretKey"},model:{value:e.searchForm.secret,callback:function(t){e.$set(e.searchForm,"secret",t)},expression:"searchForm.secret"}})],1)],1)],1),a("TableLayout",{attrs:{column:e.column,data:e.tableData.data,total:e.tableData.total,loading:e.tableData.loading,currentPage:e.tableOpt.currentPage,params:e.searchForm,layout:"total, prev, pager, next"},on:{pageChange:e.onPageChange},scopedSlots:e._u([{key:"table-option",fn:function(){return[a("el-button",{attrs:{type:"primary"},on:{click:e.onShowAdd}},[e._v("新增授权")])]},proxy:!0},{key:"option",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.onEdit(t.row)}}},[e._v("编辑")])]}}])}),a("el-dialog",{attrs:{title:"百度SEM超管授权",visible:e.addVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"100px",rules:e.addRules}},[a("el-form-item",{attrs:{label:"百度APPID",prop:"appId"}},[a("el-input",{attrs:{disabled:e.edit,placeholder:"在百度开发者应用管理中获取"},model:{value:e.addForm.appId,callback:function(t){e.$set(e.addForm,"appId",t)},expression:"addForm.appId"}})],1),a("el-form-item",{attrs:{label:"secretKey",prop:"secretKey"}},[a("el-input",{attrs:{placeholder:"在百度开发者应用管理中获取"},model:{value:e.addForm.secretKey,callback:function(t){e.$set(e.addForm,"secretKey",t)},expression:"addForm.secretKey"}})],1),a("el-form-item",{attrs:{label:"authCode",prop:"authCode"}},[a("el-input",{attrs:{placeholder:"通过粘贴授权URL获取(有效期10分钟)"},model:{value:e.addForm.authCode,callback:function(t){e.$set(e.addForm,"authCode",t)},expression:"addForm.authCode"}})],1),a("el-form-item",{attrs:{label:"超管账户ID",prop:"userId"}},[a("el-input",{attrs:{disabled:e.edit,placeholder:"百度超管账户ID"},model:{value:e.addForm.userId,callback:function(t){e.$set(e.addForm,"userId",t)},expression:"addForm.userId"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("确 定")])],1)],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("3835")),s=(a("96cf"),a("1da1")),i=a("ade3"),c=a("2f62"),l=a("2b38"),d=a("bb8b");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={components:{FilterLayout:l["a"],TableLayout:d["a"]},data:function(){return{column:[{prop:"platform_appid",label:"百度APPID"},{prop:"secret",label:"secretKey"},{prop:"account_id",label:"超管账户ID"},{prop:"option",label:"操作"}],searchForm:{account_id:"",platform_appid:"",secret:""},tableOpt:{currentPage:1,pageSize:10},tableData:{data:[],total:0,loading:!1,currentPage:1,pageSize:10},addVisible:!1,addForm:{appId:"",authCode:"",secretKey:"",userId:""},addRules:{appId:[{required:!0,message:"请输入百度APPID"}],secretKey:[{required:!0,message:"请输入秘钥"}],authCode:[{required:!0,message:"请输入验证auth_code"}],userId:[{required:!0,message:"请输入超管账户ID"}]},edit:!1}},mounted:function(){this.fetchList()},computed:p({},Object(c["d"])({channel:function(e){return e.channel.data},App:function(e){return e.app.data}})),methods:{onSubmit:function(){this.tableOpt.currentPage=1,this.fetchList()},onPageChange:function(e){this.tableOpt.currentPage=e,this.fetchList()},fetchList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r,o,s,i,c,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.searchForm,a=this.tableOpt,this.tableData.loading=!0,e.next=4,this.$http.post("Invest_Config/authBaiduList",p(p({},t),a));case 4:if(r=e.sent,o=Object(n["a"])(r,2),s=o[0],i=o[1],this.tableData.loading=!1,!s){e.next=11;break}return e.abrupt("return");case 11:c=i.data,l=i.currentPage,d=i.total,this.tableData.data=c,this.tableData.currentPage=l,this.tableData.total=d;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onShowAdd:function(){this.addVisible=!0,this.edit=!1,this.$refs["addForm"]&&this.$refs["addForm"].resetFields()},onAdd:function(){var e=this;this.$refs["addForm"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a,r){var o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.addForm),a){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,e.$http.post("Invest_Config/addBaiduEngine",p({},e.addForm));case 5:if(o=t.sent,s=Object(n["a"])(o,2),i=s[0],s[1],!i){t.next=11;break}return t.abrupt("return");case 11:e.$message({message:e.edit?"编辑授权成功":"新增授权成功",type:"success"}),e.addVisible=!1,e.fetchList();case 14:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())},onEdit:function(e){var t=this;this.addVisible=!0,this.edit=!0,this.$nextTick((function(){t.addForm=p(p({},t.addForm),{},{secretKey:e.secret,appId:e.platform_appid,userId:e.account_id})}))}}},b=m,f=(a("21a8"),a("2877")),h=Object(f["a"])(b,r,o,!1,null,"5d45d6c5",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-94d2a828.1.0.0.1672021042960.js.map